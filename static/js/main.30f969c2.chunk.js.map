{"version":3,"sources":["apis/youtubeSearch.js","apis/getAudioLink.js","images/user-svg-default.svg","images/videobgr1.mp4","images/birth2.jpg","images/videobgr5.mp4","images/videobgr3.mp4","images/videobgr6.mp4","images/moon.svg","images/sun.svg","images/dottedCircle.svg","images/CompletedTick.svg","images/DownloadIcon.svg","images/Logosvg2.svg","images/birth1.jpg","images/birth3.jpg","images/birth4.jpg","images/birth5.jpg","images/birth6.jpg","images/birth7.jpg","images/birth8.jpg","images/happyny.mp3","components/RenderDatabase.js","components/DownloadDeleteDialog.js","components/GlobalState.js","images/svgnds.png","external/saveSong.js","helpers/en_deCrypt.js","apis/axios.js","external/fetchIPclient.js","components/Hero.js","pages/Home.js","components/Navbar.js","components/header/AutoSearchResult.js","components/header/SearchBox.js","components/header/SimpleAppBar.js","components/SwipeMenu.js","components/SnackbarMessage.js","components/sections/SettingsPage.js","components/player/PlayPauseButton.js","components/player/NextButton.js","components/player/PreviousButton.js","components/player/MusicArt.js","components/player/SleepTimer.js","components/player/TimelineController.js","components/player/VolumeController.js","components/RelatedVideos.js","components/player/MainPlayer.js","components/CurrentSection.js","components/player/TopBar.js","components/player/MiniMusicArt.js","components/Loading-mini.js","pages/Error.js","components/App2.js","pages/Page2.js","pages/AuthWrapper.js","components/aboutApp/FeedbackApp.js","pages/PrivateRoute.js","components/ChangePassword.js","components/DragDrop.js","components/UpLoadFilePhoto.js","components/SendVerifyCommunication.js","components/UserBar.js","components/Loading.js","components/library/AudioVisualiser.js","components/library/AudioAnalyser.js","components/Draggable.js","components/App3.js","service.js","realtime.js","store.js","components/Video.js","components/Videos.js","components/Chat.js","components/MainVideo.js","components/GreetingApp4.js","pages/Page3.js","components/aboutApp/DescriApp.js","components/aboutApp/ContributorsApp.js","components/aboutApp/PrivateApp.js","components/data.js/dataListQuestionsHome.js","components/data.js/dataListQuestionsMusic.js","components/data.js/dataListQuestionsWeather.js","components/data.js/dataListQuestionsChat.js","components/data.js/dataListQuestionsReTrille.js","components/aboutApp/HelpApp.js","pages/About.js","pages/Maintenance.js","components/data.js/dataListWishes.js","components/Wheel.js","components/Animation/Firework.js","pages/Landing.js","App.js","serviceWorker.js","notifications/Notification.js","notifications/NotificationProvider.js","index.js","helpers/objectid.js","components/Datetime1.js","components/Banner.js"],"names":["axios","create","baseURL","params","part","videoCategoryId","type","key","keys","process","split","Math","floor","random","length","selectRandomKey","module","exports","currentId","DownloadDeleteDialog","isOpen","handleCancel","handleDelete","useState","checkBox","setCheckBox","React","useEffect","console","log","Dialog","style","zIndex","open","onClose","aria-labelledby","aria-describedby","DialogTitle","id","DialogContent","FormControlLabel","control","Checkbox","color","checked","onChange","e","target","value","label","DialogActions","Button","onClick","useSongMethods","songId","useContext","GlobalContext","dispatch","setSnackbarMsg","useCallback","data","snippet","deleteDialogState","setDeleteDialogState","dontAskPopup","setDontAskPopup","popupLocalState","localStorage","getItem","handleDownload","a","getAudioLink","get","res","downloadSong","status","deleteTheSong","deleteSongAudio","setItem","deleteDialogComponent","handleRemoveSong","RenderDatabase","props","songs","window","innerHeight","setWindowHeight","handleClick","song","videoId","audio","thumbnail","title","channelTitle","maxThumbnail","sdThumbnail","returnAnimatedClass","downloadState","renderResult","map","index","ListItem","alignItems","button","ListItemAvatar","Avatar","className","width","height","marginRight","alt","src","ListItemText","primary","secondary","Fragment","Typography","component","variant","CompletedTick","DownloadIcon","renderItem","forwardRef","row","ref","maxWidth","left","transform","Divider","itemCount","innerWidth","createContext","initialState","searchState","searchResult","relatedVideos","menuOpen","snackbarMsg","currentVideoSnippet","themeSelectValue","reducer","state","action","GlobalState","globalState","useReducer","Provider","children","db","Dexie","version","stores","updatePlayingSong","videoObj","timestamp","Date","now","playbackTimes","update","rating","add","rateSong","getHistory","orderBy","limit","reverse","toArray","songsByTimeStamp","getLikedSongs","where","between","minKey","maxKey","likedSongs","getDownloadedSongs","downloadedSongs","removeDownloadingState","modify","x","url","thumbURL","Promise","all","fetchProxiedBlob","thumbnailBlob","songBlob","URL","resolve","reject","xhr","XMLHttpRequest","responseType","onload","response","statusText","send","setTimeout","abort","keySecret","keySecret2","iv","crypto","randomBytes","encrypt","text","salt","CryptoJS","lib","WordArray","encrypted","AES","PBKDF2","keySize","iterations","padding","pad","Pkcs7","mode","CBC","toString","err","encrypt2","cipher","createCipheriv","Buffer","concat","final","content","Hero","video1","urlVideo","setUrlVideo","videos","video5","video3","video6","temp","randVideo","muted","autoPlay","loop","Wrapper","styled","nav","Home","useAuth0","isAuthenticated","loginWithRedirect","logout","user","useCookies","isUser","setCookie","path","Helmet","Banner","subtitle","picture","name","nickname","toUpperCase","to","returnTo","location","origin","Navbar","active","prevScrollpos","pageYOffset","toggleVisibility","currentScrollPos","document","getElementById","top","setState","handleToggle","onClickOutSide","contains","componentWillUnmount","removeEventListener","pathname","addEventListener","this","maxHeight","logo","Component","AutoSearchResult","results","onSearchSelect","result","ListItemIcon","paddingLeft","Search","List","withRouter","history","URLSearchParams","search","setSearchState","setSearchResult","searchQuery","setSearchQuery","autoSearchData","setAutoSearch","ytSearchQuery","setYtSearchQuery","isPopperOpen","setPopper","push","getAutocomplete","fetchJsonp","then","json","catch","ex","youtubeSearch","q","maxResults","items","searchYt","query","popperResult","Grid","container","justify","CircularProgress","IconButton","goBack","aria-label","ArrowBack","onSubmit","preventDefault","lastChild","blur","onSearchSubmit","InputBase","fullWidth","placeholder","autoFocus","Popper","anchorEl","popperOptions","modifiers","preventOverflow","placement","styles","root","flexGrow","textAlign","input","HideOnScroll","trigger","useScrollTrigger","Slide","appear","direction","in","changeAppBar","AppBar","position","Toolbar","Menu","SwipeMenu","setMenuOpen","setThemeSelectValue","isNight","setIsNight","changeTheme","theme","SwipeableDrawer","onOpen","margin","sun","moon","animate","scale","rotate","Link","Settings","Feedback","HelpOutline","People","Info","SnackbarMessage","setOpen","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","ContentProps","message","SettingsPage","selectComp","Box","m","Select","displayEmpty","MenuItem","gutterBottom","FormControl","FormGroup","labelPlacement","PlayPauseButton","player","audioState","minimized","size","pause","play","stopPropagation","disableFocusRipple","disableRipple","Pause","fontSize","opacity","PauseCircleFilled","PlayArrow","PlayCircleFilled","onPlayNext","SkipNext","playPrevious","SkipPrevious","latestTouchTap","time","timerTimeout","MusicArt","audioEl","swipeUpHandler","useSwipeable","onSwipedUp","dislikeSong","heartStyle","setHeartStyle","background","circleSvg","transition","artContainerStyle","likeSong","marginTop","event","touchTap","getTime","currentTarget","isFastDblTouchTap","isDblTouchTap","div","drag","dragElastic","dragTransition","bounceStiffness","bounceDamping","dragConstraints","right","bottom","FavoriteTwoTone","boxShadow","createObjectURL","imgProps","onLoad","naturalWidth","checkImg","align","re","RegExp","replace","shortTitle","PrettoSlider","withStyles","thumb","marginLeft","borderRadius","border","track","rail","Slider","MiniSlider","display","formatTime","secs","minutes","seconds","ceil","TimelineController","currentTime","setCurrentTime","setTimeInterval","setInterval","clearInterval","max","duration","newValue","VolumeController","setPlayerState","volume","setVolume","spacing","item","VolumeUp","xs","newVal","SleepTimer","renderResult2","relatedVideosVar","previousLocation","sliderValue","changeSliderValue","checkbox","setCheckbox","isTimerSet","setIsTimerSet","setTimer","clearTimeout","sleepTimerObj","sleepTimerSettings","JSON","parse","getSleepTimeFromLocalStoarge","alwaysOn","Timer","TimerOff","stepSize","gradientColorFrom","gradientColorTo","knobRadius","progressWidth","circleWidth","Switch","removeItem","stringify","setSleepTimeToLocalStorage","DownloadLoader","LinearProgress","TopBar","isSongDownloaded","setSongDownloaded","isSongDownloading","setSongDownloading","Reply","navigator","share","href","error","DoneOutline","GetApp","ExpandMore","MiniMuiscArt","playPause","playNext","emptyPlayer","Close","shuffle","arry","reduce","acc","_","i","rnd","RelatedVideos","toggleMaxPlaylist","setPlaylist","playerState","setRelatedVideos","setIsRepeatOn","songsDownloadedState","isRepeatOn","isLoadList","setIsLoadList","setCurrentVideoSnippet","spring","damping","stiffness","li","positionTransition","video","MusicVideo","slice","KeyboardArrowDown","KeyboardArrowUp","dense","MainPlayer","isItFromPlaylist","setIsItFromPlaylist","setSongsDownloaded","setAudioState","setMinimized","setRating","isNextFromMini","setIsNextFromMini","body","querySelector","audioPlayer","useRef","current","proccessStateLoopList","keyState","setupMediaSessions","mediaSession","metadata","MediaMetadata","artist","artwork","sizes","setActionHandler","playAudio","getAudio","searchRelated","relatedToVideoId","setAudioSrcAndPlay","setVideoSnippet","hidden","setVideoSnippet2","currentIndex2","findIndex","video2","currentIndex","playerStyle","overflow","expandPlayer","modal","updateSongDB","initPosition","containerRef","swipeHandlerMaximized","onSwipedDown","onSwiping","changedTouches","screenY","positionDifference","round","containerRefStyle","onSwiped","onSwipedRight","playTimeout","onSwipedLeft","swipeHandlerMin","fetchAndSetCurrentVideoSnippet","justifyContent","PreviousButton","NextButton","returnMaximizedPlayer","MiniMusicArt","returnMinimizedPlayer","onLoadStart","onLoadedData","onPlay","onPlaying","onPause","onEnded","LoadingMini","Error","LoginPage","lazy","SearchResult","HomePage","FeedbackForm","PrivacyPage","DonatePage","ContributorsPage","CustomTab","indicator","Tabs","CustomTabs","selected","Tab","deferredPrompt","undefined","songsHistoryState","setSongsHistory","songsLikedState","setSongsLiked","tabValue","setTabValue","updateCount","setUpdateCount","redirectState","setRedirectState","circularLoader","fetchSongs","on","c","listen","continueToHome","prompt","userChoice","choiceResult","outcome","fallback","exact","render","Errors","returnMainPlayer","indicatorColor","textColor","icon","Favorite","History","defaultTheme","palette","blueGrey","third","blue","main","typography","useNextVariants","darkTheme","muiDarkTheme","createMuiTheme","muiDefaultTheme","App2","checkDarkMode","selectedTheme","hrs","getHours","useCheckDarkmode","userAgent","match","overscrollBehavior","classList","remove","CurrentSection","App","captchaToken","section","AuthWrapper","isLoading","loadingGif","PrivateRoute","rest","ChangePassword","fetchIPclient","ipClient","handleEditPassword","store","newPassword","reNewPassword","emailDefault","tokenDefault","email","changed","backHome","hashNewPasswowrd","requestChangePassword","isShowForm","substring","hash","classNames","htmlFor","required","autoComplete","defaultImg","DragDrop","bgColor","setBgColor","changeBgColor","backgroundColor","onDragEnter","dataTransfer","dropEffect","onDragLeave","onDragOver","onDrop","files","sendFiles","UpLoadFilePhoto","sendMessage","reader","FileReader","getRandomInt","alert","readAsDataURL","SendVerifyCommunication","info","handleSendRequire","step1","handleShowFormVerifyEmail","sendVerifyCommunication","token","tokenId","onTxtfieldChange","onClickOutSide0","delImage","img","messages","filter","currentObject","setSuccessful","step2","typeIdentify","renderMessage","cursor","sendEmailVerify","images","uniq","post","age","fullName","fullAddress","numbermobile","currentLive","gender","nationality","deviceName","profession","company","showFormVerifyCommunicate","showFormVerifyEmail","for","prevState","UserBar","handleSendGetPassword","requestGetPassword","isFormGetPassword","showUserFrom","oldPassword","hashNewPassword","hashOldPassword","editPassword","changeFormEdit","showUserMenu","handleCreateR","userId","generateId","dec2hex","dec","len","arr","Uint8Array","getRandomValues","Array","from","join","changeControl","isLogin","formData","FormData","append","uploadUserAvatar","handleEditNow","edit","editUser","editAcc","onClickhiddenshowFormVerifyCommunicate","hashPassword","password","login","ip","repassword","register","phone","onTxtfieldEChange","birthday","country","ID","me","getCurrentUser","profileImg","verified","textTransform","getRootProps","getInputProps","Tooltip","signOut","Loading","AudioVisualiser","canvas","createRef","draw","audioData","context","getContext","sliceWidth","lineWidth","strokeStyle","clearRect","beginPath","moveTo","y","lineTo","stroke","AudioAnalyser","tick","bind","audioContext","AudioContext","webkitAudioContext","analyser","createAnalyser","dataArray","frequencyBinCount","source","createMediaStreamSource","connect","rafId","requestAnimationFrame","getByteTimeDomainData","cancelAnimationFrame","disconnect","Draggable","pressed","setPressed","setPosition","onMouseMove","movementX","movementY","onMouseDown","onMouseUp","urlServer","App3","updateTheme","isDark","themeBool","handleChangeTheme","sendThemeToLocal","setThemeToLocalStorage","idRoomChat","handleCreateRoom","trim","messageId","ObjectID","channel","getActiveChannel","channelId","currentUser","_id","addMessage","iShowConfig","redirect","onClickOutSide1","refSiderBar","isBarLeft","onClickOutSide2","refSiderBarRight","isBarRight","showEmoji","upLoadfile","sendTyping","activeChannel","lastUpdateTime","isTyping","addTyping","startCheckingTyping","typingInterval","stopCheckingTyping","renderChannelTitle","members","getMembersFromChannel","names","forEach","handleOnClick","addUserToChannel","searchUser","_onCreateChannel","currentUserId","lastMessage","OrderedMap","isNew","created","typing","set","onCreateNewChannel","scrollMessagesToBottom","messagesRef","scrollTop","scrollHeight","handlePlayMusic","music","Audio","handleStopMusic","handleSubmit","newMessage","_onResi","showSearchUser","isShowGetAud","record","openToolChat","English","mediaDevices","getUserMedia","chunks","recoder","MediaRecorder","start","ondataavailable","namefile","File","fileName","file","getTracks","stop","total","avatars","defaultUserImg","getThemeFromLocalStorage","isConnected","getMessagesFromChannel","channels","getChannels","usersList","getSearchUsers","searchTxt","startSearchUsers","avatar","setActiveChannelId","renderChannelAvatar","mess","controls","fromNow","onEmojiClick","emojiObject","emoji","skinTone","SKIN_TONE_MEDIUM_DARK","disabled","onKeyUp","keyCode","shiftKey","startRecording","stopRecording","member","isOnline","removeMemberFromChannel","apiURL","Service","endpoint","options","headers","Realtime","ws","reconnect","msg","decoMessage","payload","userId_remove","updateMemberChannel","field","updateInfoUser","obj","typier","onUpdateTypestatus","onUpdateUserStatus","notify","onAddMessage","onAddChannel","removeMemberChannelFormRealtime","setCurrentUser","users","online","lastConnection","addUserToCache","messageObject","setMessage","each","memberId","msgId","addChannel","msgString","getUserTokenId","WebSocket","onopen","authentication","onmessage","readMessage","onclose","onerror","Store","appComponent","processData","fetch","covid19","continent","flag","countryInfo","iso2","caseCvid19","cases","recoveredCvid19","recovered","deathsCvid19","deaths","recoveredPerOneMillionCvid19","recoveredPerOneMillion","markList","processlistMarkMe","lat","toFixed","lng","localtime","cloud","humidity","feelslike_c","temp_c","gust_kph","is_day","last_updated","precip_mm","pressure_mb","uv","vis_km","wind_degree","wind_dir","wind_kph","descript","condition","hour","forecast","forecastday","astro","moon_illumination","moon_phase","moonrise","moonset","sunrise","sunset","addNewMark","userToken","authorization","service","sessionStorage","translateBody","msgLang","configReTrille","config","micLang","translate","engine","app","messageDefaults","messageVoices","listTypeMessageDefaults","activeChannelId","getUserFromLocalStorage","getTokenFromLocalStorage","realtime","fetchUserChannels","allMarkOther","valueSeq","marks","mark","loggedUser","callback","transcript","messageList","messageList2","messageList3","includes","keyWord","replyObj","proccessTranscript","msgOriginId","showAuthor","nameOri","txtMessage","messageIdReply","reply","sort","b","messagevoices","messagevoice","emailObj","unset","contents","success","city","infoObj","editInfoUser","firstChannelId","fetchChannelMessages","loadUserAvatar","clear","accessToken","clearCacheData","setUserToken","bcrypt","hashSync","userEmail","toLower","isFetchMessages","first","userCurrent","userIdCurrent","updated","forceUpdate","Video","mutemic","stream","srcObject","kind","enabled","mic","mutecamera","camera","videoVisible","videoStream","nextProps","videoType","videoTrack","getVideoTracks","onmute","videoMuted","onunmute","audioTrack","getAudioTracks","muteControls","showMuteControls","frameStyle","visibility","videoStyles","Videos","rVideo","muteTrack","selectedVideo","switchVideo","_video","rVideos","remoteStreams","NoOfRemoteStreams","_rVideos","float","objectFit","minWidth","minHeight","overflowX","overflowY","whiteSpace","Chat","uid","setUser","imageZoom","setImageZoom","selectedImage","setSelectedImage","scrollToBottom","chat","userType","msgDiv","sender","MainVideo","getLocalStream","mirror","localStream","whoisOnline","sendToPeer","local","socket","messageType","socketID","emit","createPeerConnection","pc","RTCPeerConnection","pc_config","peerConnections","onicecandidate","candidate","remote","oniceconnectionstatechange","ontrack","_remoteStream","remoteVideo","addTrack","_remoteVideo","MediaStream","remoteStream","close","componentDidMount","io","serviceIP","room","substr","peerCount","stopTracks","handleSendChannelStatusChange","sendChannels","readyState","sendChannel","createDataChannel","handleReceiveMessage","handleReceiveChannelStatusChange","receiveChannel","ondatachannel","createOffer","sdpConstraints","sdp","setLocalDescription","addStream","setRemoteDescription","RTCSessionDescription","createAnswer","addIceCandidate","RTCIceCandidate","disconnectSocket","socketToDisconnect","urls","disconnected","Object","values","GreetingApp4","setUrl","setMe","setError","setEmail","passWord","setPassWord","setID","setIpClient","isContinue","setIsContinue","isHaveAccount","setIsHaveAccount","createQuicklyNewAcc","chars","randPassWord","fill","randEmail","randName","loginWithRandAccountAndManage","loginWithRandAccountAndContinue","Page3","DescriApp","Container","FeedbackApp","isFormActive","setIsFormActive","isEmail","setIsEmail","isSending","setIsSending","formEl","formElEmail","handleButton","submitFormEmail","reset","submitForm","loadReCaptcha","sitekey","verifyCallback","TextField","multiline","rows","ContributorsApp","viewBox","d","PrivacyApp","showBtnBackToTop","linkActive","scrollIntoView","behavior","block","link","list","scrollToTop","resolve1","resolve2","resolve3","resolve4","toggleActiveQuestion","questKey","temps","difference","listQuestionsHome","listQuestionsMusic","listQuestionsWeather","listQuestionsChat","listQuestionsReTrille","home","weather","retrille","quest","About","poster","xmlns","aria-hidden","focusable","Maintenance","attributeName","begin","dur","repeatCount","promise","Wheel","number","setNumber","setIDUser","verify","setVerify","msgSym","setmsgSym","birth2","urlAvt","setUrlAvt","births","birth1","birth3","birth4","birth5","birth6","birth7","birth8","Wishes","dataWishes","handleChangeAvt","speech","SpeechSynthesisUtterance","voices","speechSynthesis","getVoices","rate","pitch","lang","voice","voiceURI","speak","readOutLoud","getVerifyFromSessionStore","handleSendMess","sendPromise","ip_address","region","connection","autonomous_system_organization","wish","openGift","Firework","isPlaySong","fancy","PI2","PI","min","Birthday","resize","fireworks","counter","center","spawnA","spawnB","spawnC","spawnD","evt","clientX","touches","pageX","clientY","pageY","count","delta","ctx","globalCompositeOperation","fillStyle","fillRect","firework","dead","targetX","targetY","shade","offsprings","xDiff","yDiff","abs","shift","madeChilds","babies","cos","sin","point","arc","onresize","onclick","ontouchstart","Page4","Page2","Boolean","hostname","Notification","exit","setExit","setWidth","intervalID","setIntervalID","handleStartTimer","prev","handlePauseTimer","onMouseEnter","onMouseLeave","NotificationProvider","el","note","ReactDOM","domain","clientId","redirectUri","serviceWorker","ready","registration","unregister","MACHINE_ID","parseInt","checkForHexRegExp","hasBufferType","_bsontype","generate","cacheHexString","__id","valid","isValid","createFromHexString","toHexString","hexTable","prototype","hexString","_Buffer","convertToHex","charCodeAt","get_inc","getInc","pid","inc","buffer","format","copy","inspect","toJSON","equals","otherId","toLowerCase","getTimestamp","setTime","createPk","createFromTime","decodeLookup","bytes","string","array","n","test","defineProperty","enumerable","ObjectId","Datetime1","loopTime","toLocaleDateString","toLocaleTimeString"],"mappings":"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","file":"static/js/main.30f969c2.chunk.js","sourcesContent":["import axios from \"axios\";\n\n// put your api keys in .env file you can get those here - https://developers.google.com/youtube/v3/getting-started\nexport const selectRandomKey = () => {\n  const keys = process.env.REACT_APP_YouTube_Keys.split(\" \"); //we are splitting the api keys to make an array\n  const random = Math.floor(Math.random() * Math.floor(keys.length)); //this will get a random number\n  return keys[random];\n};\n\nexport default axios.create({\n  baseURL: \"https://www.googleapis.com/youtube/v3\",\n  params: {\n    part: \"snippet\",\n    videoCategoryId: \"10\",\n    type: \"video\",\n    key: selectRandomKey()\n  }\n});\n","import axios from 'axios';\n\nexport default axios.create({\n   baseURL: 'https://ndsbirthdayserver.herokuapp.com',\n  // baseURL: 'https://server.ylight.xyz',\n});\n","module.exports = __webpack_public_path__ + \"static/media/user-svg-default.6b4e3df1.svg\";","module.exports = __webpack_public_path__ + \"static/media/videobgr1.855c1879.mp4\";","module.exports = __webpack_public_path__ + \"static/media/birth2.67121a11.jpg\";","module.exports = __webpack_public_path__ + \"static/media/videobgr5.857b6cd6.mp4\";","module.exports = __webpack_public_path__ + \"static/media/videobgr3.28fb8ceb.mp4\";","module.exports = __webpack_public_path__ + \"static/media/videobgr6.fb38e7d1.mp4\";","module.exports = __webpack_public_path__ + \"static/media/moon.bfe0ee19.svg\";","module.exports = __webpack_public_path__ + \"static/media/sun.f4e2a770.svg\";","module.exports = __webpack_public_path__ + \"static/media/dottedCircle.c96ca893.svg\";","module.exports = __webpack_public_path__ + \"static/media/CompletedTick.ffcb10fd.svg\";","module.exports = __webpack_public_path__ + \"static/media/DownloadIcon.e927ae19.svg\";","module.exports = __webpack_public_path__ + \"static/media/Logosvg2.7106cd73.svg\";","module.exports = __webpack_public_path__ + \"static/media/birth1.e9cb119f.jpg\";","module.exports = __webpack_public_path__ + \"static/media/birth3.33b487da.jpg\";","module.exports = __webpack_public_path__ + \"static/media/birth4.f28a5701.jpg\";","module.exports = __webpack_public_path__ + \"static/media/birth5.2860e479.jpg\";","module.exports = __webpack_public_path__ + \"static/media/birth6.7ee889ca.jpg\";","module.exports = __webpack_public_path__ + \"static/media/birth7.d01e8d1a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/birth8.4c58c179.jpg\";","module.exports = __webpack_public_path__ + \"static/media/happyny.47338a09.mp3\";","import React, { useContext, useState, useEffect } from \"react\";\r\n// import {\r\n//   List,\r\n//   AutoSizer,\r\n//   CellMeasurer,\r\n//   CellMeasurerCache\r\n// } from \"react-virtualized\";\r\n\r\nimport { DynamicSizeList as List } from \"react-window-dynamic\";\r\n\r\n\r\nimport CompletedTick from \"../images/CompletedTick.svg\";\r\nimport DownloadIcon from \"../images/DownloadIcon.svg\";\r\n\r\nimport {\r\n  ListItem,\r\n  Typography,\r\n  ListItemAvatar,\r\n  Avatar,\r\n  Divider,\r\n  ListItemText\r\n} from \"@material-ui/core\";\r\n\r\nimport DownloadDeleteDialog from \"./DownloadDeleteDialog\";\r\n\r\nimport { GlobalContext } from \"./GlobalState\";\r\n\r\nimport getAudioLink from \"../apis/getAudioLink\";\r\nimport { downloadSong, deleteSongAudio } from \"../external/saveSong\";\r\n\r\n// const cache = new CellMeasurerCache({\r\n//   minHeight: 50,\r\n//   defaultHeight: 60,\r\n//   fixedWidth: true\r\n//   // keyMapper: () => 1\r\n// });\r\n\r\nlet currentId;\r\n\r\nexport const useSongMethods = songId => {\r\n  const [{}, dispatch] = useContext(GlobalContext);\r\n\r\n  const setSnackbarMsg = React.useCallback(\r\n    data => {\r\n      dispatch({ type: \"setSnackbarMsg\", snippet: data });\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const [deleteDialogState, setDeleteDialogState] = useState(false);\r\n  const [dontAskPopup, setDontAskPopup] = useState(null);\r\n\r\n  useEffect(() => {\r\n    //convert string to bool\r\n    const popupLocalState = localStorage.getItem(\"dontAskPopup\") === \"true\";\r\n    setDontAskPopup(popupLocalState);\r\n    // for popup settings\r\n  }, []);\r\n\r\n  const handleDownload = async songId => {\r\n    // console.log(\"here is the id\", songId);\r\n    const res = await getAudioLink.get(\"/song\", {\r\n      params: { id: songId }\r\n    });\r\n    // first we will fetch the song link then we will download it\r\n    // the download song function takes id and the url\r\n    const status = await downloadSong(songId, res.data);\r\n    // after the downloading is done we will remove the downloading class\r\n    // set the snackbar message\r\n    setSnackbarMsg(\"Song Downloaded\");\r\n    console.log(\"song status\", status);\r\n  };\r\n\r\n  const disablePopup = () => {\r\n    localStorage.setItem(\"dontAskPopup\", true);\r\n    setDontAskPopup(true);\r\n  };\r\n\r\n  const deleteTheSong = async checkBox => {\r\n    await deleteSongAudio(currentId);\r\n    setDeleteDialogState(false);\r\n    setSnackbarMsg(\"Deleted Successfully\");\r\n\r\n    console.log(currentId, checkBox);\r\n    // we will set it to localstorage the popup option\r\n    if (checkBox) {\r\n      disablePopup();\r\n    }\r\n  };\r\n\r\n  // hadnling download dialog\r\n  const handleRemoveSong = songId => {\r\n    console.log(\"handle remove dude\");\r\n    currentId = songId;\r\n    // when user clicks on the download badge we will check the state\r\n    // then delete the song without showing the popup if dontAskPopup is true\r\n    // and delete the song by calling deleteTheSong\r\n    dontAskPopup ? deleteTheSong() : setDeleteDialogState(true);\r\n  };\r\n\r\n  const deleteDialogComponent = dontAskPopup ? null : (\r\n    <DownloadDeleteDialog\r\n      isOpen={deleteDialogState}\r\n      handleCancel={() => setDeleteDialogState(false)} // we will just hide the dialog on cancel\r\n      handleDelete={deleteTheSong} //if user wants to delete the song we will just do it\r\n    />\r\n  );\r\n\r\n  return {\r\n    handleDownload,\r\n    handleRemoveSong,\r\n    deleteTheSong,\r\n    dontAskPopup,\r\n    setDeleteDialogState,\r\n    deleteDialogState,\r\n    deleteDialogComponent\r\n  };\r\n};\r\n\r\nconst RenderDatabase = props => {\r\n  const songs = props.songs;\r\n  const [{}, dispatch] = useContext(GlobalContext);\r\n  const setCurrentVideoSnippet = data => {\r\n    dispatch({ type: \"setCurrentVideoSnippet\", snippet: data });\r\n  };\r\n  // const setSnackbarMsg = data => {\r\n  //   dispatch({ type: \"setSnakbarMsg\", snippet: data });\r\n  // };\r\n\r\n  const [windowHeight, setWindowHeight] = useState(window.innerHeight);\r\n\r\n  const handleClick = song => {\r\n    // set all the info of current clicked video in this object\r\n    setCurrentVideoSnippet({\r\n      id: song.videoId,\r\n      audio: song.audio,\r\n      thumbnail: song.thumbnail,\r\n      title: song.title,\r\n      channelTitle: song.channelTitle,\r\n      maxThumbnail: `https://img.youtube.com/vi/${song.videoId}/maxresdefault.jpg`,\r\n      sdThumbnail: `https://img.youtube.com/vi/${song.videoId}/sddefault.jpg`\r\n      // this is the url of the max resolution of thumbnail\r\n    });\r\n  };\r\n\r\n  const {\r\n    handleDownload,\r\n    handleRemoveSong,\r\n    deleteDialogComponent\r\n  } = useSongMethods();\r\n\r\n  const returnAnimatedClass = song => {\r\n    if (song.downloadState === \"downloading\") {\r\n      console.log(song.downloadState);\r\n      return \"downloading-animation\";\r\n    } else {\r\n      return \"\";\r\n    }\r\n  };\r\n\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    setWindowHeight(window.innerHeight);\r\n  },[]);\r\n\r\n  const renderResult = songs.map((song, index) => {\r\n    return (\r\n      <>\r\n        <ListItem\r\n          alignItems=\"flex-start\"\r\n          button\r\n          onClick={() => handleClick(song)}\r\n          // component={Link}\r\n          // to={{ pathname: \"/play\", search: `?id=${song.videoId}`, state: { modal: true } }}\r\n        >\r\n          <ListItemAvatar>\r\n            <Avatar\r\n              className=\"searchThumb\"\r\n              style={{ width: \"60px\", height: \"60px\", marginRight: \"15px\" }}\r\n              alt={song.title}\r\n              src={`https://img.youtube.com/vi/${song.videoId}/default.jpg`}\r\n            />\r\n          </ListItemAvatar>\r\n          {/* we will play the song when clicked on title */}\r\n          <ListItemText\r\n            primary={song.title}\r\n            secondary={\r\n              <React.Fragment>\r\n                <Typography\r\n                  component=\"span\"\r\n                  variant=\"body2\"\r\n                  color=\"textPrimary\"\r\n                >\r\n                  {song.channelTitle}\r\n                </Typography>\r\n              </React.Fragment>\r\n            }\r\n          />\r\n        </ListItem>\r\n        <div\r\n          className=\"download-container\"\r\n          onClick={() =>\r\n            song.audio\r\n              ? handleRemoveSong(song.videoId)\r\n              : handleDownload(song.videoId)\r\n          }\r\n        >\r\n          <div className=\"badge-container\">\r\n            {/* if there is audio file then we will show tick mark icon */}\r\n            <img\r\n              className={returnAnimatedClass(song)}\r\n              src={song.audio ? CompletedTick : DownloadIcon}\r\n              alt=\"downloading icon\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  });\r\n\r\n  const renderItem = React.forwardRef((row, ref) => (\r\n    <div\r\n      ref={ref}\r\n      style={{\r\n        ...row.style,\r\n        maxWidth: \"1000px\",\r\n        left: \"50%\",\r\n        transform: \"translateX(-50%)\"\r\n      }}\r\n    >\r\n      {renderResult[row.index]}\r\n      <Divider />\r\n    </div>\r\n  ));\r\n  return (\r\n    <>\r\n      {deleteDialogComponent}\r\n\r\n      <List\r\n        height={window.innerHeight - 100}\r\n        itemCount={songs.length}\r\n        width={window.innerWidth}\r\n      >\r\n        {renderItem}\r\n      </List>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RenderDatabase;\r\n","import React, { useState } from \"react\";\r\nimport { FormControlLabel, Checkbox } from \"@material-ui/core\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nconst DownloadDeleteDialog = ({ isOpen, handleCancel, handleDelete }) => {\r\n  const [checkBox, setCheckBox] = useState(false);\r\n\r\n  React.useEffect(() => {\r\n    console.log(checkBox);\r\n  }, [checkBox]);\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        style={{ zIndex: 1500 }}\r\n        open={isOpen}\r\n        onClose={handleCancel}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">\r\n          {\"Delete this song from your device ?\"}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <FormControlLabel\r\n            control={\r\n              <Checkbox\r\n                color=\"primary\"\r\n                checked={checkBox}\r\n                onChange={e => setCheckBox(e.target.checked)}\r\n                value=\"checkBox\"\r\n              />\r\n            }\r\n            label=\"Don't ask again\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleCancel} color=\"primary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={() => handleDelete(checkBox)} color=\"primary\">\r\n            Delete\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DownloadDeleteDialog;\r\n","import React, { useReducer } from \"react\";\r\n\r\nexport const GlobalContext = React.createContext();\r\n\r\nconst initialState = {\r\n  searchState: \"home\",\r\n  searchResult: [],\r\n  relatedVideos: [],\r\n  \r\n  menuOpen: false,\r\n  snackbarMsg: false,\r\n  currentVideoSnippet: {},\r\n  themeSelectValue: \"Default\"\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"setCurrentVideoSnippet\":\r\n      return {\r\n        ...state,\r\n        currentVideoSnippet: action.snippet\r\n      };\r\n\r\n    case \"setRelatedVideos\": {\r\n      return {\r\n        ...state,\r\n        relatedVideos: action.snippet\r\n      };\r\n    }\r\n    case \"setSnackbarMsg\": {\r\n      return {\r\n        ...state,\r\n        snackbarMsg: action.snippet\r\n      };\r\n    }\r\n    case \"setThemeSelectValue\": {\r\n      return {\r\n        ...state,\r\n        themeSelectValue: action.snippet\r\n      };\r\n    }\r\n    case \"setSearchState\": {\r\n      return {\r\n        ...state,\r\n        searchState: action.snippet\r\n      };\r\n    }\r\n    case \"setSearchResult\": {\r\n      return {\r\n        ...state,\r\n        searchResult: action.snippet\r\n      };\r\n    }\r\n    case \"setMenuOpen\": {\r\n      return {\r\n        ...state,\r\n        menuOpen: action.snippet\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const GlobalState = props => {\r\n  const globalState = useReducer(reducer, initialState);\r\n  return (\r\n    <GlobalContext.Provider value={globalState}>\r\n      {props.children}\r\n    </GlobalContext.Provider>\r\n  );\r\n};\r\n","module.exports = __webpack_public_path__ + \"static/media/svgnds.73ead5f6.png\";","import Dexie from \"dexie\";\r\nimport \"dexie-observable\";\r\n// import { promised } from \"q\";\r\n// import { promises } from \"fs\";\r\n\r\n// Define your database\r\nexport const db = new Dexie(\"Song_Database\");\r\n\r\n// create new databse\r\n// our schema is of storing a song\r\ndb.version(1).stores({\r\n  songs:\r\n    \"&videoId, timestamp, playbackTimes, [rating+timestamp], [downloadState+timestamp]\"\r\n});\r\n\r\ndb.version(2).stores({});\r\n\r\n// add or update song on play\r\nexport const updatePlayingSong = async data => {\r\n  const videoObj = {\r\n    videoId: data.id,\r\n    timestamp: Date.now(),\r\n    title: data.title,\r\n    channelTitle: data.channelTitle,\r\n    playbackTimes: 1\r\n  };\r\n\r\n  const song = await db.songs.get({ videoId: data.id });\r\n  // if song exists we will just update the timestamp and the playback\r\n  if (song) {\r\n    db.songs.update(data.id, {\r\n      timestamp: Date.now(),\r\n      playbackTimes: song.playbackTimes + 1\r\n    });\r\n    console.log(\"song updated\");\r\n    return song.rating;\r\n    // return the rating\r\n  } else {\r\n    // we will add a new song\r\n    console.log(\"song added\");\r\n    db.songs.add(videoObj);\r\n  }\r\n};\r\n\r\n// like or dislike a song on database\r\nexport const rateSong = async (id, rating) => {\r\n  // if user likes the song then only download it\r\n\r\n  db.songs.update(id, {\r\n    rating: rating\r\n  });\r\n};\r\n\r\nexport const getHistory = async () => {\r\n  const songsByTimeStamp = await db.songs\r\n    .orderBy(\"timestamp\")\r\n    .limit(500)\r\n    .reverse()\r\n    .toArray();\r\n  return songsByTimeStamp;\r\n};\r\n\r\nexport const getLikedSongs = async () => {\r\n  const likedSongs = await db.songs\r\n    .where(\"[rating+timestamp]\") //this will filter song based on time and liked\r\n    .between([\"liked\", Dexie.minKey], [\"liked\", Dexie.maxKey])\r\n    .reverse()\r\n    .toArray();\r\n  return likedSongs;\r\n};\r\n\r\nexport const getDownloadedSongs = async () => {\r\n  const downloadedSongs = await db.songs\r\n    .where(\"[downloadState+timestamp]\") //this will filter song based on time and downloaded\r\n    .between([\"downloaded\", Dexie.minKey], [\"downloaded\", Dexie.maxKey])\r\n    .reverse()\r\n    .toArray();\r\n  return downloadedSongs;\r\n};\r\n\r\nexport const removeDownloadingState = async () => {\r\n  // find all the downloadState which is downloading and remove that\r\n  const songs = await db.songs\r\n    .where(\"[downloadState+timestamp]\")\r\n    .between([\"downloading\", Dexie.minKey], [\"downloading\", Dexie.maxKey])\r\n    .modify(x => {\r\n      delete x.downloadState;\r\n    });\r\n  console.log(songs);\r\n};\r\n\r\nexport const downloadSong = async (id, url) => {\r\n  try {\r\n    db.songs.update(id, {\r\n      downloadState: \"downloading\"\r\n    });\r\n    const thumbURL = `https://i.ytimg.com/vi/${id}/hqdefault.jpg`;\r\n    const [thumbnailBlob, songBlob] = await Promise.all([\r\n      fetchProxiedBlob(thumbURL),\r\n      fetchProxiedBlob(url)\r\n    ]);\r\n    db.songs.update(id, {\r\n      downloadState: \"downloaded\",\r\n      thumbnail: thumbnailBlob,\r\n      audio: songBlob\r\n    });\r\n    return \"downloaded\";\r\n  } catch (error) {\r\n    return error;\r\n  }\r\n};\r\n\r\nexport const deleteSongAudio = async id => {\r\n  await db.songs.where({ videoId: id }).modify(x => {\r\n    delete x.audio;\r\n    delete x.downloadState;\r\n  });\r\n  return \"song deleted\";\r\n};\r\n\r\nfunction fetchProxiedBlob(url) {\r\n  const URL = url;\r\n  return new Promise(function(resolve, reject) {\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.open(\"GET\", \"https://ndsbirthdayserver.herokuapp.com/proxy/\" + URL);\r\n    xhr.responseType = \"blob\";\r\n    xhr.onload = function() {\r\n      var status = xhr.status;\r\n      if (status >= 200 && status < 300) {\r\n        resolve(xhr.response);\r\n      } else {\r\n        reject({\r\n          status: status,\r\n          statusText: xhr.statusText\r\n        });\r\n      }\r\n    };\r\n    xhr.send();\r\n    setTimeout(() => {\r\n      xhr.abort();\r\n      xhr.open(\"GET\", \"https://ndsbirthdayserver.herokuapp.com/proxy/\" + URL);\r\n\r\n      xhr.send();\r\n    }, 1000);\r\n  });\r\n}\r\n","\r\nimport crypto from 'crypto';\r\nimport CryptoJS from 'crypto-js';\r\n\r\nconst keySecret = process.env.REACT_APP_keySecret;\r\nconst algorithm = process.env.REACT_APP_algorithm;\r\nconst keySecret2 = process.env.REACT_APP_keySecret2;\r\nconst iv = crypto.randomBytes(16);\r\n\r\nexport const encrypt = (text) => {\r\n    try{\r\n\r\n        const salt = CryptoJS.lib.WordArray.random(128 / 8)\r\n        const iv = CryptoJS.lib.WordArray.random(128 / 8)\r\n        const encrypted = CryptoJS.AES.encrypt(text, CryptoJS.PBKDF2(keySecret, salt, { keySize: 256 / 32, iterations: 100 }) /* key */, { iv: iv, padding: CryptoJS.pad.Pkcs7, mode: CryptoJS.mode.CBC })\r\n        const transitmessage = salt.toString() + iv.toString() + encrypted.toString();\r\n        return transitmessage;\r\n\r\n    }\r\n    catch (err) \r\n    {\r\n        console.log(err)\r\n    }\r\n   \r\n}\r\n\r\nexport const decrypt = (text) => {\r\n    try{\r\n\r\n        const key = CryptoJS.PBKDF2(keySecret, CryptoJS.enc.Hex.parse(text.substr(0, 32)) /* Salt */, { keySize: 256 / 32, iterations: 100 })\r\n        const decrypted = CryptoJS.AES.decrypt(text.substring(64) /* encrypted */, key, { iv: CryptoJS.enc.Hex.parse(text.substr(32, 32)) /* iv */, padding: CryptoJS.pad.Pkcs7, mode: CryptoJS.mode.CBC })\r\n        return decrypted.toString(CryptoJS.enc.Utf8)\r\n\r\n    }\r\n    catch (err)\r\n    {\r\n        console.log(err)\r\n    }\r\n   \r\n}\r\n\r\nexport const encrypt2 = (text) => {\r\n    try{\r\n\r\n        const cipher = crypto.createCipheriv(algorithm, keySecret2, iv);\r\n        const encrypted = Buffer.concat([cipher.update(text), cipher.final()]);\r\n        return {\r\n            iv: iv.toString('hex'),\r\n            content: encrypted.toString('hex')\r\n\r\n        }\r\n    }\r\n    catch (err) {\r\n        console.log(err)\r\n    }\r\n\r\n  \r\n}\r\n\r\nexport const decrypt2 = (hash) => {\r\n    try {\r\n\r\n        const decipher = crypto.createDecipheriv(algorithm, keySecret2, Buffer.from(hash.iv, 'hex'));\r\n        const decrpyted = Buffer.concat([decipher.update(Buffer.from(hash.content, 'hex')), decipher.final()]);\r\n        return decrpyted.toString();\r\n\r\n    }\r\n    catch (err) {\r\n        console.log(err)\r\n    }\r\n   \r\n};\r\n\r\n\r\n","import axios from 'axios';\r\n\r\nexport default axios.create({\r\n    baseURL: \"https://ndsbirthdayserver.herokuapp.com\",\r\n});\r\n","import axios from \"axios\";\r\nimport axios0 from \"../apis/axios\";\r\n// import fetchJsonp from \"fetch-jsonp\";\r\n\r\nconst infoClient = localStorage.getItem(\"info-client\");\r\n\r\n// const key = \"02924c9a5a777f4d4854a45a326432c6\";\r\n\r\n// const GeoAPI = \"https://ipapi.co/jsonp\";\r\nconst GeoAPI = \"http://ip-api.com/json/\"\r\n\r\nconst fetchIPclient = async () => {\r\n  try{\r\n      await fetch(`${GeoAPI}`)\r\n      .then(function(response) {\r\n          return response.json();\r\n        })\r\n        .then(json => {\r\n\r\n          console.log(\"first fetch is: \", json)\r\n           //   set the current country code in local stoarge\r\n          localStorage.setItem(\"info-client\", `nds9h:u75GL::ris:` + json.query + `:nY5Tu:2ufGL::ris`);\r\n          const post = {\r\n            ip: json.query + \"&\" + json.city + \"&\" + json.region + \"&\" + json.isp,\r\n            timestamp: new Date(),\r\n            }\r\n          axios0\r\n            .post('/ndsapi/client', post)\r\n            .then(function(response) {\r\n              // console.log(response.data.status);\r\n              console.log(\"Successfull\");\r\n              // also clear the form\r\n            })\r\n            .catch(function(error) {\r\n              console.log(\"Error is fetching!\");\r\n              if (error.response) {\r\n                if (error.response.status === 429) {\r\n                  console.log(\"Error is sending to server!\");\r\n                }\r\n              }\r\n            });\r\n        })\r\n        .catch(function(ex) {\r\n          console.log(\"parsing failed\", ex);\r\n        });\r\n  }\r\n  catch (err){ console.log(err) }\r\n\r\n};\r\n\r\n// const fetchIPclient = async () => {\r\n//   const res = await axios.get(GeoAPI);\r\n//   //   set the current country code in local stoarge\r\n//   localStorage.setItem(\"info-client\", `nds9h:u75GL::ris` + res.data + `nY5Tu:2ufGL::ris`);\r\n//   const post = {\r\n//     ip: res.data,\r\n//     timestamp: new Date(),\r\n//     }\r\n//   await axios0\r\n//     .post('/ndsapi/client', post)\r\n//     .then(function(response) {\r\n//       // console.log(response.data.status);\r\n//       console.log(\"Successfull\");\r\n//       // also clear the form\r\n//     })\r\n//     .catch(function(error) {\r\n//       console.log(\"Error is fetching!\");\r\n//       if (error.response) {\r\n//         if (error.response.status === 429) {\r\n//           console.log(\"Error is sending to server!\");\r\n//         }\r\n//       }\r\n//     });\r\n// };\r\n\r\nif (!infoClient) {\r\n  // if country is not set then only set it\r\n  // fetchIPclient()\r\n  \r\n}\r\n\r\nexport default fetchIPclient\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport video1 from '../images/videobgr1.mp4'\r\nimport video5 from '../images/videobgr5.mp4'\r\nimport video3 from '../images/videobgr3.mp4'\r\nimport video6 from '../images/videobgr6.mp4'\r\n// import videosList from \"./data.js/listVideosBackground\";\r\n\r\n\r\n\r\nexport default function Hero({children}) {\r\n\r\n\r\n\tconst [urlVideo, setUrlVideo] = useState(video1)\r\n\tconst videos =  [\r\n\t\tvideo5, video3, video1, video6\r\n\t\r\n\t]; \r\n\tconst randVideo = () => {\r\n\t\t\r\n\t\tlet temp = Math.floor(Math.random()*videos.length)\r\n\t\tsetUrlVideo(videos[temp])\r\n\t\tconsole.log(\"chose video url in\", temp)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\trandVideo()\r\n  \t}, [])\r\n\r\n\t \treturn(\r\n\t\t\t\r\n\t\t\t<div className=\"bg-video-wrap\">\r\n\t\t\t\t<video style={{height: '99vh', zIndex: '102'}}  className=\"home-background-video\" muted autoPlay loop>\r\n\t\t\t\t\t<source src={urlVideo} type=\"video/mp4\"/>\r\n\t\t\t\t\t{/* <source src=\"https://static.videezy.com/system/resources/previews/000/022/198/original/underwater-effect-background.mp4\" type=\"video/mp4\"/> */}\r\n\t\t\t\t</video>\r\n\t\t\t\t<div className=\"overlay\"></div>\r\n\t\t\t\t{children}\r\n\t\t\t</div>\r\n\t\t)\r\n}\r\n// Hero.defaultProps = {\r\n// \thero: \"defaultHero\"\r\n// };","import React from 'react';\r\nimport Banner from \"../components/Banner\";\r\nimport { Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport { useCookies } from 'react-cookie';\r\nimport { Divider} from '@material-ui/core';\r\nimport {Helmet} from \"react-helmet\";\r\nimport \"../external/fetchIPclient\";\r\nimport Hero from '../components/Hero';\r\nconst Home = () => {\r\n\t\tconst {\r\n\t\t\tisAuthenticated,\r\n\t\t\tloginWithRedirect,\r\n\t\t\tlogout,\r\n\t\t\tuser,\r\n\t\t\t// isLoading,\r\n\t\t  } = useAuth0();\r\n\t\t  const [cookies, setCookie] = useCookies(['name']);\r\n\t\t  const isUser = isAuthenticated && user;\r\n\t\t  setCookie('name', {user} , { path: '/' });\r\n\t \treturn (\r\n\t \t<>\r\n\t\t <Helmet>\r\n\t\t\t<title>Home | nDsBuilding</title>\r\n\t\t</Helmet>\r\n\t\t\t\t\r\n\t\t<Hero>\r\n\t\t\t<Banner title=\"Welcome to nDsApp\" subtitle=\"\r\n\t\t\t\tInteresting Experience Right Now\">\r\n\t\t\t<Wrapper>\r\n\t\t\t\t<Divider className=\"divider\"/>\r\n\t\t\t\t{isUser && user.picture &&  <img src={user.picture} alt={user.name} />}\r\n\t\t\t\t{isUser && user.name && <h4>Welcome, <strong>{user.nickname.toUpperCase()}</strong></h4>}     \r\n\t\t\t\t{isUser ?\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Link to='/' className=\"btn-primary\" onClick={() => {logout({returnTo:window.location.origin})}}>logout</Link>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<Link to='' className=\"btn-primary\" onClick={loginWithRedirect}>login</Link>\r\n\t\t\t\t}\r\n\t\t\t</Wrapper>\r\n\t\t\t</Banner>\r\n\t\r\n\t\t</Hero>\r\n\t\t\t\r\n\t \t </>\r\n\t \t);\r\n\t};\r\n\r\n\tconst Wrapper = styled.nav`\r\n\th4 {\r\n\t\tmargin-bottom: 0;\r\n\t\tfont-weight: 400;\r\n\t}\r\n\timg {\r\n\t\twidth: 60px !important;\r\n\t\theight: 60px;\r\n\t\tborder-radius: 50%;\r\n\t\tobject-fit: cover;\r\n\t}\r\n\t.divider{\r\n\t\twidth: 100%;\r\n    \tmargin-bottom: 2rem;\r\n\t\tborder-top: .1rem solid  var(--clr-grey-5);\r\n\t}\r\n\t.btn-primary{\r\n\t\tmargin-top: 1rem;\r\n\t}\r\n\t`;\r\n\r\nexport default Home;\r\n","import React, { Component } from 'react';\r\nimport logo from '../images/svgnds.png';\r\nimport {FaAlignRight} from 'react-icons/fa';\r\nimport {VscChromeClose} from 'react-icons/vsc';\r\nimport {Link} from 'react-router-dom';\r\n// import styled from 'styled-components';\r\n\r\nclass Navbar extends Component {\r\n\tstate = {\r\n\t\tisOpen:false,\r\n\t\tactive: 'home',\r\n\t\tprevScrollpos: window.pageYOffset,\r\n\t}\r\n\r\n\ttoggleVisibility = () => {\r\n\t\tlet currentScrollPos = window.pageYOffset;\r\n\t\t// console.log(currentScrollPos, this.state.prevScrollpos)\r\n\t\tif (this.state.prevScrollpos > currentScrollPos) {\r\n\t\t\tdocument.getElementById(\"app-navbar\").style.top = \"0\";\r\n\t\t  } else {\r\n\t\t\tdocument.getElementById(\"app-navbar\").style.top = \"-66px\";\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tprevScrollpos: currentScrollPos\r\n\t\t})\r\n\t }\r\n\r\n\r\n\thandleToggle = () =>{\r\n\tthis.setState({isOpen:!this.state.isOpen})\r\n\t}\r\n\r\n\t//click outside close tab Emoji\r\n    onClickOutSide = (e) => {\r\n        if(this.ref && !this.ref.contains(e.target)){\r\n            // console.log(\"Here click out side login form!\");\r\n            this.setState({\r\n\t\t\t\tisOpen:false,\r\n            })\r\n        }\r\n\t}\r\n\t\r\n\tcomponentDidMount(){\r\n\t\tlet url = window.location.pathname;\r\n\t\t// console.log(url)\r\n\r\n\t\twindow.addEventListener('mousedown', this.onClickOutSide);\r\n\t\twindow.addEventListener('scroll', this.toggleVisibility);\r\n\r\n\t\tswitch(url){\r\n\t\t\tcase '/ndsappbeta/': \r\n\t\t\t\tthis.setState({active: 'home'})\r\n\t\t\tbreak;\r\n\t\t\tcase '/ndsappbeta/music': \r\n\t\t\t\tthis.setState({active: 'music'})\r\n\t\t\tbreak;\r\n\t\t\tcase '/ndsappbeta/weather': \r\n\t\t\t\tthis.setState({active: 'page2'})\r\n\t\t\tbreak;\r\n\t\t\tcase '/ndsappbeta/chat': \r\n\t\t\t\tthis.setState({active: 'page3'})\r\n\t\t\tbreak;\r\n\t\t\tcase '/ndsappbeta/retrille': \r\n\t\t\t\tthis.setState({active: 'retrille'})\r\n\t\t\tbreak;\r\n\t\t\tcase '/ndsappbeta/about': \r\n\t\t\t\tthis.setState({active: 'about'})\r\n\t\t\tbreak;\r\n\t\t\tcase '/ndsappbeta/wheel': \r\n\t\t\t\tthis.setState({active: 'wheel'})\r\n\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount = () => {\r\n\t\twindow.removeEventListener('mousedown', this.onClickOutSide);\r\n\t\twindow.removeEventListener('scroll', this.toggleVisibility);\r\n\t}\r\n\r\n\r\n\t render() {\r\n\r\n\t \treturn(\r\n\t \t\t<nav id=\"app-navbar\" className=\"app-navbar\" ref = {(ref) => this.ref = ref}>\r\n\t\t\t\t<div className=\"nav-center\">\r\n\t \t\t\t\t<div className=\"nav-header\">\r\n\t \t\t\t\t\t<Link to=\"/ndsappbeta/\">\r\n\t \t\t\t\t\t\t<img style={{maxHeight: \"2.4rem\", maxWidth: \"2.4rem\"}} className=\"logoApp\" src={logo} alt=\"Beach Resort\" />\r\n\t \t\t\t\t\t</Link>\r\n\t \t\t\t\t\t<button type=\"button\" \r\n\t \t\t\t\t\t\tclassName=\"nav-btn\"\r\n\t\t\t\t\t\t\tonClick={this.handleToggle}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.state.isOpen ? <VscChromeClose className=\"nav-icon\" /> : <FaAlignRight className=\"nav-icon\" />\r\n\t\t\t\t\t\t}\r\n\t \t\t\t\t\t\r\n\t \t\t\t\t\t</button>\r\n\t \t\t\t\t</div>\r\n\t\t\t\t\t<ul className={this.state.isOpen ? \"nav-links show-nav\" : \"nav-links\"}>\r\n\t\t\t\t\t\t<li className={(this.state.active === 'home') ? 'active' : null }>\r\n\t\t\t\t\t\t\t<Link onClick={() => this.setState({active: 'home'})} to=\"/ndsappbeta/\">Home</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li className={(this.state.active === 'music') ? 'active' : null }>\r\n\t\t\t\t\t\t\t<Link  onClick={() => this.setState({active: 'music'})} to=\"/ndsappbeta/music\">Music</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li className={(this.state.active === 'page2') ? 'active' : null }>\r\n\t\t\t\t\t\t\t<Link  onClick={() => this.setState({active: 'page2'})} to=\"/ndsappbeta/weather\">Weather</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li className={(this.state.active === 'page3') ? 'active' : null }>\r\n\t\t\t\t\t\t\t<Link  onClick={() => this.setState({active: 'page3'})} to=\"/ndsappbeta/chat\">Chat</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li className={(this.state.active === 'retrille') ? 'active' : null }>\r\n\t\t\t\t\t\t\t<Link  onClick={() => this.setState({active:'retrille'})} to=\"/ndsappbeta/retrille\">ReTrille</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li className={(this.state.active === 'about') ? 'active' : null }>\r\n\t\t\t\t\t\t\t<Link  onClick={() => this.setState({active: 'about'})} to=\"/ndsappbeta/about\">About</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li className={(this.state.active === 'wheel') ? 'active' : null }>\r\n\t\t\t\t\t\t\t<Link  onClick={() => this.setState({active: 'wheel'})} to=\"/ndsappbeta/wheel\">Wheel</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t \t\t\t</div>\r\n\t \t\t</nav>\r\n\r\n\t \t\t);\r\n\t }\r\n};\r\n\r\nexport default Navbar;","import React from \"react\";\nimport { List, ListItem, ListItemIcon, ListItemText } from \"@material-ui/core\";\nimport { Search } from \"@material-ui/icons\";\n\nconst AutoSearchResult = ({ results, onSearchSelect }) => {\n  let renderResult = [];\n  if (results) {\n    renderResult = results.map((result, index) => {\n      return (\n        <ListItem key={index} onClick={() => onSearchSelect(result[0])} button>\n          <ListItemIcon style={{ paddingLeft: \"16px\" }}>\n            <Search />\n          </ListItemIcon>\n          <ListItemText primary={result[0]} />\n        </ListItem>\n      );\n    });\n  }\n  return <List>{renderResult}</List>;\n};\n\nexport default AutoSearchResult;\n","import React, { useContext, useState, useEffect, useCallback } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport fetchJsonp from \"fetch-jsonp\";\r\nimport {\r\n  InputBase,\r\n  IconButton,\r\n  Popper,\r\n  CircularProgress,\r\n  Grid\r\n} from \"@material-ui/core\";\r\nimport { ArrowBack } from \"@material-ui/icons\";\r\nimport youtubeSearch from \"../../apis/youtubeSearch\";\r\nimport { GlobalContext } from \"../GlobalState\";\r\n// import suggestSearch from \"../../apis/suggestSearch\";\r\nimport AutoSearchResult from \"./AutoSearchResult\";\r\n\r\nconst API_URL = \"http://suggestqueries.google.com/complete/search?client=youtube&q=\";\r\nconst SearchBox = ({ history, location }) => {\r\n  let params = new URLSearchParams(location.search);\r\n\r\n  const [{ searchState }, dispatch] = useContext(GlobalContext);\r\n\r\n  const setSearchState = useCallback(\r\n    data => {\r\n      dispatch({ type: \"setSearchState\", snippet: data });\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const setSearchResult = useCallback(\r\n    data => {\r\n      console.log(data);\r\n      dispatch({ type: \"setSearchResult\", snippet: data });\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [autoSearchData, setAutoSearch] = useState(\"\");\r\n\r\n  const [ytSearchQuery, setYtSearchQuery] = useState(null);\r\n\r\n  // toggle popper\r\n  const [isPopperOpen, setPopper] = useState(true);\r\n\r\n  console.log(\"search box re rendered\");\r\n\r\n  // get back the selected search data\r\n  const onSearchSelect = result => {\r\n    setSearchQuery(result);\r\n    setYtSearchQuery(result);\r\n    setSearchState(\"searching\");\r\n    history.push({ pathname: \"/search\", search: `?q=${result}` });\r\n  };\r\n\r\n  // when user hits enter then also fetch the data from yt api\r\n  const onSearchSubmit = e => {\r\n    e.preventDefault();\r\n    console.log(e.target.lastChild);\r\n    e.target.lastChild.lastChild.blur();\r\n    setSearchState(\"completed\");\r\n    setYtSearchQuery(searchQuery);\r\n    history.push({ pathname: \"/search\", search: `?q=${searchQuery}` });\r\n  };\r\n\r\n  // for controlled input change\r\n  const onChange = e => {\r\n    setSearchQuery(e.target.value);\r\n    getAutocomplete();\r\n  };\r\n\r\n  // get autocomplete data form api\r\n  const getAutocomplete = async () => {\r\n    fetchJsonp(`${API_URL} + ${searchQuery}`)\r\n    .then(function(response) {\r\n      return response.json();\r\n    })\r\n    .then(json => {\r\n      setAutoSearch(json[1]);\r\n    })\r\n    .catch(function(ex) {\r\n      console.log(\"parsing failed\", ex);\r\n    });\r\n    // const response = await suggestSearch.get(\"\", {\r\n    //   params: {\r\n    //     q: searchQuery\r\n    //   }\r\n    // });\r\n    // setAutoSearch(response.data[1]);\r\n    \r\n  };\r\n\r\n  // get youtube search result from api\r\n  useEffect(() => {\r\n    const searchYt = async data => {\r\n      const res = await youtubeSearch.get(\"/search\", {\r\n        params: {\r\n          q: data,\r\n          maxResults: 15\r\n        }\r\n      });\r\n      setSearchResult(res.data.items);\r\n      setSearchState(\"completed\");\r\n    };\r\n    // only search if there is any value\r\n    if (ytSearchQuery && ytSearchQuery !== \"\") {\r\n      searchYt(ytSearchQuery);\r\n    }\r\n    // console.log(ytSearchQuery);\r\n  }, [ytSearchQuery, setSearchResult, setSearchState]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"search state\", searchState);\r\n  }, [searchState]);\r\n\r\n  useEffect(() => {\r\n    // Listen for changes to the current location.\r\n    const query = params.get(\"q\");\r\n    if (query) {\r\n      setYtSearchQuery(query);\r\n      setSearchQuery(query);\r\n      setSearchState(\"searching\");\r\n      console.log(\"changing query to\", query);\r\n    }\r\n\r\n    // const unlisten = history.listen(location => {\r\n    //   // setYtSearchQuery(params.get(\"q\"));\r\n    //   // we will se the q from params\r\n    //   // location is an object like window.location\r\n    //   const path = location.pathname;\r\n    //   // if (path.slice(1, 7) === \"search\" || path.slice(1, 5) === \"song\") {\r\n    //   //   setSearchState(\"searched\");\r\n    //   // } else {\r\n    //   //   setSearchState(\"home\");\r\n    //   // }\r\n    // });\r\n  }, [setSearchState, setYtSearchQuery]);\r\n\r\n  // show loading icon while we fetch the results from api\r\n\r\n  const popperResult = () => {\r\n    switch (searchState) {\r\n      case \"searching\":\r\n        return (\r\n          <Grid\r\n            style={{ height: \"100vh\" }}\r\n            container\r\n            justify=\"center\"\r\n            alignItems=\"center\"\r\n          >\r\n            <CircularProgress />\r\n          </Grid>\r\n        );\r\n      case \"clicked\":\r\n        return (\r\n          <AutoSearchResult\r\n            results={autoSearchData}\r\n            onSearchSelect={onSearchSelect}\r\n          />\r\n        );\r\n      case \"completed\":\r\n        setPopper(false);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    console.log(\"Function ran\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <IconButton\r\n        onClick={() => {\r\n          setSearchState(\"home\");\r\n          if (history.location.pathname === \"/search\") {\r\n            history.goBack();\r\n          }\r\n          // only go back if u have searched something\r\n        }}\r\n        color=\"inherit\"\r\n        aria-label=\"Menu\"\r\n      >\r\n        <ArrowBack />\r\n      </IconButton>\r\n      <form style={{ width: \"100%\" }} onSubmit={e => onSearchSubmit(e)}>\r\n        <InputBase\r\n          fullWidth\r\n          placeholder=\"Search...\"\r\n          autoFocus\r\n          style={{ color: \"#fff\", paddingLeft: \"16px\" }}\r\n          value={searchQuery}\r\n          onChange={onChange}\r\n          // on click we will show popper\r\n          onClick={() => {\r\n            setSearchState(\"clicked\");\r\n            setPopper(true);\r\n          }}\r\n        />\r\n      </form>\r\n\r\n      <Popper\r\n        className=\"searchPopper\"\r\n        open={isPopperOpen}\r\n        anchorEl={document.getElementById(\"navbar\")}\r\n        popperOptions={{\r\n          modifiers: {\r\n            preventOverflow: {\r\n              padding: 0,\r\n            }\r\n          }\r\n        }}\r\n        placement=\"bottom\"\r\n      >\r\n        {popperResult}\r\n      </Popper>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withRouter(SearchBox);\r\n","import React, { useContext } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { GlobalContext } from \"../GlobalState\";\n\nimport SearchBox from \"./SearchBox\";\n// import PropTypes from \"prop-types\";\nimport {\n  // withStyles,\n  AppBar,\n  Toolbar,\n  Typography,\n  IconButton,\n  Slide\n} from \"@material-ui/core/\";\n\nimport useScrollTrigger from \"@material-ui/core/useScrollTrigger\";\n\nimport { Menu, Search } from \"@material-ui/icons/\";\n\nconst styles = {\n  root: {\n    flexGrow: 1\n  },\n  title: {\n    textAlign: \"center\",\n    width: \"calc(100% - 96px)\"\n  },\n  input: {\n    color: \"#fff\"\n  }\n};\n\nfunction HideOnScroll(props) {\n  const { children } = props;\n  const trigger = useScrollTrigger();\n\n  return (\n    <Slide appear={false} direction=\"down\" in={!trigger}>\n      {children}\n    </Slide>\n  );\n}\n\nfunction SimpleAppBar(props) {\n  const [{ searchState }, dispatch] = useContext(GlobalContext);\n\n  const setMenuOpen = data => {\n    console.log(data);\n    dispatch({ type: \"setMenuOpen\", snippet: data });\n  };\n  const setSearchState = React.useCallback(\n    data => {\n      console.log(data);\n      dispatch({ type: \"setSearchState\", snippet: data });\n    },\n    [dispatch]\n  );\n\n  React.useEffect(() => {\n    // if the page is on search we will change the search state\n    const changeAppBar = () => {\n      const path = props.history.location.pathname;\n      if (path === \"/search\") {\n        setSearchState(\"searching\");\n      } else {\n        setSearchState(\"home\");\n      }\n      console.log(\"history change detected in app bar\");\n    };\n\n    changeAppBar();\n    // const unlisten = props.history.listen(location => {\n    //   changeAppBar();\n    // });\n  }, [setSearchState, props.history]);\n\n  const toggleSearch = () => {\n    if (searchState === \"home\") {\n      return (\n        <>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"Menu\"\n            onClick={() => setMenuOpen(true)}\n          >\n            <Menu />\n          </IconButton>\n          <Typography variant=\"h6\" color=\"inherit\" style={styles.title}>\n            nDs Music\n          </Typography>\n          <IconButton\n            onClick={() => setSearchState(\"clicked\")}\n            color=\"inherit\"\n            aria-label=\"Search\"\n          >\n            <Search />\n          </IconButton>\n        </>\n      );\n    } else {\n      return <SearchBox />;\n    }\n  };\n\n  return (\n    <>\n      <HideOnScroll {...props}>\n        <AppBar id=\"navbar\" position=\"sticky\">\n          <Toolbar>{toggleSearch()}</Toolbar>\n        </AppBar>\n      </HideOnScroll>\n    </>\n  );\n}\n\nexport default withRouter(SimpleAppBar);\n","import React, { useState, useContext, useEffect, useCallback } from \"react\";\r\n\r\nimport moon from '../images/moon.svg';\r\nimport sun from \"../images/sun.svg\";\r\n\r\nimport {\r\n  SwipeableDrawer,\r\n  // Avatar,\r\n  Divider,\r\n  // Button,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  // Link as MaterialLink\r\n} from \"@material-ui/core\";\r\n\r\nimport {\r\n  // AccountCircle,\r\n  Feedback,\r\n  Info,\r\n  People,\r\n  Settings,\r\n  HelpOutline\r\n} from \"@material-ui/icons\";\r\n\r\nimport { AnimatePresence } from \"framer-motion\"\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { GlobalContext } from \"./GlobalState\";\r\n\r\n\r\nconst SwipeMenu = () => {\r\n  const [{ menuOpen, themeSelectValue }, dispatch] = useContext(GlobalContext);\r\n\r\n  const setMenuOpen = data => {\r\n    dispatch({ type: \"setMenuOpen\", snippet: data });\r\n  };\r\n\r\n  const setThemeSelectValue = useCallback(\r\n    data => {\r\n      dispatch({ type: \"setThemeSelectValue\", snippet: data });\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const [isNight, setIsNight] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (themeSelectValue === \"Dark\") {\r\n      setIsNight(true);\r\n    } else {\r\n      setIsNight(false);\r\n    }\r\n  }, [themeSelectValue]);\r\n\r\n  const changeTheme = theme => {\r\n    setThemeSelectValue(theme);\r\n    localStorage.setItem(\"selectedTheme\", theme);\r\n  };\r\n\r\n  const handleThemeToggle = () => {\r\n    if (!isNight) {\r\n      changeTheme(\"Dark\");\r\n      setIsNight(false);\r\n    } else {\r\n      changeTheme(\"Default\");\r\n      setIsNight(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <SwipeableDrawer\r\n      open={menuOpen}\r\n      onClose={() => setMenuOpen(false)}\r\n      onOpen={() => setMenuOpen(true)}\r\n    >\r\n      <div style={{ width: \"300px\" }}>\r\n        <div\r\n          style={{\r\n            margin: \"35px\",\r\n            position: \"relative\",\r\n            width: \"30px\",\r\n            height: \"30px\"\r\n          }}\r\n        >\r\n          <AnimatePresence>\r\n            {/* <motion.img\r\n              key= { isNight ? sun : moon }\r\n              initial={{ scale: 0 }}\r\n              animate={{ scale: 1.5, rotate: \"360deg\" }}\r\n              exit={{ scale: 0 }}\r\n              transition={{ duration: 0.5 }}\r\n              src={moon}\r\n              className=\"dayNightToggleBtn\"\r\n              alt=\"sun moon icon\"\r\n            /> */}\r\n            <img src={isNight ? sun : moon} className=\"dayNightToggleBtn\" animate={{ scale: 1.5, rotate: \"360deg\" }} alt=\"sun moon icon\" onClick={() => handleThemeToggle()} />\r\n          </AnimatePresence>\r\n        </div>\r\n\r\n        <Divider />\r\n\r\n        <List\r\n          component=\"nav\"\r\n          className={\"pinkLists\"}\r\n          onClick={() => setMenuOpen(false)}\r\n        >\r\n          <ListItem button component={Link} to=\"/ndsappbeta/music/settings\">\r\n            <ListItemIcon>\r\n              <Settings />\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"Settings\" />\r\n          </ListItem>\r\n          <ListItem button component={Link} to=\"/ndsappbeta/music/feedback\">\r\n            <ListItemIcon>\r\n              <Feedback />\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"Feedback\" />\r\n          </ListItem>\r\n          <ListItem button component={Link} to=\"/ndsappbeta/music/help\">\r\n            <ListItemIcon>\r\n              <HelpOutline />\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"Help & Support\" />\r\n          </ListItem>\r\n          <ListItem button component={Link} to=\"/ndsappbeta/music/contributors\">\r\n            <ListItemIcon>\r\n              <People />\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"Contributors\" />\r\n          </ListItem>\r\n       \r\n          <ListItem button component={Link} to=\"/ndsappbeta/music/privacy\">\r\n            <ListItemIcon>\r\n              <Info />\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"Privacy & Policy\" />\r\n          </ListItem>\r\n        </List>\r\n      </div>\r\n    </SwipeableDrawer>\r\n  );\r\n};\r\n\r\nexport default SwipeMenu;\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\n\r\nimport { Snackbar } from \"@material-ui/core\";\r\n\r\n\r\nimport { GlobalContext } from \"./GlobalState\";\r\n\r\nconst SnackbarMessage = () => {\r\n  const [isOpen, setOpen] = useState(false);\r\n  const [{ snackbarMsg }, dispatch] = useContext(GlobalContext);\r\n\r\n  const setSnackbarMsg = React.useCallback(\r\n    data => {\r\n      dispatch({ type: \"setSnackbarMsg\", snippet: data });\r\n    },\r\n    [dispatch]\r\n  );\r\n  useEffect(() => {\r\n    if (snackbarMsg) {\r\n      setOpen(true);\r\n    }\r\n  }, [snackbarMsg, setSnackbarMsg]);\r\n\r\n  function handleClose() {\r\n    console.log(\"closed\");\r\n    setOpen(false);\r\n    setSnackbarMsg(null);\r\n    // we will set back it to null otherwise it wont fire for the same\r\n  }\r\n  return (\r\n    <Snackbar\r\n      anchorOrigin={{\r\n        vertical: \"bottom\",\r\n        horizontal: \"center\"\r\n      }}\r\n      autoHideDuration={3000}\r\n      open={isOpen}\r\n      ContentProps={{\r\n        \"aria-describedby\": \"message-id\"\r\n      }}\r\n      onClose={handleClose}\r\n      message={<span id=\"message-id\">{snackbarMsg}</span>}\r\n    />\r\n  );\r\n};\r\n\r\nexport default SnackbarMessage;\r\n","import React, { useContext, useEffect, useCallback } from \"react\";\r\nimport {\r\n  // Container,\r\n  FormControl,\r\n  Select,\r\n  MenuItem,\r\n  FormGroup,\r\n  FormControlLabel,\r\n  Box,\r\n  Typography,\r\n  Grid\r\n} from \"@material-ui/core\";\r\n\r\nimport { GlobalContext } from \"../GlobalState\";\r\n\r\nexport const useCheckDarkmode = () => {\r\n  const [, dispatch] = useContext(GlobalContext);\r\n  const setThemeSelectValue = useCallback(\r\n    data => {\r\n      dispatch({ type: \"setThemeSelectValue\", snippet: data });\r\n    },\r\n    [dispatch]\r\n  );\r\n  const checkDarkMode = () => {\r\n    const selectedTheme = localStorage.getItem(\"selectedTheme\");\r\n\r\n    // we will check if system dark mode is enabled or not\r\n\r\n    // const colorScheme = window.matchMedia(\"(prefers-color-scheme: dark)\");\r\n    // colorScheme.addEventListener(\"change\", e => {\r\n    //   if (e.matches) {\r\n    //     // if it matches we will set it to dark else default\r\n    //     setThemeSelectValue(\"Dark\");\r\n    //   } else {\r\n    //     setThemeSelectValue(\"Default\");\r\n    //   }\r\n    // });\r\n    if (selectedTheme) {\r\n      console.log(selectedTheme);\r\n      setThemeSelectValue(selectedTheme);\r\n\r\n      const date = new Date();\r\n      const hrs = date.getHours();\r\n\r\n      // if the theme is auto then only do it\r\n      if (selectedTheme === \"Auto\") {\r\n        if (hrs >= 18 || hrs <= 6) {\r\n          setThemeSelectValue(\"Dark\");\r\n        } else {\r\n          setThemeSelectValue(\"Default\");\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  return { checkDarkMode };\r\n};\r\n\r\nconst SettingsPage = () => {\r\n  const [{ themeSelectValue }, dispatch] = useContext(GlobalContext);\r\n  const setThemeSelectValue = useCallback(\r\n    data => {\r\n      dispatch({ type: \"setThemeSelectValue\", snippet: data });\r\n    },\r\n    [dispatch]\r\n  );\r\n  const handleThemeChange = e => {\r\n    setThemeSelectValue(e.target.value);\r\n    localStorage.setItem(\"selectedTheme\", e.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(themeSelectValue);\r\n  }, [themeSelectValue]);\r\n\r\n  const selectComp = (\r\n    <Box m={1}>\r\n      \r\n      <Select\r\n        value={themeSelectValue}\r\n        onChange={handleThemeChange}\r\n        displayEmpty\r\n        name=\"age\"\r\n      >\r\n        <MenuItem value=\"Default\">Default</MenuItem>\r\n        <MenuItem value=\"Dark\">Dark</MenuItem>\r\n        <MenuItem value=\"Auto\">Auto</MenuItem>\r\n      </Select>\r\n    </Box>\r\n  );\r\n  return (\r\n    <Grid  \r\n    style={{ height: \"80vh\" }}\r\n    container\r\n    direction=\"column\"\r\n    justify=\"space-around\"\r\n    alignItems=\"center\"\r\n  >\r\n   \r\n    <div className=\"form-section-music\">\r\n      <Typography variant=\"h5\" gutterBottom={true}>\r\n          Setting theme background{\" \"}\r\n      </Typography>\r\n      <FormControl component=\"fieldset\">\r\n        <FormGroup row>\r\n          <FormControlLabel\r\n            labelPlacement=\"start\"\r\n            label=\"Select Theme \"\r\n            value=\"top\"\r\n            control={selectComp}\r\n          />\r\n        </FormGroup>\r\n      </FormControl>\r\n    </div>\r\n  </Grid>\r\n      \r\n    \r\n  );\r\n};\r\nexport default SettingsPage;\r\n","import React from \"react\";\r\nimport { IconButton, CircularProgress } from \"@material-ui/core/\";\r\nimport {\r\n  PauseCircleFilled,\r\n  PlayCircleFilled,\r\n  Pause,\r\n  PlayArrow\r\n} from \"@material-ui/icons/\";\r\n\r\nconst PlayPauseButton = ({ player, audioState, minimized }) => {\r\n  const togglePlayPause = e => {\r\n    if (audioState === \"playing\") {\r\n      player.pause();\r\n    } else if (audioState === \"paused\") {\r\n      player.play();\r\n    }\r\n    e.stopPropagation();\r\n  };\r\n\r\n  const showPlayPause = () => {\r\n    if (audioState === \"playing\") {\r\n      // if the state will be minimized then we will return the nromal pause button\r\n      if (minimized) {\r\n        return <Pause style={{ fontSize: \"3em\", opacity: \".8\" }} />;\r\n      }\r\n      return <PauseCircleFilled style={{ fontSize: \"4em\" }} color=\"primary\" />;\r\n    } else if (audioState === \"paused\" || audioState === \"loaded\") {\r\n      if (minimized) {\r\n        return <PlayArrow style={{ fontSize: \"3em\", opacity: \".8\" }} />;\r\n      }\r\n      return <PlayCircleFilled style={{ fontSize: \"4em\" }} color=\"primary\" />;\r\n    } else if (audioState === \"loading\") {\r\n      return <CircularProgress />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <IconButton\r\n      size=\"small\"\r\n      color={minimized ? \"secondary\" : \"primary\"}\r\n      aria-label=\"Pause\"\r\n      onClick={togglePlayPause}\r\n      disableFocusRipple={true}\r\n      disableRipple={true}\r\n    >\r\n      {showPlayPause()}\r\n    </IconButton>\r\n  );\r\n};\r\n\r\nexport default PlayPauseButton;\r\n","import React from \"react\";\r\nimport { IconButton } from \"@material-ui/core/\";\r\nimport { SkipNext } from \"@material-ui/icons/\";\r\n\r\nconst PlayPauseButton = ({onPlayNext}) => {\r\n  return (\r\n    <IconButton color=\"primary\" aria-label=\"Next\" onClick={onPlayNext}>\r\n      <SkipNext fontSize=\"large\"/>\r\n    </IconButton>\r\n  );\r\n};\r\n\r\nexport default PlayPauseButton","import React from \"react\";\r\nimport { IconButton } from \"@material-ui/core/\";\r\nimport { SkipPrevious } from \"@material-ui/icons/\";\r\n\r\nconst PlayPauseButton = ({playPrevious}) => {\r\n  return (\r\n    <IconButton color=\"primary\" aria-label=\"Pause\" onClick={playPrevious}>\r\n      <SkipPrevious fontSize=\"large\"/>\r\n    </IconButton>\r\n  );\r\n};\r\n\r\nexport default PlayPauseButton","import React, { useState, useCallback } from \"react\";\r\nimport { useSwipeable } from \"react-swipeable\";\r\nimport { motion } from \"framer-motion\";\r\nimport { Avatar, Grid, Typography } from \"@material-ui/core\";\r\nimport { FavoriteTwoTone } from \"@material-ui/icons\";\r\nimport circleSvg from \"../../images/dottedCircle.svg\";\r\nimport { rateSong } from \"../../external/saveSong\";\r\n\r\nconst dblTouchTapMaxDelay = 300;\r\nlet latestTouchTap = {\r\n  time: 0,\r\n  target: null\r\n};\r\n\r\nfunction isDblTouchTap(event) {\r\n  const touchTap = {\r\n    time: new Date().getTime(),\r\n    target: event.currentTarget\r\n  };\r\n  const isFastDblTouchTap =\r\n    touchTap.target === latestTouchTap.target &&\r\n    touchTap.time - latestTouchTap.time < dblTouchTapMaxDelay;\r\n  latestTouchTap = touchTap;\r\n  return isFastDblTouchTap;\r\n}\r\n\r\n// let initialPosition;\r\n\r\nconst MusicArt = ({ data, rating, audioEl }) => {\r\n  const swipeUpHandler = useSwipeable({\r\n    onSwipedUp: e => {\r\n      dislikeSong();\r\n    }\r\n  });\r\n\r\n  const [heartStyle, setHeartStyle] = useState({\r\n    transform: \"scale(0)\"\r\n  });\r\n  const [artContainerStyle, setArtContainerStyle] = useState({\r\n    background: `url(${circleSvg}) no-repeat`,\r\n    padding: \"18px\",\r\n    position: \"relative\",\r\n    transition: \"transform 100ms\",\r\n    transform: \"translateY(0)\"\r\n  });\r\n\r\n  // const artContainerStyle = {\r\n  //   background: `url(${circleSvg}) no-repeat`,\r\n  //   padding: \"18px\",\r\n  //   position: \"relative\",\r\n  //   zIndex: \"1\"\r\n  // };\r\n\r\n  // if its less than 400 width we will use default hq thumbnail\r\n  const checkImg = e => {\r\n    if (e.target.naturalWidth < 400) {\r\n      e.target.src = data.sdThumbnail;\r\n    }\r\n  };\r\n\r\n  // double tap to like the song\r\n  const likeSong = useCallback(() => {\r\n    // run the like function to like provided with song id and rating\r\n    setHeartStyle({ transform: \"scale(0)\" });\r\n    setTimeout(() => {\r\n      setHeartStyle({ transform: \"scale(1)\" });\r\n    }, 300);\r\n  }, [setHeartStyle]);\r\n\r\n  const dislikeSong = useCallback(() => {\r\n    rateSong(data.id, \"disliked\");\r\n    setHeartStyle({ transform: \"scale(0)\" });\r\n    setTimeout(() => {\r\n      setHeartStyle({ transform: \"scale(1)\", color: \"#2d3436\" });\r\n    }, 200);\r\n  }, [setHeartStyle, data.id]);\r\n\r\n  React.useEffect(() => {\r\n    if (rating === \"liked\") {\r\n      likeSong();\r\n    } else if (rating === \"disliked\") {\r\n      dislikeSong();\r\n    } else {\r\n      setHeartStyle({ transform: \"scale(1)\" });\r\n    }\r\n  }, [rating, likeSong, dislikeSong, setHeartStyle]);\r\n\r\n  // if we find the channel name is before the song title we will remove it\r\n  //using the regex\r\n  const shortTitle = data => {\r\n    // this regex is to remove channel name from song title\r\n    const re = new RegExp(data.channelTitle + \" - | : \", \"g\");\r\n\r\n    return data.title.replace(re, \"\");\r\n  };\r\n\r\n  const getThumbnail = () => {\r\n    // if the thumbnail is downloaded then get it from database or else use the url to fetch\r\n    if (data.thumbnail) {\r\n      return window.URL.createObjectURL(data.thumbnail);\r\n    } else {\r\n      return data.maxThumbnail;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Grid\r\n      container\r\n      className=\"container-playerMusic\"\r\n      direction=\"column\"\r\n      justify=\"center\"\r\n      alignItems=\"center\"\r\n      style={{ marginTop: \"40px\" }}\r\n      onClick={e => {\r\n        if (isDblTouchTap(e)) {\r\n          likeSong();\r\n          rateSong(data.id, \"liked\", audioEl);\r\n        }\r\n        // call the like song function on double tap\r\n      }}\r\n    >\r\n      <motion.div\r\n        className=\"box-searchThumb\"\r\n        drag\r\n        dragElastic={true}\r\n        dragTransition={{ bounceStiffness: 100, bounceDamping: 10 }}\r\n        dragConstraints={{ left: 0, right: 0, top: 0, bottom: 0 }}\r\n        style={artContainerStyle}\r\n        {...swipeUpHandler}\r\n      >\r\n        <FavoriteTwoTone className={\"songHeart left\"} style={heartStyle} />\r\n        <FavoriteTwoTone className={\"songHeart right\"} style={heartStyle} />\r\n        <Avatar\r\n          className=\"searchThumb\"\r\n          style={{\r\n            width: \"215px\",\r\n            height: \"215px\",\r\n            boxShadow: \"#0000008c 1px 3px 8px\"\r\n          }}\r\n          alt=\"video thumbnail\"\r\n          src={getThumbnail()}\r\n          imgProps={{ onLoad: e => checkImg(e) }}\r\n        />\r\n      </motion.div>\r\n      <br />\r\n      <Typography variant=\"h5\" className=\"musicArtTitle\" align=\"center\">\r\n        {shortTitle(data)}\r\n      </Typography>\r\n      <h5 className=\"musicChannel\">\r\n        {data.channelTitle}\r\n      </h5>\r\n      <br />\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default MusicArt;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Dialog,\r\n  Switch,\r\n  DialogActions,\r\n  Button,\r\n  FormControlLabel,\r\n  // FormControl,\r\n  // DialogTitle,\r\n  Typography\r\n} from \"@material-ui/core\";\r\nimport { TimerOff, Timer } from \"@material-ui/icons\";\r\nimport { CircleSlider } from \"react-circle-slider\";\r\n\r\nconst setSleepTimeToLocalStorage = (time, alwaysOn) => {\r\n  const sleepTimerSettings = JSON.stringify({ time: time, alwaysOn: alwaysOn });\r\n\r\n  localStorage.setItem(\"sleepTimerSettings\", sleepTimerSettings);\r\n};\r\n\r\nconst getSleepTimeFromLocalStoarge = () => {\r\n  const sleepTimerSettings = localStorage.getItem(\"sleepTimerSettings\");\r\n  return JSON.parse(sleepTimerSettings);\r\n};\r\n\r\nconst removeSleepTimer = () => {\r\n  localStorage.removeItem(\"sleepTimerSettings\");\r\n};\r\n\r\nlet timerTimeout;\r\n\r\nfunction SleepTimer({ player }) {\r\n  const [sliderValue, changeSliderValue] = useState(20);\r\n  const [open, setOpen] = useState(false);\r\n  const [checkbox, setCheckbox] = useState(false);\r\n  const [isTimerSet, setIsTimerSet] = useState(false);\r\n\r\n  const setTimer = time => {\r\n    console.log(\"timer has been set with time\", time);\r\n    clearTimeout(timerTimeout);\r\n    setIsTimerSet(true);\r\n    timerTimeout = setTimeout(() => {\r\n      player.pause(); //pause after music finished\r\n    }, time * 60 * 1000);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const sleepTimerObj = getSleepTimeFromLocalStoarge();\r\n    if (sleepTimerObj) {\r\n      changeSliderValue(sleepTimerObj.time);\r\n      setCheckbox(sleepTimerObj.alwaysOn);\r\n    }\r\n\r\n    //only set timer when there is no timer\r\n    if (sleepTimerObj && sleepTimerObj.alwaysOn) {\r\n      console.log(sleepTimerObj);\r\n      setTimer(sleepTimerObj.time);\r\n    }\r\n    console.log(sleepTimerObj);\r\n  }, []);\r\n\r\n  const handleSetTimer = () => {\r\n    setSleepTimeToLocalStorage(sliderValue, checkbox);\r\n    //   then also set a set timeout\r\n    // if there is any timer already clear it\r\n    setOpen(false);\r\n    setTimer(sliderValue);\r\n  };\r\n\r\n  const handleRemove = () => {\r\n    removeSleepTimer();\r\n    setIsTimerSet(false);\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {isTimerSet ? (\r\n        <Timer color=\"primary\" onClick={() => setOpen(true)} />\r\n      ) : (\r\n        <TimerOff color=\"primary\" onClick={() => setOpen(true)} />\r\n      )}\r\n      <Dialog\r\n        style={{ zIndex: 1400 }}\r\n        open={open}\r\n        onClose={() => setOpen(false)}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <Typography\r\n          variant=\"h5\"\r\n          color=\"primary\"\r\n          align=\"center\"\r\n          style={{ marginTop: \"10px\" }}\r\n        >\r\n          Pause Music After\r\n        </Typography>\r\n        <div className=\"container\">\r\n          <div className=\"textContainer\">\r\n            {sliderValue}\r\n            <div className=\"minute\">MINUTES</div>\r\n          </div>\r\n          <CircleSlider\r\n            value={sliderValue}\r\n            stepSize={5}\r\n            onChange={value => changeSliderValue(value)}\r\n            size={300}\r\n            max={120}\r\n            gradientColorFrom=\"#ec008c\"\r\n            gradientColorTo=\"rgba(199, 79, 199, 0.753)\"\r\n            knobRadius={25}\r\n            progressWidth={30}\r\n            circleWidth={30}\r\n          />\r\n        </div>\r\n\r\n        <DialogActions>\r\n          <FormControlLabel\r\n            value=\"Always On\"\r\n            control={\r\n              <Switch\r\n                checked={checkbox}\r\n                onChange={e => setCheckbox(e.target.checked)}\r\n                value=\"checked always on\"\r\n                color=\"primary\"\r\n              />\r\n            }\r\n            label=\"ALWAYS\"\r\n            labelPlacement=\"end\"\r\n            style={{ color: \"rgba(199, 79, 199, 0.753)\" }}\r\n          />\r\n          <Button color=\"primary\" onClick={handleRemove}>\r\n            Remove\r\n          </Button>\r\n\r\n          <Button color=\"primary\" onClick={handleSetTimer}>\r\n            Set\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SleepTimer;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { withStyles, Typography, Grid, Slider } from \"@material-ui/core/\";\r\n// import { PauseCircleFilled } from \"@material-ui/icons/\";\r\n\r\nconst PrettoSlider = withStyles({\r\n  root: {\r\n    height: 6,\r\n    color: \"rgb(27, 154, 238)\",\r\n    textAlign: \"center\",\r\n  },\r\n  thumb: {\r\n    color: \"rgb(27, 154, 238)\",\r\n    height: 16,\r\n    width: 16,\r\n    marginTop: -5.3,\r\n    marginLeft: -8,\r\n    \"&::before\": {\r\n      content: \"''\",\r\n      height: \"inherit\",\r\n      width: \"inherit\",\r\n      position: \"absolute\",\r\n      transform: \"scale(1.6)\",\r\n      borderRadius: \"50px\",\r\n      border: \"1px solid\"\r\n    }\r\n  },\r\n  track: {\r\n    height: 6,\r\n    borderRadius: 4\r\n  },\r\n  rail: {\r\n    height: 6,\r\n    borderRadius: 4\r\n  }\r\n})(Slider);\r\n\r\nconst MiniSlider = withStyles({\r\n  root: {\r\n    height: 5,\r\n    position: \"relative\",\r\n    bottom: \"16px\",\r\n    color: \"#ffff\",\r\n    padding: 0\r\n  },\r\n  thumb: {\r\n    display: \"none\"\r\n  },\r\n  track: {\r\n    height: 4,\r\n    borderRadius: 0\r\n  },\r\n  rail: {\r\n    height: 4,\r\n    borderRadius: 0\r\n  }\r\n})(Slider);\r\n\r\nconst formatTime = secs => {\r\n  let minutes = Math.floor(secs / 60);\r\n  let seconds = Math.ceil(secs - minutes * 60);\r\n\r\n  if (seconds < 10) seconds = `0${seconds}`;\r\n\r\n  return `${minutes}:${seconds}`;\r\n};\r\n\r\nconst TimelineController = ({ audioState, player, minimized }) => {\r\n  // const [value, setValue] = useState(50);\r\n  const [currentTime, setCurrentTime] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (player) {\r\n      setCurrentTime(player.currentTime);\r\n    }\r\n    // we will update the time of player every 800ms\r\n    let setTimeInterval;\r\n    if (audioState === \"playing\") {\r\n      setTimeInterval = setInterval(() => {\r\n        setCurrentTime(player.currentTime);\r\n        console.log()\r\n      }, 800);\r\n    } else {\r\n      clearInterval(setTimeInterval);\r\n    }\r\n    return () => clearInterval(setTimeInterval);\r\n  }, [audioState, player]);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    player.currentTime = newValue;\r\n    setCurrentTime(newValue);\r\n  };\r\n\r\n  const showDuration = () => {\r\n    if (player) {\r\n      if (player.duration) {\r\n        return formatTime(player.duration);\r\n      } else {\r\n        return \"0:00\";\r\n      }\r\n    } else {\r\n      return 0;\r\n    }\r\n  };\r\n\r\n  // condition rendering\r\n  if (minimized) {\r\n    return (\r\n      <MiniSlider value={currentTime} max={player ? player.duration : 0} />\r\n    );\r\n  } else {\r\n    return (\r\n      <div style={{ margin: \"0 auto\", width: \"90%\" }}>\r\n        <Grid container direction=\"row\" justify=\"space-between\">\r\n          <Typography variant=\"body1\" className=\"timeright\">\r\n            {formatTime(currentTime)}\r\n          </Typography>\r\n          <Typography variant=\"body1\" className=\"timeright\">\r\n            {showDuration()}\r\n          </Typography>\r\n        </Grid>\r\n\r\n        <PrettoSlider\r\n          value={currentTime}\r\n          onChange={handleChange}\r\n          max={player ? player.duration : 0}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default TimelineController;\r\n","import React, { useState } from \"react\";\r\nimport { Grid, Slider } from \"@material-ui/core/\";\r\nimport { VolumeUp } from \"@material-ui/icons/\";\r\n\r\nconst VolumeController = ({ player, setPlayerState }) => {\r\n  const [volume, setVolume] = useState(100);\r\n\r\n  const volumeChange = (e, newVal) => {\r\n    setVolume(newVal);\r\n    player.volume = newVal / 100;\r\n    //\r\n  };\r\n\r\n\r\n  return (\r\n\r\n      <Grid container spacing={1} style={{ maxWidth: \"200px\", color:\"rgb(27, 154, 238)\" }}>\r\n        <Grid item>\r\n          <VolumeUp style={{color:\"rgb(27, 154, 238)\" }} />\r\n        </Grid>\r\n        <Grid  item xs={3}>\r\n          <Slider style={{color:\"rgb(27, 154, 238)\" }} value={volume} onChange={volumeChange} />\r\n        </Grid>\r\n      </Grid>\r\n  );\r\n};\r\n\r\nexport default VolumeController;\r\n","import React, { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { motion } from \"framer-motion\";\r\nimport { RiRepeatOneLine, RiRepeat2Fill, RiHome2Line} from 'react-icons/ri';\r\nimport { TiArrowShuffle, TiArrowLoop } from 'react-icons/ti';\r\n\r\n\r\nimport {\r\n  List,\r\n  ListItem,\r\n  Typography,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Grid,\r\n  LinearProgress\r\n} from \"@material-ui/core\";\r\n\r\nimport {\r\n  MusicVideo,\r\n  // LibraryMusic,\r\n  // Shuffle,\r\n  // Repea\r\n  KeyboardArrowUp,\r\n  KeyboardArrowDown,\r\n  // RepeatOne\r\n} from \"@material-ui/icons\";\r\n\r\n\r\nimport { GlobalContext } from \"./GlobalState\";\r\n\r\nlet renderResult, renderResult2;\r\n\r\n// written by @bushblade\r\nconst shuffle = arry =>\r\n  arry.reduce(\r\n    (acc, _, i) => {\r\n      const rnd = Math.floor(Math.random() * acc.length),\r\n        temp = acc[i];\r\n      acc[i] = acc[rnd];\r\n      acc[rnd] = temp;\r\n      return acc;\r\n    },\r\n    [...arry]\r\n  );\r\n\r\nconst RelatedVideos = ({\r\n  toggleMaxPlaylist,\r\n  setPlaylist,\r\n  playerState,\r\n  relatedVideos,\r\n  setRelatedVideos,\r\n  setIsRepeatOn,\r\n  songsDownloadedState,\r\n  isRepeatOn,\r\n  isLoadList,\r\n  setIsLoadList\r\n}) => {\r\n  const [{}, dispatch] = useContext(GlobalContext);\r\n\r\n  const setCurrentVideoSnippet = data => {\r\n    dispatch({ type: \"setCurrentVideoSnippet\", snippet: data });\r\n  };\r\n\r\n \r\n\r\n  \r\n  \r\n  const handleShuffleClick = () => {\r\n\r\n    if(isLoadList){\r\n      setRelatedVideos(shuffle(songsDownloadedState));\r\n\r\n    }else{\r\n      setRelatedVideos(shuffle(relatedVideos));\r\n    }\r\n    \r\n  };\r\n\r\n  const spring = {\r\n    type: \"spring\",\r\n    damping: 20,\r\n    stiffness: 300\r\n  };\r\n  const handleClick = video => {\r\n    // set all the info of current clicked video in this object\r\n    setCurrentVideoSnippet({\r\n      id: video.id.videoId,\r\n      title: video.snippet.title,\r\n      channelTitle: video.snippet.channelTitle,\r\n      maxThumbnail: `https://img.youtube.com/vi/${video.id.videoId}/maxresdefault.jpg`,\r\n      sdThumbnail: `https://img.youtube.com/vi/${video.id.videoId}/sddefault.jpg`\r\n      // this is the url of the max resolution of thumbnail\r\n    });\r\n    setPlaylist();\r\n  };\r\n  const handleClick2 = video => {\r\n    // set all the info of current clicked video in this object\r\n    setCurrentVideoSnippet({\r\n      id: video.videoId,\r\n      title: video.title,\r\n      channelTitle: video.channelTitle,\r\n      maxThumbnail: `https://img.youtube.com/vi/${video.videoId}/maxresdefault.jpg`,\r\n      sdThumbnail: `https://img.youtube.com/vi/${video.videoId}/sddefault.jpg`\r\n      // this is the url of the max resolution of thumbnail\r\n    });\r\n    setPlaylist();\r\n  };\r\n\r\n  try{\r\n\r\n    if ((relatedVideos.length > 1) || (songsDownloadedState.length > 1)) {\r\n      // console.log(relatedVideos)\r\n      // console.log(songsDownloadedState)\r\n     \r\n      if(isLoadList){\r\n        renderResult2 = songsDownloadedState.map(song => {\r\n          return (\r\n            <motion.li key={song.videoId} positionTransition={spring}>\r\n              <ListItem\r\n                button\r\n                onClick={() => handleClick2(song)}\r\n              >\r\n                <ListItemIcon>\r\n                  <MusicVideo style={{ color: \"#fff\" }} />\r\n                </ListItemIcon>\r\n                <ListItemText\r\n                  primary={song.title.slice(0, 40)}\r\n                  secondary={song.channelTitle.slice(0, 40)}\r\n                />\r\n              </ListItem>\r\n            </motion.li>\r\n          );\r\n        });\r\n      }else{\r\n        renderResult = relatedVideos.map(song => {\r\n          return (\r\n            <motion.li key={song.id.videoId} positionTransition={spring}>\r\n              <ListItem\r\n                button\r\n                onClick={() => handleClick(song)}\r\n              >\r\n                <ListItemIcon>\r\n                  <MusicVideo style={{ color: \"#fff\" }} />\r\n                </ListItemIcon>\r\n                <ListItemText\r\n                  primary={song.snippet.title.slice(0, 40)}\r\n                  secondary={song.snippet.channelTitle.slice(0, 40)}\r\n                />\r\n              </ListItem>\r\n            </motion.li>\r\n          );\r\n        })\r\n      }\r\n      \r\n    } else {\r\n      return <LinearProgress />;\r\n    }\r\n\r\n  } catch (err) {\r\n    console.log(err)\r\n  }\r\n  \r\n\r\n  const returnPlaylistExpandBtn = () => {\r\n    if (playerState === \"playlist\") {\r\n      return <KeyboardArrowDown onClick={toggleMaxPlaylist} />;\r\n    } else {\r\n      return <KeyboardArrowUp onClick={toggleMaxPlaylist} />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"RelatedVideoContainer\">\r\n      <Grid\r\n        className={\"playlistHeader\"}\r\n        container\r\n        direction=\"row\"\r\n        alignItems=\"center\"\r\n        justify=\"space-between\"\r\n      >\r\n        \r\n        <Link to={\"/music/home\"}>\r\n        <RiHome2Line className=\"cssIcons\" />\r\n        </Link>\r\n        {isLoadList ? (\r\n          <Typography variant=\"h6\" onClick={setIsLoadList}>Loaded List</Typography>\r\n        ) : (\r\n          <Typography variant=\"h6\" onClick={setIsLoadList}>Related List</Typography>\r\n        )}\r\n        \r\n        <TiArrowShuffle className=\"cssIcons\" onClick={handleShuffleClick} />\r\n        {/* this will show the repeat button and repeat the song */}\r\n        {(isRepeatOn === 1) ? (\r\n          <RiRepeatOneLine className=\"cssIcons\" onClick={() => setIsRepeatOn(2)} />\r\n        ) : <>\r\n          {\r\n            (isRepeatOn === 0) ? (<RiRepeat2Fill className=\"cssIcons\" onClick={() =>setIsRepeatOn(1)} />)\r\n          :\r\n          (<TiArrowLoop className=\"cssIcons\" onClick={() =>setIsRepeatOn(0)} />)\r\n          }\r\n          \r\n        </>}\r\n        {returnPlaylistExpandBtn()}\r\n      </Grid>\r\n      <List dense={true}>{isLoadList? renderResult2 : renderResult}</List>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RelatedVideos;\r\n","import React, { useEffect, useContext, useState, useRef } from \"react\";\nimport { Grid } from \"@material-ui/core\";\nimport { useSwipeable } from \"react-swipeable\";\nimport PlayPauseButton from \"./PlayPauseButton\";\nimport NextButton from \"./NextButton\";\nimport PreviousButton from \"./PreviousButton\";\nimport MusicArt from \"./MusicArt\";\nimport TimelineController from \"./TimelineController\";\nimport TopBar from \"./TopBar\";\nimport MiniMusicArt from \"./MiniMusicArt\";\nimport RelatedVideos from \"../RelatedVideos\";\nimport getAudioLink from \"../../apis/getAudioLink\";\nimport youtubeSearch from \"../../apis/youtubeSearch\";\nimport { updatePlayingSong } from \"../../external/saveSong\";\n\nimport { GlobalContext } from \"../GlobalState\";\n\nimport {\n  getDownloadedSongs,\n} from \"../../external/saveSong\";\n\n// window.onbeforeunload = function() {\n//   return 'You have unsaved changes!';\n// }\nlet relatedVideosVar;\n\nconst MainPlayer = ({ location, history }) => {\n  let params = new URLSearchParams(location.search);\n\n  const [{ currentVideoSnippet, themeSelectValue }, dispatch] = useContext(\n    GlobalContext\n  );\n\n  const setCurrentVideoSnippet = data => {\n    dispatch({ type: \"setCurrentVideoSnippet\", snippet: data });\n  };\n\n  const [relatedVideos, setRelatedVideos] = useState([]);\n  const [isItFromPlaylist, setIsItFromPlaylist] = useState(false);\n  const [songsDownloadedState, setSongsDownloaded] = useState([]);\n  const [audioState, setAudioState] = useState(null);\n  // there will be 4 states\n  // loading, loaded, playing, paused\n\n  const [playerState, setPlayerState] = useState(null);\n  // there will be 3 states\n  // maximized, minimized, playlist\n\n  const [minimized, setMinimized] = useState(true);\n  const [isRepeatOn, setIsRepeatOn] = useState(0);\n  const [isLoadList, setIsLoadList] = useState(false);\n  // const [isLoopList, setIsLoopList] = useState(false)\n  const [rating, setRating] = useState(\"none\");\n  const [isNextFromMini, setIsNextFromMini] = useState(false);\n  // const [audioURL, setAudioURL] = useState(null);\n  const body = document.querySelector(\"body\");\n\n  const audioPlayer = useRef();\n  const player = audioPlayer.current;\n\n  const proccessStateLoopList = (keyState) => {\n    console.log(\"here\", keyState)\n   if(keyState === 0){\n    setIsRepeatOn(0)\n   }else if(keyState === 1){\n    setIsRepeatOn(1)\n   }else{\n    setIsRepeatOn(2)\n   }\n    \n  }\n   \n\n\n  const setupMediaSessions = () => {\n    if (\"mediaSession\" in navigator) {\n      console.log(\"navigator setupped\");\n\n      navigator.mediaSession.metadata = new window.MediaMetadata({\n        title: currentVideoSnippet.title,\n        artist: currentVideoSnippet.channelTitle,\n        artwork: [\n          {\n            src: currentVideoSnippet.sdThumbnail,\n            sizes: \"512x512\",\n            type: \"image/png\"\n          }\n        ]\n      });\n      navigator.mediaSession.setActionHandler(\"play\", () => {\n        /* Code excerpted. */\n        playAudio();\n      });\n      navigator.mediaSession.setActionHandler(\"pause\", () => {\n        /* Code excerpted. */\n        audioPlayer.current.pause();\n      });\n      navigator.mediaSession.setActionHandler(\"previoustrack\", () => {\n        playPrevious();\n      });\n      navigator.mediaSession.setActionHandler(\"nexttrack\", () => {\n        playNext();\n      });\n    }\n  };\n\n  const playAudio = () => {\n    audioPlayer.current\n      .play()\n      .then(_ => {\n        // Automatic playback started!\n        // Show playing UI.\n        console.log(\"audio played auto\");\n        setupMediaSessions();\n      })\n      .catch(error => {\n        // Auto-play was prevented\n        // Show paused UI.\n        console.log(\"playback prevented\");\n        setAudioState(\"paused\");\n      });\n  };\n\n\n  useEffect(() => {\n    console.log(\"state changed triggedred\");\n    const getAudio = async data => {\n      // audioPlayer.current.src = \"\";\n      // maximize the player every time id changes\n      // only if playlist is not open\n      if (playerState !== \"playlist\" && !isNextFromMini) {\n        setPlayerState(\"maximized\");\n        //\n        console.log(\"maximizing here yar and state is\", playerState);\n      }\n\n      setTimeout(() => {\n        setIsNextFromMini(false);\n        // change it back to false\n      }, 200);\n\n      setAudioState(\"loading\");\n      const res = await getAudioLink.get(\"/song\", {\n        params: { id: data }\n      });\n\n      // set the audio data\n      // const proxyURL = \"http://localhost:9150/proxy/\";\n      audioPlayer.current.src = res.data;\n      playAudio();\n\n      // var audioContext = new AudioContext();\n\n      // var track = audioContext.createMediaElementSource(audioPlayer.current);\n      // track.connect(audioContext.destination);\n    };\n\n    if (currentVideoSnippet.audio) {\n      console.log(\"yes its downloaded we will play from local file\");\n      // maximize the player every time id changes\n\n      setPlayerState(\"maximized\");\n      setAudioState(\"loading\");\n      audioPlayer.current.src = window.URL.createObjectURL(\n        currentVideoSnippet.audio\n      );\n      playAudio();\n    } else if (currentVideoSnippet.id) {\n      getAudio(currentVideoSnippet.id);\n    }\n\n    if (currentVideoSnippet.id) {\n      const searchRelated = async () => {\n        const res = await youtubeSearch.get(\"/search\", {\n          params: {\n            relatedToVideoId: currentVideoSnippet.id,\n            maxResults: 20\n          }\n        });\n        setRelatedVideos(res.data.items);\n      };\n\n      // if its not from the mini next button then only change history\n      if (!isNextFromMini) {\n        // if the click is not from playlist then only we will search for realated video\n        if (!isItFromPlaylist) {\n          // console.log(\"searching for related vids\", relatedVideos);\n          // if player is in playlist mode we will just replace history else push it\n          if (location.pathname !== \"/ndsappbeta/play\") {\n            // prevent duplicating history\n            history.push(`/ndsappbeta/play?id=${currentVideoSnippet.id}`);\n          }\n\n          searchRelated();\n        } else {\n          history.replace(`/ndsappbeta/play?id=${currentVideoSnippet.id}`);\n          setIsItFromPlaylist(false);\n        }\n      }\n\n      console.log(currentVideoSnippet);\n    }\n\n    // set rating to none when we load new song\n    setRating(\"none\");\n  }, [currentVideoSnippet, setIsItFromPlaylist]);\n\n  useEffect( async ()  => {\n\n    setSongsDownloaded(await getDownloadedSongs());\n\n  }, [])\n\n  \n  // useEffect(() => {\n  //   if(isLoadList){\n      \n  //   }\n\n  // }, [isLoadList])\n  // useEffect(() => {\n  //   console.log(\"from playlist\", isItFromPlaylist);\n  // }, [isItFromPlaylist]);\n\n  useEffect(() => {\n    if(isLoadList){\n      relatedVideosVar = songsDownloadedState;\n    }else\n    if(relatedVideos){\n      relatedVideosVar = relatedVideos;\n    }\n    \n    console.log(\"related\", relatedVideos);\n  }, [relatedVideos, isLoadList]);\n\n  useEffect(() => {\n    console.log(\"isnext state\", isNextFromMini);\n  }, [isNextFromMini]);\n\n  const setAudioSrcAndPlay = async id => {\n    const res = await getAudioLink.get(\"/song\", {\n      params: { id: id }\n    });\n\n    // set the audio data\n    audioPlayer.current.src = res.data;\n    playAudio();\n  };\n\n  const setVideoSnippet = video => {\n    try{\n      setCurrentVideoSnippet({\n        id: video.id.videoId,\n        title: video.snippet.title,\n        channelTitle: video.snippet.channelTitle,\n        maxThumbnail: `https://img.youtube.com/vi/${video.id.videoId}/hqdefault.jpg`,\n        sdThumbnail: `https://img.youtube.com/vi/${video.id.videoId}/sddefault.jpg`\n        // this is the url of the max resolution of thumbnail\n      });\n    }\n    catch(err)\n    {\n      console.error('err', err)\n    }\n    // if window is minimized then only we will run this function\n    if (document.hidden) {\n      setAudioSrcAndPlay(video.id.videoId);\n    }\n  };\n  const setVideoSnippet2 = video => {\n    try{\n      setCurrentVideoSnippet({\n        id: video.videoId,\n        title: video.title,\n        channelTitle: video.channelTitle,\n        maxThumbnail: `https://img.youtube.com/vi/${video.videoId}/hqdefault.jpg`,\n        sdThumbnail: `https://img.youtube.com/vi/${video.videoId}/sddefault.jpg`\n        // this is the url of the max resolution of thumbnail\n      });\n    }\n    catch(err)\n    {\n      console.error('err', err)\n    }\n    // if window is minimized then only we will run this function\n    if (document.hidden) {\n      setAudioSrcAndPlay(video.videoId);\n    }\n  };\n\n  const playNext = () => {\n    // also set this is from playlist\n    setIsItFromPlaylist(true);\n    console.log(\"play next related videos\", relatedVideos);\n    // find the index of playing song in the playlist\n\n    if(isLoadList){\n      const currentIndex2 = relatedVideosVar.findIndex(\n        video => video.videoId === currentVideoSnippet.id\n      );\n      if(currentIndex2 === relatedVideosVar.length-1 && isRepeatOn === 2){\n        let video2 = relatedVideosVar[0];\n        setVideoSnippet2(video2);\n      }else{\n        let video2 = relatedVideosVar[currentIndex2 + 1];\n        setVideoSnippet2(video2);\n      } \n    }else{\n\n      const currentIndex = relatedVideosVar.findIndex(\n        video => video.id.videoId === currentVideoSnippet.id\n\n      );\n      if(currentIndex === relatedVideosVar.length-1 && isRepeatOn === 2){\n        let video = relatedVideosVar[0];\n        setVideoSnippet(video);\n      }else{\n        let video = relatedVideosVar[currentIndex + 1];\n        setVideoSnippet(video);\n      } \n      \n\n    }\n    \n\n\n    \n\n\n  };\n\n  const playPrevious = () => {\n    setIsItFromPlaylist(true);\n\n    // if the player time is greater than 5 sec we will move the time to 0\n    if (player.currentTime > 5) {\n      player.currentTime = 0;\n    } else\n      if(isLoadList){\n        const currentIndex = relatedVideosVar.findIndex(\n          video => video.videoId === currentVideoSnippet.id\n         \n        );\n        let video;\n        if (currentIndex !== -1) {\n          video = relatedVideosVar[currentIndex - 1]; //we will play the next song\n          setVideoSnippet2(video);\n        } else {\n          player.currentTime = 0;\n        }\n      } else {\n        const currentIndex = relatedVideosVar.findIndex(\n          video => video.id.videoId === currentVideoSnippet.id\n        \n        );\n        let video;\n        if (currentIndex !== -1) {\n          video = relatedVideosVar[currentIndex - 1]; //we will play the next song\n          setVideoSnippet(video);\n        } else {\n          player.currentTime = 0;\n      }\n    }\n  };\n\n  let playerStyle = {\n    position: \"fixed\",\n    right: 0,\n    bottom: 0,\n    background: \"#fff\",\n    width: \"100%\",\n    height: \"100%\",\n    zIndex: 1400,\n    display: \"inline block\",\n    transition: \"all .3s ease\"\n  };\n\n  if (playerState === \"minimized\") {\n    playerStyle.transform = \"translateY(calc(100% - 106px))\";\n    playerStyle.zIndex = 0;\n    // if theme is not dark then only apply the pink style\n    if (themeSelectValue === \"Dark\") {\n      playerStyle.background = \"#333\";\n    } else {\n      playerStyle.background = \"#e91e63\";\n    }\n    // playerStyle.bottom = \"48px\";\n    // calculate the top height and we are subtracting 148px becz\n    // 48 is the value of menu bar and 100px is minimized height\n    // make body overflow scroll \n    body.style.overflow = \"auto\";\n  }\n\n  if (playerState === \"maximized\") {\n    // make body overflow hidden \n    body.style.overflow = \"hidden\";\n    if (themeSelectValue === \"Dark\") {\n      playerStyle.background = \"#333\";\n    }\n  }\n\n  if (playerState === \"playlist\") {\n    playerStyle.transform = \"translateY(-418px)\";\n  }\n\n  const expandPlayer = (e) => {\n    e.preventDefault();\n    if (playerState === \"minimized\") {\n      setPlayerState(\"maximized\");\n      setMinimized(true);\n      history.push({\n        pathname: \"/ndsappbeta/play\",\n        search: `?id=${currentVideoSnippet.id}`,\n        state: { modal: true }\n      });\n    }\n  };\n\n  const toggleMaxPlaylist = () => {\n    if (playerState === \"playlist\") {\n      setPlayerState(\"maximized\");\n    } else {\n      setPlayerState(\"playlist\");\n    }\n    console.log(\"Maximize the playlist\");\n  };\n\n  const updateSongDB = async () => {\n    const rating = await updatePlayingSong(currentVideoSnippet);\n    //  it will update song on db and return the rating\n    setRating(rating);\n    console.log(rating);\n  };\n\n  // this will be fired when song is ended\n  const songEnded = () => {\n    // if repeat is false we will play next else just set the time to 0\n    if (isRepeatOn === 0 || isRepeatOn === 2) {\n      playNext();\n    } else if(isRepeatOn === 1){\n      audioPlayer.current.currentTime = 0;\n      playAudio();\n    }\n  };\n\n  let initPosition = 0;\n  const containerRef = useRef(null);\n\n  const swipeHandlerMaximized = useSwipeable({\n    onSwipedDown: e => {\n      setPlayerState(\"minimized\");\n      history.goBack();\n    },\n    onSwiping: e => {\n      // console.log(e);\n      // getting the event for touches to extract the position\n      if (initPosition === 0) {\n        initPosition = e.event.changedTouches[0].screenY;\n      }\n\n      const screenY = e.event.changedTouches[0].screenY;\n      let positionDifference = Math.round(screenY - initPosition);\n      if (positionDifference < 1) {\n        positionDifference = 0;\n      }\n\n      const containerRefStyle = containerRef.current.style;\n      containerRefStyle.transform = `translateY(${positionDifference}px)`;\n      containerRefStyle.transition = \"none\";\n    },\n    onSwiped: e => {\n      initPosition = 0;\n      containerRef.current.style = \"\";\n      // we will make the initial position 0 again after user leaves the screen\n    },\n    onSwipedUp: e => {\n      if (playerState === \"minimized\") {\n        setPlayerState(\"maximized\");\n      }\n    },\n    onSwipedRight: e => {\n      const playTimeout = setTimeout(() => {\n        clearTimeout(playTimeout);\n        playNext();\n      }, 250);\n    },\n    onSwipedLeft: e => {\n      const playTimeout = setTimeout(() => {\n        clearTimeout(playTimeout);\n        playPrevious();\n      }, 250);\n    }\n  });\n\n  const swipeHandlerMin = useSwipeable({\n    onSwipedUp: e => {\n      expandPlayer();\n    }\n  });\n\n  useEffect(() => {\n    if (location.pathname === \"/ndsappbeta/play\" && !currentVideoSnippet.id) {\n      console.log(\"history is in play fetching song\");\n\n      fetchAndSetCurrentVideoSnippet(params.get(\"id\")); // math will give the song id from\n    }\n    // we will only change if its push  otherwise while changing song from playlist changes the state\n\n    // Listen for changes to the current location.\n    // const unlisten = history.listen(location => {\n    //   // location is an object like window.location\n    //   if (location.pathname === \"/play\") {\n    //     // we will only change if its push  otherwise while changing song from playlist changes the state\n    //     if (history.action !== \"REPLACE\") {\n    //       setPlayerState(\"maximized\");\n    //       console.log(\"set player state to maximized\");\n    //     }\n    //   } else {\n    //     setPlayerState(\"minimized\");\n    //     console.log(\"set player state to minimized\");\n    //   }\n    //   console.log(history);\n    // });\n  }, [history]);\n\n  useEffect(() => {\n    console.log(playerState);\n  }, [playerState]);\n\n  const returnMinMaxClass = () => {\n    if (playerState === \"minimized\") {\n      return \"playerMinimized\";\n    } else if (playerState === \"playlist\") {\n      return \"playerPlaylist\";\n    }\n  };\n\n  const returnMaximizedPlayer = () => {\n    if (playerState === \"maximized\" || playerState === \"playlist\") {\n      return (\n        <>\n          <Grid\n            container\n            direction=\"column\"\n            className=\"main-player-inner\"\n            style={{\n              height: \" calc(100vh - 46px)\",\n              justifyContent: \"space-evenly\"\n            }}\n          >\n            <TopBar\n              song={currentVideoSnippet}\n              player={player}\n              setPlayerState={setPlayerState}\n              history={history}\n            />\n            <div {...swipeHandlerMaximized} className=\"musicArtContainer\">\n              <MusicArt\n                data={currentVideoSnippet}\n                rating={rating}\n                audioEl={player}\n              />\n            </div>\n            <TimelineController audioState={audioState} player={player} />\n\n            <Grid\n              container\n              direction=\"row\"\n              justify=\"space-evenly\"\n              alignItems=\"center\"\n              style={{ maxWidth: \"290px\", height: \"80px\", margin: \"0 auto\" }}\n            >\n              <PreviousButton playPrevious={playPrevious} />\n              <PlayPauseButton player={player} audioState={audioState} />\n              <NextButton onPlayNext={playNext} />\n            </Grid>\n          </Grid>\n          <RelatedVideos\n            toggleMaxPlaylist={toggleMaxPlaylist}\n            setPlaylist={() => setIsItFromPlaylist(true)}\n            playerState={playerState}\n            relatedVideos={relatedVideos}\n            setRelatedVideos={data => setRelatedVideos(data)}\n            isRepeatOn={isRepeatOn}\n            // this will set the repeat setting\n            setIsRepeatOn={(key) => proccessStateLoopList(key)}\n            songsDownloadedState = {songsDownloadedState}\n            isLoadList={isLoadList}\n            // this will set the using load list next song setting\n            setIsLoadList={() => {\n              console.log(\"set using Loaded List song\")\n              setIsLoadList(!isLoadList);\n            }}\n          />\n        </>\n      );\n    }\n  };\n\n  const returnMinimizedPlayer = () => {\n    if (playerState === \"minimized\" && currentVideoSnippet.id) {\n      return (\n        <div {...swipeHandlerMin}>\n          <MiniMusicArt\n            // we are making an object for props we will pass it to play pause button through mini music art\n            playPause={{\n              player: player,\n              minimized: minimized,\n              audioState: audioState\n            }}\n            playNext={e => {\n              e.stopPropagation();\n              setIsNextFromMini(true);\n              playNext();\n            }}\n            data={currentVideoSnippet}\n            emptyPlayer={e => {\n              e.stopPropagation();\n              setCurrentVideoSnippet([]);\n            }}\n          />\n          <TimelineController\n            audioState={audioState}\n            player={player}\n            minimized={minimized}\n          />\n        </div>\n      );\n    }\n  };\n\n  const fetchAndSetCurrentVideoSnippet = id => {\n    youtubeSearch\n      .get(\"videos\", {\n        params: {\n          id: id\n        }\n      })\n      .then(res => {\n        const item = res.data.items[0];\n        console.log(currentVideoSnippet);\n        setCurrentVideoSnippet({\n          id: item.id,\n          title: item.snippet.title,\n          channelTitle: item.snippet.channelTitle,\n          maxThumbnail: `https://img.youtube.com/vi/${item.id}/maxresdefault.jpg`,\n          sdThumbnail: `https://img.youtube.com/vi/${item.id}/sddefault.jpg`\n          // this is the url of the max resolution of thumbnail\n        });\n      });\n  };\n\n  if (!currentVideoSnippet.id) {\n    return null;\n  }\n\n  return (\n    <div\n      // drag=\"y\"\n      // dragConstraints={{ top: 0, bottom: 600 }}\n      ref={containerRef}\n      // style={playerStyle}\n      onClick={expandPlayer}\n      className={\"mediaPlayerContainer \" + returnMinMaxClass()}\n    >\n      {returnMaximizedPlayer()}\n      {returnMinimizedPlayer()}\n      <audio\n        // onTimeUpdate={timeUpdate}\n        onLoadStart={() => {\n          setAudioState(\"loading\");\n        }}\n        id=\"audio-element\"\n        onLoadedData={updateSongDB}\n        // crossOrigin=\"anonymous\"\n        onPlay={() => setAudioState(\"playing\")}\n        onPlaying={() => setAudioState(\"playing\")}\n        onPause={() => setAudioState(\"paused\")}\n        onEnded={songEnded}\n        autoPlay\n        ref={audioPlayer}\n        // type=\"audio/mp4\"\n      />\n    </div>\n  );\n};\n\nexport default MainPlayer;\n","import React, {\r\n  useContext,\r\n  useState,\r\n  useEffect,\r\n  useCallback,\r\n  Suspense,\r\n  lazy\r\n} from \"react\";\r\n\r\nimport {\r\n  // BrowserRouter as Router,\r\n  withRouter,\r\n  Route,\r\n  Link,\r\n  Switch\r\n} from \"react-router-dom\";\r\n\r\n// import { AnimatePresence } from \"framer-motion\";\r\nimport {\r\n  Tabs,\r\n  Tab,\r\n  withStyles,\r\n  Grid,\r\n  CircularProgress\r\n} from \"@material-ui/core\";\r\n\r\n\r\nimport {\r\n  Home,\r\n  Favorite,\r\n  // VideoLibrary,\r\n  History,\r\n  GetApp\r\n} from \"@material-ui/icons/\";\r\n\r\nimport { GlobalContext } from \"./GlobalState\";\r\nimport {\r\n  getHistory,\r\n  getLikedSongs,\r\n  getDownloadedSongs,\r\n  removeDownloadingState,\r\n  db\r\n} from \"../external/saveSong\";\r\n\r\nimport SettingsPage from \"./sections/SettingsPage\";\r\n// import the db from save song\r\nimport MainPlayer from \"../components/player/MainPlayer\";\r\nimport Errors from \"../pages/Error\";\r\n// pages\r\nconst LoginPage = lazy(() => import(\"./LoginPage\"));\r\nconst RenderDatabase = lazy(() => import(\"./RenderDatabase\"));\r\nconst SearchResult = lazy(() => import(\"./SearchResult\"));\r\nconst HomePage = lazy(() => import(\"./sections/HomePage\"));\r\nconst FeedbackForm = lazy(() => import(\"./sections/FeedbackForm\"));\r\nconst PrivacyPage = lazy(() => import(\"./sections/PrivacyPage\"));\r\nconst DonatePage = lazy(() => import(\"./sections/DonatePage\"));\r\nconst ContributorsPage = lazy(() => import(\"./sections/ContributorsPage\"));\r\n\r\n// custom styling the tab menus\r\nconst CustomTab = withStyles({\r\n  root: {\r\n    background: \"#4d6472\",\r\n    position: \"fixed\",\r\n    bottom: \"0\",\r\n    padding: 0,\r\n    width: \"100%\",\r\n    zIndex: 1300\r\n  },\r\n  indicator: {\r\n    display: \"none\"\r\n  },\r\n  // labelIcon: {\r\n  //   margin: 0\r\n  // }\r\n})(Tabs);\r\n\r\nconst CustomTabs = withStyles({\r\n  root: {\r\n    color: \"#FFB2C1\",\r\n    fontSize: \".75rem\",\r\n    margin: 0,\r\n\r\n    \"&:hover\": {\r\n      color: \"#ffffffed\",\r\n      opacity: 1\r\n    },\r\n    \"&$selected\": {\r\n      color: \"#fff\"\r\n    },\r\n    \"&:focus\": {\r\n      color: \"#FFFFFF\"\r\n    }\r\n  },\r\n\r\n  selected: {}\r\n})(Tab);\r\n\r\nlet deferredPrompt = undefined;\r\nlet previousLocation;\r\n\r\nwindow.addEventListener(\"beforeinstallprompt\", e => {\r\n  // Stash the event so it can be triggered later.\r\n  deferredPrompt = e;\r\n});\r\n\r\nconst CurrentSection = ({ history, location }) => {\r\n  const [{ currentVideoSnippet, searchResult }] = useContext(GlobalContext);\r\n  console.log(currentVideoSnippet);\r\n\r\n  const [songsHistoryState, setSongsHistory] = useState([]);\r\n  const [songsLikedState, setSongsLiked] = useState([]);\r\n  const [songsDownloadedState, setSongsDownloaded] = useState([]);\r\n  const [tabValue, setTabValue] = useState(0);\r\n  const [updateCount, setUpdateCount] = useState(0);\r\n  const [redirectState, setRedirectState] = useState(null);\r\n  \r\n\r\n  const circularLoader = (\r\n    <Grid\r\n      style={{ height: \"100vh\" }}\r\n      container\r\n      justify=\"center\"\r\n      alignItems=\"center\"\r\n      className={'default'}\r\n    >\r\n      <CircularProgress />\r\n    </Grid>\r\n  );\r\n\r\n  function handleChange(event, newValue) {\r\n    setTabValue(newValue);\r\n  }\r\n\r\n  const fetchSongs = useCallback(async () => {\r\n    //it's same as the orders of our tabs\r\n    switch (tabValue) {\r\n      case 1:\r\n        setSongsLiked(await getLikedSongs());\r\n        break;\r\n\r\n      case 2:\r\n        setSongsDownloaded(await getDownloadedSongs());\r\n        break;\r\n\r\n      case 3:\r\n        setSongsHistory(await getHistory());\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }, [tabValue]);\r\n  //\r\n  useEffect(() => {\r\n    fetchSongs();\r\n  }, [tabValue, fetchSongs]);\r\n\r\n  useEffect(() => {\r\n    fetchSongs();\r\n    console.log(\"fetching the songs\");\r\n  }, [updateCount, fetchSongs]);\r\n\r\n  useEffect(() => {\r\n    db.on(\"changes\", () => {\r\n      setUpdateCount(c => c + 1);\r\n    });\r\n    // will remove all the songs which are downloading in the first place\r\n    removeDownloadingState();\r\n\r\n    const isThisNewUser = localStorage.getItem(\"isThisNew\");\r\n    if (isThisNewUser === \"no\") {\r\n      setRedirectState(true);\r\n    }\r\n    // if this is not a new user redirect it to home\r\n    previousLocation = location;\r\n    history.listen(location => {\r\n      if (location.pathname !== \"/ndsappbeta/play\") {\r\n        previousLocation = location;\r\n        console.log(previousLocation);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // we will redirect everytime user comes to root page\r\n    if (redirectState && history.location.pathname === \"/ndsappbeta/\") {\r\n      history.replace(\"/ndsappbeta/home\");\r\n    }\r\n\r\n    // if the location is not play then we will push new location\r\n  }, [setRedirectState, history, redirectState]);\r\n\r\n  const checkPrevLocation = () => {\r\n    if (location.pathname === \"/ndsappbeta/play\") {\r\n      return previousLocation;\r\n    } else {\r\n      return location;\r\n    }\r\n  };\r\n\r\n  // we will load the homepage with all the playlists\r\n  const continueToHome = () => {\r\n    localStorage.setItem(\"isThisNew\", \"no\");\r\n    history.replace(\"/ndsappbeta/\");\r\n\r\n    if (deferredPrompt) {\r\n      // show the prompt to install app\r\n      deferredPrompt.prompt();\r\n      // Wait for the user to respond to the prompt\r\n      deferredPrompt.userChoice.then(choiceResult => {\r\n        if (choiceResult.outcome === \"accepted\") {\r\n          console.log(\"User accepted the A2HS prompt\");\r\n        } else {\r\n          console.log(\"User dismissed the A2HS prompt\");\r\n        }\r\n        deferredPrompt = null;\r\n      });\r\n    }\r\n  };\r\n\r\n  const returnMainPlayer = props => {\r\n    // we will return the main player if the path is not the \"/\"\r\n\r\n    if (window.location.pathname !== \"/ndsappbeta/\") {\r\n      return <MainPlayer {...props} />;\r\n    } else {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // the set tab value will keep the tab active on their route\r\n  // there are 4 tabs so there will be 3 indexes\r\n  return (\r\n    <div>\r\n      <Suspense fallback={circularLoader}>\r\n        <Switch location={checkPrevLocation()}>\r\n          <Route\r\n            exact\r\n            path=\"/ndsappbeta/music\"\r\n            render={props => {\r\n              return <LoginPage continueToHome={continueToHome} />;\r\n            }}\r\n          />\r\n          <Route\r\n            path=\"/search\"\r\n            render={props => <SearchResult videos={searchResult} />}\r\n          />\r\n          <Route\r\n            path=\"/ndsappbeta/music/home\"\r\n            render={props => {\r\n              setTabValue(0);\r\n              return <HomePage />;\r\n            }}\r\n          />\r\n          <Route\r\n            path=\"/ndsappbeta/music/liked\"\r\n            render={props => {\r\n              setTabValue(1);\r\n              return (\r\n                <RenderDatabase\r\n                  songs={songsLikedState}\r\n                  {...props}\r\n                  key={location.pathname}\r\n                />\r\n              );\r\n            }}\r\n          />\r\n          <Route\r\n            path=\"/ndsappbeta/music/downloads\"\r\n            render={props => {\r\n              setTabValue(2);\r\n              return (\r\n                <RenderDatabase\r\n                  songs={songsDownloadedState}\r\n                  key={location.pathname}\r\n                />\r\n              );\r\n            }}\r\n          />\r\n          <Route\r\n            path=\"/ndsappbeta/music/history\"\r\n            render={props => {\r\n              setTabValue(3);\r\n              return (\r\n                <RenderDatabase\r\n                  songs={songsHistoryState}\r\n                  key={location.pathname}\r\n                />\r\n              );\r\n            }}\r\n          />\r\n          <Route\r\n            path=\"/ndsappbeta/music/app\"\r\n            render={props => {\r\n              window.location.replace(\r\n                \"/ndsappbeta/\"\r\n              );\r\n              return <div>Redirecting you to play store</div>;\r\n            }}\r\n          />\r\n\r\n          <Route path=\"/ndsappbeta/music/settings\" component={SettingsPage} />\r\n          <Route path=\"/ndsappbeta/music/privacy\" component={PrivacyPage} />\r\n\r\n          <Route path=\"/ndsappbeta/music/feedback\" component={FeedbackForm} />\r\n          <Route path=\"/ndsappbeta/music/help\" component={DonatePage} />\r\n          <Route path=\"/ndsappbeta/music/contributors\" component={ContributorsPage} />\r\n          <Route component={Errors} />\r\n        </Switch>\r\n        <Route path=\"/\" render={props => returnMainPlayer(props)} />\r\n\r\n        <div style={{ height: currentVideoSnippet.id ? \"100px\" : \"50px\" }} />\r\n      </Suspense>\r\n      {/* if the player is on then return 100px else 50px*/}\r\n      <CustomTab\r\n        value={tabValue}\r\n        onChange={handleChange}\r\n        variant=\"fullWidth\"\r\n        indicatorColor=\"primary\"\r\n        textColor=\"primary\"\r\n      >\r\n        <CustomTabs\r\n          icon={<Home />}\r\n          aria-label=\"Home\"\r\n          component={Link}\r\n          to=\"/ndsappbeta/music/home\"\r\n          label=\"Home\"\r\n        />\r\n\r\n        <CustomTabs\r\n          icon={<Favorite />}\r\n          aria-label=\"Liked\"\r\n          component={Link}\r\n          to=\"/ndsappbeta/music/liked\"\r\n          label=\"Liked\"\r\n        />\r\n\r\n        <CustomTabs\r\n          icon={<GetApp />}\r\n          aria-label=\"Downloads\"\r\n          component={Link}\r\n          to=\"/ndsappbeta/music/downloads\"\r\n          label=\"Downloads\"\r\n        />\r\n        <CustomTabs\r\n          icon={<History />}\r\n          aria-label=\"History\"\r\n          component={Link}\r\n          to=\"/ndsappbeta/music/history\"\r\n          label=\"History\"\r\n        />\r\n      </CustomTab>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(CurrentSection);\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport {\r\n  // IconButton,\r\n  Grid,\r\n  // Slider,\r\n  LinearProgress,\r\n  // makeStyles,\r\n  withStyles\r\n} from \"@material-ui/core/\";\r\n\r\nimport {\r\n  ExpandMore,\r\n  GetApp,\r\n  Reply,\r\n  DoneOutline,\r\n  // Done,\r\n  // AlarmOff\r\n} from \"@material-ui/icons/\";\r\nimport VolumeController from \"./VolumeController\";\r\nimport { useSongMethods } from \"../RenderDatabase\";\r\n// import { downloadSong } from \"../../external/saveSong\";\r\nimport SleepTimer from './SleepTimer'\r\nimport { GlobalContext } from \"../GlobalState\";\r\n\r\nconst DownloadLoader = withStyles({\r\n  root: {\r\n    height: 2,\r\n    width: \"70%\",\r\n    margin: \"0 auto\",\r\n    transform: \"translateY(-10px)\"\r\n  }\r\n})(LinearProgress);\r\n\r\nconst TopBar = ({ song, player, setPlayerState, history }) => {\r\n  const { snackbarMsg } = useContext(GlobalContext);\r\n  const [isSongDownloaded, setSongDownloaded] = useState(false);\r\n  const [isSongDownloading, setSongDownloading] = useState(false);\r\n\r\n  const {\r\n    handleDownload,\r\n    handleRemoveSong,\r\n    deleteDialogComponent\r\n  } = useSongMethods();\r\n\r\n  useEffect(() => {\r\n    if (snackbarMsg === \"Song Downloaded\" || song.audio) {\r\n      setSongDownloaded(true);\r\n      setSongDownloading(false);\r\n    }\r\n  }, [snackbarMsg]);\r\n  // if the song is downloaded we will change\r\n\r\n  // share prompt using chrome web api\r\n  const shareSong = () => {\r\n    if (navigator.share) {\r\n      navigator\r\n        .share({\r\n          title: \"Share This Song\",\r\n          text: `Hey Listen to ${song.title} on nDs Music`,\r\n          url: window.location.href //get the current window url\r\n        })\r\n        .then(() => console.log(\"Successful share\"))\r\n        .catch(error => console.log(\"Error sharing\", error));\r\n    } else {\r\n      console.log(\"Web Share API is not supported in your browser.\")\r\n  }\r\n  };\r\n\r\n  const minimizePlayer = () => {\r\n    setPlayerState(\"minimized\");\r\n  };\r\n\r\n  return (\r\n    <Grid\r\n      container\r\n      justify=\"space-between\"\r\n      direction=\"row\"\r\n      style={{\r\n        padding: \" 0 10px\",\r\n        marginTop: \"10px\",\r\n        position: \"absolute\",\r\n        top: \"0\"\r\n      }}\r\n    >\r\n      <VolumeController player={player} />\r\n      {deleteDialogComponent}\r\n      <Reply\r\n        style={{ transform: \" scaleX(-1) translateY(-2px)\" }}\r\n        onClick={shareSong}\r\n        color=\"primary\"\r\n      />\r\n      \r\n      <SleepTimer player={player}/>\r\n      <div>\r\n      {isSongDownloaded ? (\r\n        <DoneOutline\r\n          color=\"primary\"\r\n          onClick={() => handleRemoveSong(song.id)}\r\n        /> //song will be removed\r\n      ) : (\r\n        <>\r\n          <GetApp\r\n            color=\"primary\"\r\n            onClick={() => {\r\n              handleDownload(song.id);\r\n              setSongDownloading(true);\r\n            }}\r\n          />\r\n        </>\r\n      )}\r\n      {isSongDownloading ? <DownloadLoader color=\"primary\" /> : null}\r\n      {/* if the song is downloading we will show loading */}\r\n      </div>\r\n\r\n      <ExpandMore\r\n        onClick={minimizePlayer}\r\n        color=\"primary\"\r\n        fontSize=\"large\"\r\n        style={{ transform: \"translateY(-7px)\" }}\r\n      />\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default TopBar;\r\n","import React from \"react\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport { SkipNext, Close } from \"@material-ui/icons\";\r\nimport PlayPauseButton from \"./PlayPauseButton\";\r\n\r\n\r\nconst MiniMuiscArt = ({ playPause, data, playNext, emptyPlayer }) => {\r\n  const getThumbnail = () => {\r\n    // if the thumbnail is downloaded then get it from database or else use the url to fetch\r\n    if (data.thumbnail) {\r\n      return window.URL.createObjectURL(data.thumbnail);\r\n    } else {\r\n      return data.sdThumbnail;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={\"mainContainer\"}>\r\n      <div className={\"overflow-hidden\"}>\r\n        <div className=\"details\">\r\n          <Typography variant=\"body1\">{data.title}</Typography>\r\n          <Typography variant=\"body2\">{data.channelTitle}</Typography>\r\n        </div>\r\n        <div className=\"buttons\">\r\n          <SkipNext onClick={playNext} />\r\n          <Close onClick={emptyPlayer} />\r\n        </div>\r\n        <div className={\"miniArtContainer\"}>\r\n          <div className={\"mainArt\"}>\r\n            <img\r\n              className={\"miniArtImg\"}\r\n              src={getThumbnail()}\r\n              alt=\"music art\"\r\n            />\r\n            <PlayPauseButton\r\n              player={playPause.player}\r\n              minimized={playPause.minimized}\r\n              audioState={playPause.audioState}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MiniMuiscArt;\r\n","import React from 'react'\r\n\r\nconst LoadingMini = () => {\r\n\r\n\r\n    return(\r\n        <div id=\"loader-mini\">\r\n            <div id=\"shadow-loading-mini\"></div>\r\n            <div id=\"box-loading-mini\"></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoadingMini","import React, { Component } from 'react';\r\nimport Hero from \"../components/Hero\";\r\nimport {Link} from 'react-router-dom';\r\nimport Banner from '../components/Banner';\r\nimport {Helmet} from \"react-helmet\";\r\n// import Loading from '../components/Loading';\r\nimport LoadingMini from '../components/Loading-mini';\r\n\r\n//import {Grid, Cell, ProgressBar} from 'react-mdl';\r\nclass Error extends Component {\r\n\t render() {\r\n\t \treturn(\r\n\t\t\t <>\r\n\r\n \t\t\t\t<Hero>\r\n\r\n\t\t\t\t\t<Helmet>\r\n\t\t\t\t\t\t<title>Error | nDsBuilding</title>\r\n\t\t\t\t\t</Helmet>\r\n\t\t\t\t\t<div className=\"loading-error-url\">\r\n\t\t\t\t\t\t<LoadingMini />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n \t\t\t\t\t<Banner title='404' subtitle=\"Page Not Found\">\r\n\r\n \t\t\t\t\t\t<Link to='/' className=\"btn-primary\">\r\n \t\t\t\t\t\tReturn Home\r\n \t\t\t\t\t\t</Link>\r\n \t\t\t\t\t </Banner>\r\n \t\t\t\t </Hero>\r\n\t\t\t\t</>\r\n\t \t\t);\r\n\t }\r\n}\r\nexport default Error;","import React, { useEffect, useContext } from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\n\r\nimport SimpleAppBar from \"./header/SimpleAppBar\";\r\n// import MainPlayer from \"./player/MainPlayer\";\r\nimport SwipeMenu from \"./SwipeMenu\";\r\nimport SnackbarMessage from \"./SnackbarMessage\";\r\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\r\nimport { blueGrey, blue } from \"@material-ui/core/colors\";\r\n\r\nimport { useCheckDarkmode } from \"./sections/SettingsPage\";\r\nimport { GlobalContext } from \"./GlobalState\";\r\nimport CurrentSection from \"./CurrentSection\";\r\n\r\nconst body = document.querySelector(\"body\");\r\n\r\nconst defaultTheme = {\r\n  palette: {\r\n    primary: blueGrey,\r\n    third: blue,\r\n    secondary: {\r\n      main: \"#263238\"\r\n    }\r\n  },\r\n  typography: {\r\n    useNextVariants: true\r\n  }\r\n};\r\n\r\nconst darkTheme = {\r\n  palette: {\r\n    type: \"dark\",\r\n    primary: blueGrey,\r\n    third: blue,\r\n    secondary: {\r\n      main: \"#263238\"\r\n    }\r\n  },\r\n  typography: {\r\n    useNextVariants: true\r\n  }\r\n};\r\n\r\nconst muiDarkTheme = createMuiTheme(darkTheme);\r\nconst muiDefaultTheme = createMuiTheme(defaultTheme);\r\n\r\nconst App2 = () => {\r\n  const [{ themeSelectValue }, dispatch] = useContext(GlobalContext);\r\n\r\n  const { checkDarkMode } = useCheckDarkmode();\r\n\r\n  useEffect(() => {\r\n    checkDarkMode();\r\n\r\n    if (navigator.userAgent.match(/Android/i)) {\r\n      body.style.overscrollBehavior = \"none\";\r\n      // this is to disable pull refresh on android\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (themeSelectValue === \"Dark\") {\r\n      body.classList.add(\"dark\");\r\n    } else {\r\n      body.classList.remove(\"dark\");\r\n    }\r\n  }, [themeSelectValue]);\r\n\r\n  return (\r\n    <MuiThemeProvider theme={themeSelectValue === \"Dark\" ? muiDarkTheme : muiDefaultTheme}>\r\n      <Switch>\r\n      <Router>\r\n            <SimpleAppBar />\r\n            <Route component={CurrentSection} />\r\n            <SnackbarMessage />\r\n            <SwipeMenu />\r\n        </Router> \r\n      </Switch>\r\n       \r\n    </MuiThemeProvider>\r\n  );\r\n};\r\nexport default App2;\r\n","import React from \"react\";\r\nimport App2 from \"../components/App2\";\r\nimport { GlobalState } from \"../components/GlobalState\";\r\nimport '../App.css';\r\nimport {Helmet} from \"react-helmet\";\r\n\r\nfunction App() {\r\n  return (\r\n   <GlobalState>\r\n      <Helmet>\r\n          <title>Music | nDsBuilding</title>\r\n      </Helmet>\r\n      <App2 />\r\n    </GlobalState> \r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n// this do not works","import React from 'react';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport loadingGif from '../images/Logosvg2.svg';\r\nimport styled from 'styled-components';\r\n\r\n\r\nfunction AuthWrapper({ children }) {\r\n  const { isLoading, error } = useAuth0();\r\n  if (isLoading) {\r\n    return (\r\n      <Wrapper>\r\n        <img src={loadingGif} alt='spinner' />\r\n      </Wrapper>\r\n    );\r\n  }\r\n  if (error) {\r\n    return (\r\n      <Wrapper>\r\n        <h1>{error.message}</h1>\r\n      </Wrapper>\r\n    );\r\n  }\r\n  return <>{children}</>;\r\n}\r\n\r\nconst Wrapper = styled.section`\r\n  min-height: 100vh;\r\n  display: grid;\r\n  place-items: center;\r\n  img {\r\n    width: 150px;\r\n  }\r\n`;\r\n\r\nexport default AuthWrapper;","import React from \"react\";\r\nimport {\r\n  // FormControl,\r\n  TextField,\r\n  Button,\r\n  Grid,\r\n  // CircularProgress,\r\n  LinearProgress,\r\n  Typography,\r\n  Container,\r\n} from \"@material-ui/core\";\r\nimport { loadReCaptcha, ReCaptcha } from \"react-recaptcha-v3\";\r\nimport axios from \"../../apis/axios\";\r\n// import { GlobalContext } from \"../GlobalState\";\r\n\r\nlet captchaToken;\r\nconst FeedbackApp = () => {\r\n  // const [{}, dispatch] = useContext(GlobalContext);\r\n\r\n  // const setSnackbarMsg = React.useCallback(\r\n  //   data => {\r\n  //     dispatch({ type: \"setSnackbarMsg\", snippet: data });\r\n  //   },\r\n  //   [dispatch]\r\n  // );\r\n  const [isFormActive, setIsFormActive] = React.useState(false);\r\n  const [isEmail, setIsEmail] = React.useState(false);\r\n  const [isSending, setIsSending] = React.useState(false);\r\n  const formEl = React.useRef(null);\r\n  const formElEmail = React.useRef(null);\r\n\r\n  const handleButton = (e) => {\r\n    e.preventDefault();\r\n    setIsFormActive(true);\r\n    setIsEmail(!isEmail);\r\n  }\r\n\r\n  const submitFormEmail = async (e) => {\r\n    setIsSending(true);\r\n    const formData = new FormData(formElEmail.current);\r\n    const name = formData.get(\"name\");\r\n    const email = formData.get(\"email\");\r\n    const message = formData.get(\"message\");\r\n    \r\n    e.preventDefault();\r\n    const post = {\r\n      email: email,\r\n      message: message,\r\n      token: captchaToken,\r\n      name: name,\r\n      }\r\n      await axios\r\n      .post('/ndsapi/mail', post)\r\n      .then(function(response) {\r\n        console.log(response.data.status);\r\n        // console.log(response.data.message);\r\n        // also clear the form\r\n        alert(\"Your Message Sent\"); \r\n        formElEmail.current.reset();\r\n        // setSnackbarMsg(response.data.status);\r\n        setIsSending(false);\r\n        setIsFormActive(false);\r\n\r\n      })\r\n      .catch(function(error) {\r\n        // console.log(error.response.status);\r\n        if (error.response) {\r\n          if (error.response.status === 429) {\r\n            formElEmail.current.reset();\r\n            alert(\"Message failed to send please try again\")\r\n            // setSnackbarMsg(\"We accept limited feedback!\");\r\n          }\r\n        }\r\n        setIsSending(false);\r\n      });\r\n  //   const response = await fetch(\"http://localhost:9150\", { \r\n  //     method: 'POST', \r\n  //     headers: { \r\n  //         'Content-type': 'application/json'\r\n  //     }, \r\n  //     body: JSON.stringify({email, message, token}) \r\n  //   }); \r\n  //     const resData = await response.json(); \r\n  //     if (resData.status === 'success'){\r\n  //       setIsSending(false);\r\n  //       formElEmail.current.reset();\r\n       \r\n  //       this.resetForm()\r\n  //   }else if(resData.status === 'fail'){\r\n  //       setIsSending(false);\r\n        \r\n        \r\n  //   }\r\n\r\n  }\r\n\r\n  const submitForm = async (e) => {\r\n    // set state to sending\r\n    setIsSending(true);\r\n    const formData = new FormData(formEl.current);\r\n    const name = formData.get(\"name\");\r\n    const email = formData.get(\"email\");\r\n    const message = formData.get(\"message\");\r\n\r\n    e.preventDefault();\r\n\r\n    const post = {\r\n      name: name,\r\n      email: email,\r\n      message: message,\r\n      token: captchaToken,\r\n      timestamp: new Date(),\r\n      }\r\n\r\n    await axios\r\n          .post('/ndsapi/feedback', post)\r\n          .then(function(response) {\r\n            console.log(response.data.status);\r\n            console.log(response.data.message);\r\n            // also clear the form\r\n            formEl.current.reset();\r\n            alert(\"Your Message Sent\");\r\n            // setSnackbarMsg(response.data.status);\r\n            setIsSending(false);\r\n            setIsFormActive(false);\r\n          })\r\n          .catch(function(error) {\r\n            // console.log(error.response.status);\r\n            if (error.response) {\r\n              if (error.response.status === 429) {\r\n                formEl.current.reset();\r\n                alert(\"Message failed to send please try again\")\r\n                // setSnackbarMsg(\"We accept limited feedback!\");\r\n              }\r\n            }\r\n            setIsSending(false);\r\n          });\r\n      };\r\n\r\n  React.useEffect(() => {\r\n    loadReCaptcha(\"6Le1toEUAAAAAITyNwqEMaz3hFAYzciSJDMomrgN\");\r\n  }, []);\r\n\r\n  const verifyCallback = token => {\r\n    console.log(token);\r\n    captchaToken = token;\r\n    const captchaBox = document.querySelector(\".grecaptcha-badge\");\r\n    captchaBox.remove();\r\n    // remove captcha badge\r\n  };\r\n\r\n  return (\r\n    <div className=\"privacy-app\">\r\n       <Container maxWidth=\"sm\">\r\n       <header>\r\n        <Typography variant=\"h4\" gutterBottom={true}>\r\n            Feedbacks{\" \"}\r\n        </Typography>\r\n      </header>\r\n      <div className=\"deliver\"></div>\r\n      <div className=\"header-feedback\">\r\n        <p>Bn c cu hi hoc bt k ng gp v vic s dng ng dng, dch v hoc bo co li hoc vi phm ngi dng hy gi v cho chng ti. \r\n        <br/>(If you have any questions or suggestions regarding the use of the application, the service or the report of a bug or user violation, please send it to us.)\r\n        Chng ti hoan nghnh iu  v bn vui lng khng gi cc thng tin nhy cm, bo lc. Tip tc vi 2 cch bn di..</p>\r\n        (We welcome that and please do not submit sensitive or violent information. Continue with 2 ways below..)\r\n        <br />     \r\n      </div>\r\n      <div className=\"buttons-send\">\r\n        <Button\r\n            style={{ marginTop: \"10px\" }}\r\n            variant=\"outlined\"\r\n            color=\"secondary\"\r\n            type=\"button\"\r\n            disabled={isEmail ? false : true}\r\n            onClick = {handleButton}\r\n        >\r\n         Via Server\r\n        </Button>\r\n        <Button\r\n            style={{ marginTop: \"10px\" }}\r\n            variant=\"outlined\"\r\n            color=\"secondary\"\r\n            type=\"button\"\r\n            disabled={isEmail ? true : false}\r\n            onClick = {handleButton}\r\n        >\r\n          {/* if sending is true then show circular progress */}\r\n          Via Email\r\n        </Button>\r\n      </div>\r\n      {\r\n        isFormActive ? <div className=\"form-feedback\">\r\n        <Grid\r\n          component=\"form\"\r\n          ref={ isEmail ? formElEmail : formEl }\r\n          onSubmit={ isEmail ? submitFormEmail : submitForm}\r\n          container\r\n          required\r\n          justify=\"center\"\r\n          style={{ width: \"100%\", margin: \"0 auto\", padding: '1rem' }}\r\n        >\r\n          <ReCaptcha\r\n            sitekey=\"6Le1toEUAAAAAITyNwqEMaz3hFAYzciSJDMomrgN\"\r\n            action=\"action_name\"\r\n            verifyCallback={verifyCallback}\r\n          />\r\n          <TextField\r\n            id=\"outlined-email-input\"\r\n            label=\"Name\"\r\n            type=\"text\"\r\n            name=\"name\"\r\n            autoComplete=\"name\"\r\n            margin=\"normal\"\r\n            variant=\"outlined\"\r\n            fullWidth\r\n            required\r\n          />\r\n          <TextField\r\n            id=\"outlined-email-input\"\r\n            label=\"Email\"\r\n            type=\"email\"\r\n            name=\"email\"\r\n            autoComplete=\"email\"\r\n            margin=\"normal\"\r\n            variant=\"outlined\"\r\n            fullWidth\r\n            required\r\n          />\r\n          <TextField\r\n            id=\"outlined-email-input\"\r\n            label=\"Feedback\"\r\n            multiline\r\n            rows=\"4\"\r\n            type=\"text\"\r\n            name=\"message\"\r\n            autoComplete=\"feedback\"\r\n            margin=\"normal\"\r\n            variant=\"outlined\"\r\n            fullWidth\r\n            required\r\n          />\r\n          {isSending ? (\r\n            <LinearProgress\r\n              style={{\r\n                width: \"100%\",\r\n                transform: \"translateY(-12px)\",\r\n                borderRadius: \"2px\"\r\n              }}\r\n            />\r\n          ) : null}\r\n          <Button\r\n            style={{ marginTop: \"10px\" }}\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            type=\"submit\"\r\n            disabled={isSending ? true : false}\r\n          >\r\n            {/* if sending is true then show circular progress */}\r\n            {isSending ? \"Sending\" : \"Send\"}{\" \"} {isEmail ? \"to Email\" : \"to Server\"}\r\n          </Button>\r\n        </Grid>\r\n      </div>\r\n      : null\r\n      } \r\n      \r\n      <div className=\"deliver\"></div>\r\n\r\n      <i>S dng email ca bn  nhn c s h tr tt nht ca chng ti(Khuyn Ngh Dng)<br />\r\n        (Use your email to get the most support from us (Recommended))</i> \r\n       </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FeedbackApp;\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\n\r\n\r\nconst PrivateRoute = ({ children, ...rest }) => {\r\n \r\n  const { isAuthenticated, user } = useAuth0();\r\n \r\n  const isUser = { isAuthenticated, user };\r\n\r\n  React.useEffect(() => {\r\n    // console.log(props.state)\r\n    if(isUser){\r\n      \r\n      localStorage.setItem(\"signInClosed\", true)\r\n    }\r\n}, [])\r\n\r\n\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={() => {\r\n        return isUser ? children : <Redirect to='/login'></Redirect>;\r\n      }}\r\n    ></Route>\r\n  );\r\n};\r\nexport default PrivateRoute;","import React, { Component } from 'react';\r\nimport defaultImg from '../images/svgnds.png';\r\nimport _ from 'lodash';\r\nimport classNames from 'classnames';\r\n// import { IconButton } from '@material-ui/core';\r\n// import { MdEdit, MdCheck } from 'react-icons/md';\r\n// import { RiImageEditFill } from 'react-icons/ri';\r\n// import Dropzone from \"react-dropzone\";\r\nimport {encrypt, encrypt2} from '../helpers/en_deCrypt';\r\n\r\nimport fetchJsonp from \"fetch-jsonp\";\r\nimport { Redirect } from 'react-router-dom';\r\nconst GeoAPI = \"https://ipapi.co/jsonp\";\r\n\r\n\r\n\r\nexport class ChangePassword extends Component {\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n\r\n            isShowForm: false,\r\n            message: null,\r\n            // type: '',\r\n            newPassword: '',\r\n            reNewPassword: '',\r\n            emailDefault: '',\r\n            tokenDefault: '',\r\n            email: '',\r\n            ipClient: '',\r\n            changed: false,\r\n            backHome: false,\r\n        }\r\n\r\n\r\n    }\r\n    fetchIPclient = () => {\r\n        try{\r\n            fetchJsonp(`${GeoAPI}`)\r\n            .then(function(response) {\r\n                return response.json();\r\n              })\r\n              .then(json => {\r\n                this.setState({ ipClient: json})\r\n              })\r\n              .catch(function(ex) {\r\n                console.log(\"parsing failed\", ex);\r\n              });\r\n        }\r\n        catch (err){ console.log(err) }\r\n\r\n      };\r\n    handleEditPassword = (e) => {\r\n        e.preventDefault();\r\n        const { store } = this.props;\r\n       \r\n        const {newPassword, reNewPassword, emailDefault, tokenDefault, email, ipClient, changed} = this.state;\r\n        if(changed){\r\n            this.setState({\r\n                message: null,\r\n                backHome: true\r\n            })\r\n        }\r\n        if(email !== emailDefault) {\r\n            this.setState({\r\n                message: {\r\n                    body: 'Email not same Your require',\r\n                    type: 'error'\r\n                },\r\n            })\r\n            \r\n        }else{\r\n            if(reNewPassword === newPassword){\r\n                const hashNewPasswowrd = encrypt2(encrypt(newPassword));\r\n                store.requestChangePassword(email, hashNewPasswowrd, tokenDefault, ipClient).then((_) => {\r\n                    this.setState({\r\n                        message: {\r\n                            body: 'Saved Successfull, You can login with new password',\r\n                            type: 'success'\r\n                        },\r\n                        changed: true,\r\n                        email: null,\r\n                        reNewPassword: null,\r\n                        newPassword: null,\r\n                    })\r\n                }).catch((err) => {\r\n                    console.log(err);\r\n                    this.setState({\r\n                        message: {\r\n                            body: err,\r\n                            type: 'error'\r\n                        }\r\n                    })\r\n                });\r\n               \r\n            }\r\n            else{\r\n                this.setState({\r\n                    message: {\r\n                        body: 're-Password not Match',\r\n                        type: 'error'\r\n                    },\r\n                })\r\n            }\r\n        }\r\n        \r\n    }\r\n    componentDidMount(){\r\n        this.fetchIPclient();\r\n        // console.log(\"state change: \", this.state.changed)\r\n        const emailDefault = window.location.search.substring(1);\r\n        const tokenDefault = window.location.hash.substring(1);\r\n        if(emailDefault && tokenDefault){\r\n            this.setState({\r\n                isShowForm: true,\r\n                message: null,\r\n                emailDefault: emailDefault,\r\n                tokenDefault: tokenDefault,\r\n            })\r\n        }\r\n\r\n        // console.log(emailDefault, tokenDefault);\r\n        // console.log('Didmount and fetch ipClient');\r\n    }\r\n    componentWillUnmount(){\r\n        console.log('Unmount');\r\n    }\r\n    render() {\r\n        const {message, backHome} = this.state\r\n        if(backHome){\r\n            return <Redirect to={\"/page3\"}/>\r\n        }\r\n        return (\r\n            <>\r\n                {this.state.isShowForm ? <div className=\"user-form\">\r\n                    <form onSubmit={this.handleEditPassword}>\r\n                    <ul className=\"form-container\">\r\n                        <li>\r\n                            <h4>Change Password</h4>\r\n                        </li>\r\n                        <li>\r\n                            { message ? <p className={classNames('app-msg', _.get(message, 'type'))}>\r\n                                {_.get(message, 'body')}\r\n                            </p> : null } \r\n                        </li>                    \r\n                        <li>\r\n                            <label htmlFor=\"email\">Email Address</label>\r\n                            <input \r\n                            placeholder=\"Your Email Address\" \r\n                            required type=\"email\" name=\"email\"\r\n                            value = {this.state.email} \r\n                            onChange = {({target})=>{\r\n                                this.setState({ email: target.value })\r\n                            }} \r\n                            id=\"email\" ></input>\r\n                        </li>\r\n                        <li>\r\n                            <label htmlFor=\"password\">New Password</label>\r\n                            <input \r\n                            autoComplete = {'off'} \r\n                            placeholder=\"New-password\" \r\n                            required type=\"password\"\r\n                            value = {this.state.newPassword} \r\n                            onChange = {({target})=>{\r\n                                this.setState({ newPassword: target.value })\r\n                            }} \r\n                            id=\"password\" name=\"password\" ></input>\r\n                        </li>\r\n                        <li>\r\n                            <label htmlFor=\"repassword\">Comfirm new Password</label>\r\n                            <input\r\n                            placeholder=\"Re-password\" \r\n                            required type=\"password\" name=\"repassword\"\r\n                            value = {this.state.reNewPassword}\r\n                            onChange = {({target})=>{\r\n                                this.setState({ reNewPassword: target.value })\r\n                            }} \r\n                            id=\"repassword\" ></input>\r\n                        </li>\r\n                        <div className=\"footer-menu\">\r\n                            <div className=\"img\">\r\n                                <img style={{maxHeight: \"5rem\", maxWidth: \"5rem\"}} src={defaultImg} alt=\"nds\"/>\r\n                            </div>\r\n                            <div className=\"btn-cc\">\r\n                            <li>\r\n                                <button type=\"submit\" className=\"login-btn\">{!this.state.changed ? 'Save New-Password' : 'Back Home Chat Page' }</button>\r\n                            </li>\r\n                            </div>\r\n                        </div>\r\n                    </ul>\r\n                    </form>\r\n                    </div>\r\n                    :\r\n                    null\r\n                }\r\n\r\n\r\n\r\n\r\n            </>\r\n\r\n        )\r\n    }\r\n\r\n}\r\nexport default ChangePassword","//https://medium.com/@650egor/simple-drag-and-drop-file-upload-in-react-2cb409d88929\r\nimport React, { useState } from 'react'\r\n\r\nvar DragDrop = props => {\r\n  const [bgColor, setBgColor] = useState('transparent')\r\n\r\n  const changeBgColor = (state) => {\r\n    console.log(state)\r\n    setBgColor(state ? 'green' : 'transparent')\r\n    // setBgColor('green')\r\n  }\r\n\r\n  return (\r\n    <div style={{\r\n      backgroundColor: bgColor\r\n    }} className={props.className}\r\n      // ref={ref}\r\n      onDragEnter={(e) => {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        changeBgColor(true)\r\n        e.dataTransfer.dropEffect = 'copy'\r\n        console.log('DragEnter', e.dataTransfer.items.length)\r\n      }}\r\n      \r\n      onDragLeave={(e) => {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        changeBgColor(false)\r\n        console.log('onDragLeave')\r\n      }}\r\n\r\n      onDragOver={(e) => {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        console.log('onDragOver')\r\n      }}\r\n\r\n      onDrop={(e) => { \r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        changeBgColor(false)\r\n        console.log(e.dataTransfer.items)\r\n        if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\r\n          props.sendFiles(e.dataTransfer.files)\r\n        }\r\n      }}\r\n    >\r\n      {props.children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DragDrop","import React, { Component } from 'react'\r\nimport DragDrop from './DragDrop';\r\nimport { IconButton } from '@material-ui/core';\r\nimport { RiDragDropLine } from 'react-icons/ri';\r\nclass UpLoadFilePhoto extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            \r\n        }\r\n    }\r\n\r\n    getRandomInt(max) {\r\n        return Math.floor(Math.random() * Math.floor(max));\r\n    }\r\n\r\n    sendMessage = (data) => {\r\n        this.props.sendMessage(data);\r\n        // scrollToBottom()\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div className=\"input-upload-img-user\">\r\n               \r\n             <DragDrop\r\n                sendFiles={(files) => {\r\n                    const reader = new FileReader()\r\n                    reader.onload = (e) => {\r\n                    //https://blog.mozilla.org/webrtc/large-data-channel-messages/\r\n                    //https://lgrahl.de/articles/demystifying-webrtc-dc-size-limit.html\r\n                    const maximumMessageSize = 262118 //65535 <=== 64KiB // 16384 <=== 16KiB to be safe\r\n                    if (e.target.result.length <= maximumMessageSize)\r\n                        this.sendMessage({id: this.getRandomInt(9) ,type: 'image', data: e.target.result })\r\n                    else\r\n                        alert('Message exceeds Maximum Message Size!')\r\n                    }\r\n\r\n                    reader.readAsDataURL(files[0])\r\n                }}\r\n                >\r\n                    <IconButton style={{fontSize: '2rem'}}>\r\n                        <RiDragDropLine />\r\n                    </IconButton>\r\n                \r\n            </DragDrop>\r\n            <span>Drag and Drop Your Image Here</span>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default UpLoadFilePhoto","import React, { Component } from 'react';\r\nimport defaultImg from '../images/svgnds.png';\r\nimport _ from 'lodash';\r\nimport classNames from 'classnames';\r\nimport { IconButton } from '@material-ui/core';\r\n// import { MdEdit, MdCheck } from 'react-icons/md';\r\nimport { TiDeleteOutline } from 'react-icons/ti';\r\n// import Dropzone from \"react-dropzone\";\r\n// import {encrypt, encrypt2} from '../helpers/en_deCrypt';\r\nimport fetchJsonp from \"fetch-jsonp\";\r\n// import { Redirect } from 'react-router-dom';\r\nimport UpLoadFilePhoto from './UpLoadFilePhoto';\r\nimport axios from '../apis/axios'\r\n// const macaddress = require('macaddress');\r\nconst GeoAPI = \"https://ipapi.co/jsonp\";\r\n\r\nclass SendVerifyCommunication extends Component {\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            message: null,\r\n            typeIdentify: 'peopleID',\r\n            info : {\r\n                email: '',\r\n                ipClient: '',\r\n                age: '',\r\n                fullName: '',\r\n                fullAddress: '',\r\n                numbermobile: '',\r\n                currentLive: '',\r\n                gender: '',\r\n                nationality: '',\r\n                deviceName: '',\r\n                profession: '',\r\n                company: '',\r\n            },\r\n            step1: false,\r\n            step2: false,\r\n            token: '',\r\n            email: '',\r\n            backHome: false,\r\n            messages: [],\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n   \r\n\r\n    fetchIPclient = () => {\r\n        try{\r\n            fetchJsonp(`${GeoAPI}`)\r\n            .then(function(response) {\r\n                return response.json();\r\n              })\r\n              .then(json => {\r\n                let { info } = this.state;\r\n                const field = 'ipClient';\r\n                info[field] = json;\r\n                this.setState({ info: info})\r\n              })\r\n              .catch(function(ex) {\r\n                console.log(\"parsing failed\", ex);\r\n              });\r\n        }\r\n        catch (err){ console.log(err) }\r\n\r\n    }\r\n\r\n    handleSendRequire = (e) =>{\r\n        e.preventDefault();\r\n        const { store } = this.props;\r\n        const { info, step1} = this.state;\r\n        if(step1){\r\n            this.setState({\r\n                message: {\r\n                    body: \"Step proccessing Verify\",\r\n                    type: 'success'\r\n                }\r\n            })\r\n            this.props.onClickOutSide();\r\n            this.props.handleShowFormVerifyEmail();\r\n            console.log(\"Step 2 proccessing\")\r\n        }else{\r\n            this.setState({\r\n                message: null\r\n            }, () => {\r\n                if(info.email){\r\n    \r\n                    store.sendVerifyCommunication(info).then((response) => {\r\n                        // console.log(\"data response \", response)\r\n                        this.setState({\r\n                            message: {\r\n                                body: 'First Step Is Succeeded',\r\n                                type: 'success'\r\n                            },\r\n                            token: response.tokenId,\r\n                            email: response.email,\r\n                            step1: true\r\n    \r\n                        })\r\n                    }).catch((err) => {\r\n                        console.log(err);\r\n                        this.setState({\r\n                            message: {\r\n                                body: err,\r\n                                type: 'error'\r\n                            }\r\n                        })\r\n                        });\r\n    \r\n                }else{\r\n                    this.setState({\r\n                        message: {\r\n                            body: 'An another Error',\r\n                            type: 'error'\r\n                        }\r\n                    })\r\n                }\r\n    \r\n            })\r\n        }\r\n       \r\n    }\r\n    onTxtfieldChange = (e) => {\r\n        let { info } = this.state;\r\n        const field = e.target.name;\r\n        info[field] = e.target.value;\r\n        this.setState({\r\n            info: info\r\n        });\r\n    }\r\n\r\n    componentDidMount(){\r\n        window.addEventListener('mousedown', this.onClickOutSide0);\r\n        this.fetchIPclient();\r\n        console.log('Didmount and fetch Client', this.state.changed)\r\n    }\r\n    componentWillUnmount(){\r\n        window.removeEventListener('mousedown', this.onClickOutSide0);\r\n        console.log('Unmount');\r\n    }\r\n    componentDidUpdate(){\r\n       \r\n    }\r\n    onClickOutSide0 = (e) => {\r\n        if(this.ref && !this.ref.contains(e.target)){\r\n            // console.log(\"Here click out side login form!\");\r\n            this.props.onClickOutSide();\r\n        }\r\n    }\r\n    delImage = (img) => {\r\n        const {messages} = this.state;\r\n        let message = _.filter(messages, (currentObject) => {\r\n            return currentObject.id !== img;\r\n        });\r\n        this.setState({\r\n            messages: message\r\n        })\r\n       \r\n    }\r\n    setSuccessful = () => {\r\n        this.setState({\r\n            message: {\r\n                body: 'Sent successful! We check it out as soon as possible.',\r\n                type: 'success'\r\n            },\r\n            backHome: true,\r\n            step2: true,\r\n            token: null,\r\n            messages: [],\r\n            typeIdentify: 'peopleID'\r\n        })\r\n    }\r\n    renderMessage = (data) => {\r\n        // console.log('===========', data)\r\n        return (\r\n        <>\r\n             <div className=\"icon-del-image\">\r\n                <IconButton style={{fontSize: '2rem'}}>\r\n                    <TiDeleteOutline onClick={() => {\r\n                        this.delImage(data.id)\r\n                    }} />\r\n                </IconButton>\r\n            </div>\r\n            <img\r\n                style={{\r\n                width: '100%',\r\n                height: 200,\r\n                cursor: 'pointer',\r\n                }}\r\n                src={data.data}\r\n                alt='img-update'>\r\n            </img>\r\n           \r\n        </>\r\n        )\r\n      }\r\n\r\n\r\n    sendEmailVerify = (e) => {\r\n        e.preventDefault();\r\n        let images = [];\r\n        const { messages, typeIdentify, token, step2, email } = this.state;\r\n        messages.map((data) => {\r\n          return images = _.uniq(_.concat(images, data.data))\r\n        })\r\n        // console.log(\"will send: \", images)\r\n        if(step2){\r\n            this.setState({\r\n                message: null  \r\n            })\r\n            this.props.handleShowFormVerifyEmail();\r\n        }\r\n        \r\n        const post = {\r\n            email: email,\r\n            token: token,\r\n            images: images,\r\n            type: typeIdentify,\r\n        }\r\n        \r\n        if(email && token){\r\n            axios\r\n            .post('/ndsapi/mail/verifyuser', post)\r\n            .then(function(response) {\r\n                console.log(response.data.status);\r\n                console.log(\"Successful\");\r\n            }).catch(err => console.log(err))\r\n            this.setSuccessful()\r\n            return 'successfull'\r\n        }else{\r\n            this.setState({\r\n                message: {\r\n                    body: 'Error when send info, try again.',\r\n                    type: 'error'\r\n                }\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n        const {message, info, messages} = this.state\r\n        const { showFormVerifyCommunicate , showFormVerifyEmail } = this.props\r\n        return (\r\n            <>\r\n                {showFormVerifyCommunicate ? <div className=\"user-form\" ref = {(ref) => this.ref = ref}>\r\n                    <form onSubmit={this.handleSendRequire}>\r\n                    <ul className=\"form-container\">\r\n                        <li>\r\n                            <h4>Form Require Verify Communication</h4>\r\n                        </li>\r\n                        <li>\r\n                            { message ? <p className={classNames('app-msg', _.get(message, 'type'))}>\r\n                                {_.get(message, 'body')}\r\n                            </p> : null } \r\n                        </li>\r\n                        {!this.state.step1 ? <><li>\r\n                            <label htmlFor=\"email\">Email Address</label>\r\n                            <input \r\n                            placeholder=\"Email Registed\" \r\n                            required type=\"email\" name=\"email\"\r\n                            value = {_.get(info, \"email\", '')}\r\n                            onChange={(e) => this.onTxtfieldChange(e) }\r\n                            id=\"email\" ></input>\r\n                        </li>\r\n                        <li>\r\n                            <label htmlFor=\"fullname\">Full Name</label>\r\n                            <input \r\n                            autoComplete = {'off'} \r\n                            placeholder=\"FullName\" \r\n                            required type=\"text\"\r\n                            value = {_.get(info, \"fullName\", '')} \r\n                            onChange={(e) => this.onTxtfieldChange(e) }\r\n                            id=\"fullName\" name=\"fullName\" ></input>\r\n                        </li>\r\n                        <li>\r\n                            <label htmlFor=\"address\">Full Address</label>\r\n                            <input \r\n                            placeholder=\"Full Address\" \r\n                            required type=\"text\" name=\"fullAddress\"\r\n                            value = {_.get(info, \"fullAddress\", '')}\r\n                            onChange={(e) => this.onTxtfieldChange(e) }\r\n                            id=\"fullAddress\" ></input>\r\n                        </li>\r\n                        <li>\r\n                            <label htmlFor=\"currentlive\">Staying</label>\r\n                            <input \r\n                            placeholder=\"Staying Address\" \r\n                            required type=\"text\" name=\"currentLive\"\r\n                            value = {_.get(info, \"currentLive\", '')}\r\n                            onChange={(e) => this.onTxtfieldChange(e) }\r\n                            id=\"currentLive\" ></input>\r\n                        </li>\r\n                        <li>\r\n                            <label htmlFor=\"gender\">Gender</label>\r\n                            <form className=\"form-radio-gender\">\r\n                            <input type=\"radio\" id=\"male\" name=\"gender\" value=\"male\" checked={this.state.gender} onChange={(e) => this.onTxtfieldChange(e) } />\r\n                            <label for=\"male\">Male</label><br />\r\n                            <input type=\"radio\" id=\"female\" name=\"gender\" value=\"female\" checked={this.state.gender} onChange={(e) => this.onTxtfieldChange(e) } />\r\n                            <label for=\"female\">Female</label><br />\r\n                            <input type=\"radio\" id=\"other\" name=\"gender\" checked={this.state.gender} value=\"lesbian\" onChange={(e) => this.onTxtfieldChange(e) } />\r\n                            <label for=\"other\">Lesbian</label>\r\n                            <input type=\"radio\" id=\"other\" name=\"gender\" checked={this.state.gender} value=\"other\" onChange={(e) => this.onTxtfieldChange(e) } />\r\n                            <label for=\"other\">Other</label>\r\n                            </form>\r\n                        </li>\r\n                        <li>\r\n                            <label htmlFor=\"age\">Your Age</label>\r\n                            <input \r\n                            placeholder=\"25\" \r\n                            required type=\"number\" name=\"age\"\r\n                            value = {_.get(info, \"age\", '')}\r\n                           onChange={(e) => this.onTxtfieldChange(e) }\r\n                            id=\"age\" ></input>\r\n                        </li>\r\n                        <li>\r\n                            <label htmlFor=\"munberphone\">Your Number Mobile</label>\r\n                            <input \r\n                            placeholder=\"0123456789\" \r\n                            required type=\"number\" name=\"numbermobile\"\r\n                            value = {_.get(info, \"numbermobile\", '')}\r\n                           onChange={(e) => this.onTxtfieldChange(e) }\r\n                            id=\"numbermobile\" ></input>\r\n                        </li>\r\n                        <li>\r\n                            <label htmlFor=\"nationality\">Nationality</label>\r\n                            <input \r\n                            placeholder=\"Nationality\" \r\n                            required type=\"text\" name=\"nationality\"\r\n                            value = {_.get(info, \"nationality\", '')}\r\n                            onChange={(e) => this.onTxtfieldChange(e) }\r\n                            id=\"nationality\" ></input>\r\n                        </li>\r\n                        <li>\r\n                            <label htmlFor=\"profession\">Profession</label>\r\n                            <input \r\n                            placeholder=\"Your profession\" \r\n                            required type=\"text\" name=\"profession\"\r\n                            value = {_.get(info, \"profession\", '')}\r\n                            onChange={(e) => this.onTxtfieldChange(e) }\r\n                            id=\"profession\" ></input>\r\n                        </li>\r\n                        <li>\r\n                            <label htmlFor=\"company\">Name Company</label>\r\n                            <input \r\n                            placeholder=\"Name Company\" \r\n                            required type=\"text\" name=\"company\"\r\n                            value = {_.get(info, \"company\", '')}\r\n                           onChange={(e) => this.onTxtfieldChange(e) }\r\n                            id=\"company\" ></input>\r\n                        </li>\r\n                        <li>\r\n                            <label htmlFor=\"email\">Device Name</label>\r\n                            <input \r\n                            placeholder=\"Your Device Name\" \r\n                            required type=\"text\" name=\"deviceName\"\r\n                            value = {_.get(info, \"deviceName\", '')}\r\n                           onChange={(e) => this.onTxtfieldChange(e) }\r\n                            id=\"deviceName\" ></input>\r\n                        </li></>\r\n                        :\r\n                        <li>\r\n                            <p>\r\n                            Request has been saved<br />\r\n                            <b>NEXT YOU NEED TO SEND IDENTICATED PROOF THAT IT IS YOU</b><br />\r\n                            Click the button below to continue\r\n                            </p>\r\n                        </li>\r\n\r\n                        }                    \r\n                       \r\n                        <div className=\"footer-menu\">\r\n                            <div className=\"img\">\r\n                                <img style={{maxHeight: \"5rem\", maxWidth: \"5rem\"}} src={defaultImg} alt=\"nds\"/>\r\n                            </div>\r\n                            <div className=\"btn-cc\">\r\n                            <li>\r\n                                <button type=\"submit\" className=\"login-btn\">{!this.state.step1 ? 'Save Require' : 'Continue Send Email' }</button>\r\n                            </li>\r\n                            </div>\r\n                        </div>\r\n                    </ul>\r\n                    </form>\r\n                    </div>\r\n                    :\r\n                    null\r\n                }\r\n                 {showFormVerifyEmail ? <div className=\"user-form\" ref = {(ref) => this.ref = ref}>\r\n                    <form onSubmit={this.sendEmailVerify}>\r\n                    <ul className=\"form-container\">\r\n                        <li>\r\n                            <h4>Send Email Verify to nDsApp Group</h4>\r\n                        </li>\r\n                        <li>\r\n                            { message ? <p className={classNames('app-msg', _.get(message, 'type'))}>\r\n                                {_.get(message, 'body')}\r\n                            </p> : null } \r\n                        </li>                    \r\n                        <li>\r\n                        <label>\r\n                            <p>Type of identification:</p>\r\n                            <select value={this.state.typeIdentify} onChange={(event) => this.setState({typeIdentify: event.target.value})}>\r\n                                <option value=\"peopleID\">People ID</option>\r\n                                <option value=\"driverLicense\">Driver License</option>\r\n                                <option value=\"passport\">Passport</option>\r\n                                <option value=\"otherLicense\">Equivalent Identity License</option>\r\n                            </select>\r\n                        </label>\r\n                        </li>\r\n                        <li>\r\n                            <UpLoadFilePhoto  sendMessage={(message) => {\r\n                                this.setState(prevState => {\r\n                                    return {messages: [...prevState.messages, message]}\r\n                                })\r\n                            }}/>\r\n\r\n                            <div className=\"photo-verify\">\r\n                                { \r\n                                messages.map(data => (\r\n                                    <div key={data.id}>\r\n                                        {(this.renderMessage(data))}\r\n                                    </div>\r\n                                ))\r\n                                }\r\n                            </div>\r\n                        </li>\r\n\r\n                       \r\n                        <div className=\"footer-menu\">\r\n                            <div className=\"img\">\r\n                                <img style={{maxHeight: \"5rem\", maxWidth: \"5rem\"}} src={defaultImg} alt=\"nds\"/>\r\n                            </div>\r\n                            <div className=\"btn-cc\">\r\n                            <li>\r\n                                <button type=\"submit\" className=\"login-btn\">{!this.state.step2 ? 'Send Email Require' : 'Back Home Chat' }</button>\r\n                            </li>\r\n                            </div>\r\n                        </div>\r\n                    </ul>\r\n                    </form>\r\n                    </div>\r\n                    :\r\n                    null\r\n                }\r\n\r\n\r\n\r\n\r\n            </>\r\n\r\n        )\r\n    }\r\n\r\n}\r\nexport default SendVerifyCommunication","import React, { Component } from 'react';\r\nimport defaultImg from '../images/svgnds.png';\r\nimport _ from 'lodash';\r\nimport classNames from 'classnames';\r\nimport { IconButton, Tooltip } from '@material-ui/core';\r\nimport { MdEdit, MdCheck } from 'react-icons/md';\r\nimport { RiImageEditFill } from 'react-icons/ri';\r\nimport { IoIosLogIn } from 'react-icons/io';\r\nimport { GoVerified, GoUnverified } from 'react-icons/go';\r\nimport Dropzone from \"react-dropzone\";\r\nimport {encrypt, encrypt2} from '../helpers/en_deCrypt';\r\n// import axios from \"axios\";\r\n\r\nimport fetchJsonp from \"fetch-jsonp\";\r\nimport ChangePassword from './ChangePassword';\r\nimport SendVerifyCommunication from './SendVerifyCommunication';\r\n\r\nconst GeoAPI = \"https://ipapi.co/jsonp\";\r\n\r\n\r\n\r\nexport class UserBar extends Component {\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            message: null,\r\n            showUserFrom : false,\r\n            isLogin: true,\r\n            editAcc: false,\r\n            editPassword: false,\r\n            isFormGetPassword : false,\r\n            showFormVerifyCommunicate: false,\r\n            showFormVerifyEmail: false,\r\n            edit: '',\r\n            type:'text',\r\n            oldPassword: '',\r\n            newPassword: '',\r\n            reNewPassword: '',\r\n            email: '',\r\n            userId: '',\r\n            user: {\r\n                email: '',\r\n                password: '',\r\n                repassword: '',\r\n                name: '',\r\n                ipClient: null,\r\n                birthday: '',\r\n                country: '',\r\n                phone: '',\r\n                ID: '',\r\n            }\r\n        }\r\n       \r\n    }\r\n    handleSendGetPassword = (e) => {\r\n        e.preventDefault();\r\n        const {store} = this.props;\r\n        const {email} = this.state;\r\n        store.requestGetPassword(email).then((_) => {\r\n            this.setState({\r\n                message: {\r\n                    body: `We have sent to ${email} a link, please check your email.`,\r\n                    type: 'success'\r\n                },\r\n                email: null,\r\n            })\r\n        }).catch((err) => {\r\n            console.log(err);\r\n            this.setState({\r\n                message: {\r\n                    body: err,\r\n                    type: 'error'\r\n                }\r\n            })\r\n        });\r\n\r\n\r\n    }\r\n    isFormGetPassword = (e) => {\r\n        e.preventDefault();\r\n        this.setState({\r\n            isFormGetPassword: true,\r\n            showUserFrom: false,\r\n        })\r\n    }\r\n\r\n\r\n    handleEditPassword = (e) => {\r\n        e.preventDefault();\r\n        const {store} = this.props;\r\n        const {oldPassword, newPassword, reNewPassword, user} = this.state;\r\n        this.setState({\r\n            message: null\r\n        }, () => {\r\n            if(newPassword === reNewPassword){\r\n               \r\n                const hashNewPassword = encrypt2(encrypt(newPassword));\r\n                const hashOldPassword = encrypt2(encrypt(oldPassword));\r\n\r\n                store.editPassword(hashOldPassword, hashNewPassword, user.ipClient).then((_) => {\r\n                    this.setState({\r\n                        message: {\r\n                            body: 'Password changed',\r\n                            type: 'success'\r\n                        },\r\n                        oldPassword: null,\r\n                        newPassword: null,\r\n                        reNewPassword: null,\r\n\r\n                    })\r\n                }).catch((err) => {\r\n                    console.log(err);\r\n                    this.setState({\r\n                        message: {\r\n                            body: err,\r\n                            type: 'error'\r\n                        }\r\n                    })\r\n                    });\r\n\r\n            }else{\r\n                this.setState({\r\n                    message: {\r\n                        body: 'Password not Comfirm or an another Error',\r\n                        type: 'error'\r\n                    }\r\n                })\r\n            }\r\n\r\n\r\n        })\r\n    }\r\n\r\n    changeFormEdit = (e) => {\r\n        e.preventDefault();\r\n        this.setState({\r\n            showUserMenu: false,\r\n            editPassword: true\r\n\r\n        })\r\n\r\n    }\r\n\r\n    handleCreateR = () => {\r\n       \r\n        const userId = this.generateId(12);\r\n        let { user } = this.state;\r\n        const field = 'ID';\r\n        user[field] = userId;\r\n        this.setState({ user: user})\r\n        console.log('ID of user random: ', userId);\r\n      }\r\n    dec2hex = (dec) => {\r\n        return dec < 10\r\n        ? '0' + _.toString(dec)\r\n        : dec.toString(16)\r\n    }\r\n    generateId = (len) => {\r\n        var arr = new Uint8Array((len || 40) / 2)\r\n        window.crypto.getRandomValues(arr)\r\n        return Array.from(arr, this.dec2hex).join('')\r\n    }\r\n\r\n    changeControl = (e) => {\r\n        e.preventDefault();\r\n        this.handleCreateR();\r\n        let {isLogin} = this.state;\r\n        this.setState({\r\n            isLogin: !isLogin,\r\n        })\r\n      \r\n    }\r\n\r\n    onDrop = (files) => {\r\n        const {store} = this.props;\r\n        // console.log(\"file goc: \",files);\r\n        let formData = new FormData();\r\n        formData.append(\"myImage\", files[0]);\r\n        store.uploadUserAvatar(formData);\r\n        // console.log(\"file format: \",formData);\r\n    }\r\n    handleEditNow = (e) => {\r\n        e.preventDefault();\r\n        const { store } = this.props;\r\n        const { user, edit } = this.state;\r\n        store.editUser(edit, user[edit])\r\n\r\n\r\n        this.setState({\r\n            edit: '',\r\n            editAcc: false\r\n        })\r\n    }\r\n    fetchIPclient = () => {\r\n        try{\r\n            fetchJsonp(`${GeoAPI}`)\r\n            .then(function(response) {\r\n                return response.json();\r\n              })\r\n              .then(json => {\r\n                let { user } = this.state;\r\n                const field = 'ipClient';\r\n                user[field] = json;\r\n                this.setState({ user: user})\r\n              })\r\n              .catch(function(ex) {\r\n                console.log(\"parsing failed\", ex);\r\n              });\r\n        }\r\n        catch (err){ console.log(err) }\r\n\r\n      };\r\n    onClickOutSide = (e) => {\r\n        if(this.ref && !this.ref.contains(e.target)){\r\n            console.log(\"Here click out side login form!\");\r\n            this.setState({\r\n                showUserFrom: false,\r\n                showUserMenu: false,\r\n                editPassword: false,\r\n                isFormGetPassword: false,\r\n                message: null,\r\n                \r\n            })\r\n        }\r\n    }\r\n    onClickhiddenshowFormVerifyCommunicate = () => {\r\n        console.log(\"Here click out side login form!\");\r\n        this.setState({\r\n            message: null,\r\n            showFormVerifyCommunicate: false,\r\n        })\r\n    }\r\n    componentDidMount(){\r\n        window.addEventListener('mousedown', this.onClickOutSide);\r\n        this.fetchIPclient();\r\n        console.log('Didmount and fetch Client');\r\n    }\r\n    componentWillUnmount(){\r\n        window.removeEventListener('mousedown', this.onClickOutSide);\r\n        console.log('Unmount');\r\n    }\r\n   \r\n    onSubmit = (e) => {\r\n\r\n        const { store } = this.props;\r\n        const { user , isLogin } = this.state;\r\n        const hashPassword = encrypt2(encrypt(user.password));\r\n        e.preventDefault();\r\n        this.setState({\r\n            message: null\r\n        }, () => {\r\n            if(isLogin){\r\n                try{\r\n                    store.login(user.email, hashPassword, user.ipClient.ip).then((_) => {\r\n                        const {user} = this.state;\r\n                            user.ipClient = null;\r\n                            user.password = null;\r\n                            user.repassword = null;\r\n                        this.setState({\r\n                            message: null,\r\n                            showUserFrom: false,\r\n                            showUserMenu: false,\r\n                            user: user\r\n                        })\r\n        \r\n                    }).catch((err) => {\r\n                        console.log(err);\r\n                        this.setState({\r\n                            message: {\r\n                                body: err,\r\n                                type: 'error'\r\n                            }\r\n                        })\r\n                    });\r\n                }\r\n                catch (err) {\r\n                    console.log(err);\r\n                    this.setState({\r\n                        message: {\r\n                            body: 'An error occurred, please try again later!',\r\n                            type: 'error'\r\n                        }\r\n                    })\r\n                }\r\n               \r\n            } else {\r\n                if(user.password === user.repassword){\r\n                    user.password = hashPassword;\r\n                    console.log(user)\r\n                    store.register(user).then((_) => {\r\n                        this.setState({\r\n                            message: {\r\n                                body: 'User created',\r\n                                type: 'Success'\r\n                            }\r\n                        }, () => {\r\n                            // now login this user\r\n                            store.login(user.email, hashPassword).then((_) => { \r\n                            //\r\n                            const {user} = this.state;\r\n                            user.ipClient = null;\r\n                            user.password = null;\r\n                            user.repassword = null;\r\n                            user.phone = null;\r\n                            this.setState({\r\n                                message: null,\r\n                                showUserFrom: false,\r\n                                showUserMenu: false,\r\n                                isFormGetPassword: false,\r\n                                user : user,\r\n\r\n                            })\r\n            \r\n                        }).catch((err) => {\r\n                            console.log(err);\r\n                            this.setState({\r\n                                message: {\r\n                                    body: err,\r\n                                    type: 'error'\r\n                                }\r\n                            })\r\n                            });\r\n                        })\r\n                    }).catch((err) => {\r\n                        console.log(err);\r\n                        this.setState({\r\n                            message: {\r\n                                body: err,\r\n                                type: 'error'\r\n                            }\r\n                        })\r\n                    });\r\n                }else{\r\n                    console.log(user.repassword, 'and' , user.password);\r\n                    this.setState({\r\n                        message: {\r\n                            body: 'Password not Comfirm',\r\n                            type: 'error'\r\n                        }\r\n                    })\r\n                }\r\n                \r\n            }\r\n           \r\n        })\r\n\r\n    }\r\n\r\n    onTxtfieldChange = (e) => {\r\n        let { user } = this.state;\r\n        const field = e.target.name;\r\n        user[field] = e.target.value;\r\n        this.setState({\r\n            user: user\r\n        });\r\n    }\r\n    onTxtfieldEChange = (e) => {\r\n        let { user } = this.state;\r\n        const field = e.target.name;\r\n        user[field] = e.target.value;\r\n        this.setState({\r\n            user: user\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { user, message, isLogin, edit, type, editAcc, isFormGetPassword } = this.state;\r\n        const { store } = this.props;\r\n        const me = store.getCurrentUser();\r\n        const profileImg = _.get(me, 'avatar');\r\n        const name = _.get(me,'name');\r\n        const ID = _.get(me, 'ID');\r\n        const email = _.get(me, 'email');\r\n        const country = _.get(me, 'country');\r\n        const phone = _.get(me, 'phone');\r\n        const birthday = _.get(me, 'birthday');\r\n        const verified = _.get(me, 'verify');\r\n        return (\r\n    <>\r\n        <div className=\"user-bar\">\r\n            { !me ?<> <button type=\"button\" onClick={(e) => this.setState({showUserFrom: true})} className=\"login-btn\">Sign In</button>\r\n                <div className=\"login-btn-mini\">\r\n                    <IconButton style={{ color: \"rgba(199, 119, 199, 0.9)\"}} onClick={(e) => this.setState({showUserFrom: true})}>\r\n                        <IoIosLogIn />\r\n                    </IconButton>\r\n                </div>\r\n            </> : null}\r\n\r\n            { me ? <> <div className=\"name-user\">{_.get(me, 'name')}</div>\r\n                <div className=\"img-user\">\r\n                    <img className=\"img-profile\" src={profileImg ? `https://ndschatserver.herokuapp.com/${profileImg}` : defaultImg} onClick={(e) => this.setState({showUserMenu: true})}  alt=\"user-img\"></img>\r\n                </div> </> : null \r\n            }\r\n           \r\n\r\n            { me && this.state.showUserMenu ?  <div className=\"user-form\" ref = {(ref) => this.ref = ref}>\r\n                <form>\r\n                <ul className=\"form-container\">\r\n                    <li>\r\n                        <h4>Your Account</h4>\r\n                    </li>\r\n                    {\r\n                        editAcc ? <div>\r\n                        <label style={{textTransform: 'capitalize'}} htmlFor={edit}>\r\n                            {edit}\r\n                        </label>\r\n                        <div className=\"form-edit\">\r\n                            <div className=\"input-edit\">\r\n                            <input onChange={(e) => this.onTxtfieldEChange(e) } \r\n                            placeholder=\"type your change here\"\r\n                            required type={type} name={edit}\r\n                            value = {_.get(user, {edit})} \r\n                            id={edit} ></input>\r\n                            </div>\r\n                        <div className=\"btn-edit\">\r\n                            <IconButton>\r\n                                <MdCheck style={{ color: \"rgba(23, 138, 8, 0.959)\"}} onClick={this.handleEditNow} />\r\n                            </IconButton>\r\n                        </div>\r\n                        </div>\r\n                       \r\n                    </div>\r\n                    :\r\n                    null\r\n                    }\r\n                    <li className =\"header-menu\">\r\n                        <img src={`http://localhost:8080/${profileImg}`} alt=\"user-img\" />\r\n                        <div className=\"edit-avatar-icon\">\r\n                            <Dropzone onDrop={this.onDrop}>\r\n                                {({getRootProps, getInputProps}) => (\r\n                                    <section>\r\n                                    <div {...getRootProps()}>\r\n                                        <input {...getInputProps()} />\r\n                                            <RiImageEditFill />\r\n                                    </div>\r\n                                    </section>\r\n                                )}\r\n                            </Dropzone>\r\n                        </div>\r\n                        <span>{name}{\" \"}{verified ? <Tooltip title=\"Account have been Verified\" placement=\"left-start\"><GoVerified style={{color: 'rgb(36, 139, 10)', fontSize: '1rem'}} /></Tooltip> : <GoUnverified style={{color: 'rgb(202, 161, 46)', fontSize: '1rem'}} onClick={() => this.setState({showFormVerifyCommunicate: true, showUserMenu: false})}/>}</span>\r\n                    </li>\r\n                    <div className =\"body-menu\">\r\n                        <p htmlFor=\"email\">Your Name: {name}</p>\r\n                        <div>\r\n                        <IconButton  style={{ color: \"rgba(0, 0, 0, 0.5)\"}}>\r\n                            <MdEdit onClick = {() => this.setState({editAcc: true, edit: 'name', type: 'text'})} />\r\n                        </IconButton>\r\n                        </div>\r\n                    </div>\r\n                    <div className =\"body-menu\">\r\n                        <p htmlFor=\"email\">Birthday: {birthday}</p>\r\n                        <div> <IconButton  style={{ color: \"rgba(0, 0, 0, 0.5)\"}}>\r\n                            <MdEdit  onClick = {() => this.setState({editAcc: true, edit: 'birthday', type: 'date'})} />\r\n                        </IconButton></div>\r\n                    </div>\r\n                    <div className =\"body-menu\">\r\n                        <p htmlFor=\"email\">ID User: {ID}</p>\r\n                        <div> <IconButton  style={{ color: \"rgba(0, 0, 0, 0.5)\"}}>\r\n                            <MdEdit  onClick = {() =>alert(\"You can't edit your ID!\")} />\r\n                        </IconButton></div>\r\n                    </div>\r\n                    <div className =\"body-menu\">\r\n                        <p htmlFor=\"email\">Email Address: {email}</p>\r\n                        <div> <IconButton  style={{ color: \"rgba(0, 0, 0, 0.5)\"}}>\r\n                            <MdEdit  onClick = {() =>alert(\"You can't edit your email address!\")} />\r\n                        </IconButton></div>\r\n                    </div>\r\n                    <div className =\"body-menu\">\r\n                        <p htmlFor=\"email\">Contact Number: {phone}</p>\r\n                        <div> <IconButton  style={{ color: \"rgba(0, 0, 0, 0.5)\"}}>\r\n                            <MdEdit  onClick = {() => this.setState({editAcc: true, edit: 'phone', type: 'number'})} />\r\n                        </IconButton></div>\r\n                    </div>\r\n                    <div className =\"body-menu\">\r\n                        <p htmlFor=\"email\">Country: {country}</p>\r\n                        <div> <IconButton  style={{ color: \"rgba(0, 0, 0, 0.5)\"}}>\r\n                            <MdEdit  onClick = {() => this.setState({editAcc: true, edit: 'country'})} />\r\n                        </IconButton></div>\r\n                    </div>\r\n                   \r\n                    <div className=\"footer-menu\">\r\n                        <div className=\"img\">\r\n                            <img style={{maxHeight: \"5rem\", maxWidth: \"5rem\"}} src={defaultImg} alt=\"nds\"/>\r\n                        </div>\r\n                        <div className=\"btn-cc\">\r\n                        <li>\r\n                        <button onClick = { () => store.signOut()}\r\n                        type=\"button\" className=\"login-btn\">Signout</button>\r\n                        </li>\r\n                    <li>\r\n                        <button className=\"login-btn\" onClick={this.changeFormEdit} >Change Password</button>\r\n                    </li>\r\n                        </div>\r\n                    </div>\r\n                </ul>\r\n                </form>\r\n                </div>\r\n                :\r\n                null\r\n            }\r\n             { !me && this.state.showUserFrom ? <div className=\"user-form\" ref = {(ref) => this.ref = ref}>\r\n                <form onSubmit= {this.onSubmit}>\r\n                <ul className=\"form-container\">\r\n                    <li>\r\n                        <h4>Sign In / Register Your Account</h4>\r\n                    </li>\r\n                    <li>\r\n                        { message ? <p className={classNames('app-msg', _.get(message, 'type'))}>\r\n                            {_.get(message, 'body')}\r\n                        </p> : null } \r\n                    </li>\r\n                    {\r\n                        !isLogin ? <li>\r\n                        <label htmlFor=\"name\">\r\n                        Name\r\n                        </label>\r\n                        <input onChange={(e) => this.onTxtfieldChange(e) } \r\n                        placeholder=\"Your-Name\" \r\n                        required type=\"text\" name=\"name\"\r\n                        value = {_.get(user, 'name')} \r\n                        id=\"name\" ></input>\r\n                    </li>\r\n                    :\r\n                    null\r\n                    }\r\n                    \r\n                    <li>\r\n                        <label htmlFor=\"email\">\r\n                        Email\r\n                        </label>\r\n                        <input onChange={(e) => this.onTxtfieldChange(e) } \r\n                        placeholder=\"example.vn@nds.com\" \r\n                        required type=\"email\" name=\"email\"\r\n                        value = {_.get(user, 'email')} \r\n                        id=\"email\" ></input>\r\n                    </li>\r\n                    <li>\r\n                        <label htmlFor=\"password\">Password</label>\r\n                        <input onChange={(e) => this.onTxtfieldChange(e) }\r\n                        autoComplete = {'off'} \r\n                        placeholder=\"Your-password\" \r\n                        required type=\"password\"\r\n                        value = {_.get(user, 'password')} \r\n                        id=\"password\" name=\"password\" ></input>\r\n                    </li>\r\n                    {\r\n                        !isLogin ? <li>\r\n                        <label htmlFor=\"repassword\">\r\n                        Comfirm Password\r\n                        </label>\r\n                        <input onChange={(e) => this.onTxtfieldChange(e) } \r\n                        placeholder=\"Re-password\" \r\n                        required type=\"password\" name=\"repassword\"\r\n                        value = {_.get(user, 'repassword')} \r\n                        id=\"repassword\" ></input>\r\n                    </li>\r\n                    :\r\n                    null\r\n                    }\r\n                    <div className=\"footer-login\">\r\n                        <div className=\"img\">\r\n                            <img style={{maxHeight: \"5rem\", maxWidth: \"5rem\"}} src={defaultImg} alt=\"nds\"/>\r\n                        </div>\r\n                        <div className=\"btn-cc\">\r\n                        <li>\r\n                            <span onClick={this.isFormGetPassword} >Forget password?</span>\r\n                        </li>\r\n                        <li>\r\n                            <button type=\"submit\" className=\"login-btn\">{isLogin ? 'Log In' : 'Create Now'}</button>\r\n                        </li>\r\n                        <li>\r\n                        <button type=\"button\" onClick = {this.changeControl}\r\n                        className=\"login-btn\" > { isLogin ? 'Create New Account?' : 'Already have an account?' } </button>\r\n                      </li>\r\n                        </div>\r\n                    </div>\r\n                </ul>\r\n                </form>\r\n                </div>\r\n                :\r\n                null\r\n            }\r\n                  {this.state.editPassword ? <div className=\"user-form\" ref = {(ref) => this.ref = ref}>\r\n                    <form onSubmit={this.handleEditPassword}>\r\n                    <ul className=\"form-container\">\r\n                        <li>\r\n                            <h4>Change Password</h4>\r\n                        </li>\r\n                        <li>\r\n                            { message ? <p className={classNames('app-msg', _.get(message, 'type'))}>\r\n                                {_.get(message, 'body')}\r\n                            </p> : null } \r\n                        </li>                    \r\n                        <li>\r\n                            <label htmlFor=\"password\">Current Password</label>\r\n                            <input \r\n                            placeholder=\"Current password\" \r\n                            required type=\"password\" name=\"password\"\r\n                            value = {this.state.oldPassword} \r\n                            onChange = {({target})=>{\r\n                                this.setState({ oldPassword: target.value })\r\n                            }} \r\n                            id=\"password\" ></input>\r\n                        </li>\r\n                        <li>\r\n                            <label htmlFor=\"password\">New Password</label>\r\n                            <input \r\n                            autoComplete = {'off'} \r\n                            placeholder=\"New-password\" \r\n                            required type=\"password\"\r\n                            value = {this.state.newPassword} \r\n                            onChange = {({target})=>{\r\n                                this.setState({ newPassword: target.value })\r\n                            }} \r\n                            id=\"password\" name=\"password\" ></input>\r\n                        </li>\r\n                        <li>\r\n                            <label htmlFor=\"repassword\">Comfirm new Password</label>\r\n                            <input\r\n                            placeholder=\"Re-password\" \r\n                            required type=\"password\" name=\"repassword\"\r\n                            value = {this.state.reNewPassword}\r\n                            onChange = {({target})=>{\r\n                                this.setState({ reNewPassword: target.value })\r\n                            }} \r\n                            id=\"repassword\" ></input>\r\n                        </li>\r\n                        <div className=\"footer-menu\">\r\n                            <div className=\"img\">\r\n                                <img style={{maxHeight: \"5rem\", maxWidth: \"5rem\"}} src={defaultImg} alt=\"nds\"/>\r\n                            </div>\r\n                            <div className=\"btn-cc\">\r\n                            <li>\r\n                            <button type=\"submit\" className=\"login-btn\">Save New-Password</button>\r\n                            </li>\r\n                            </div>\r\n                        </div>\r\n                    </ul>\r\n                    </form>\r\n                    </div>\r\n                    :\r\n                    null\r\n                }\r\n                    {isFormGetPassword ? <div className=\"user-form\" ref = {(ref) => this.ref = ref}>\r\n                        <form onSubmit={this.handleSendGetPassword}>\r\n                        <ul className=\"form-container\">\r\n                            <li>\r\n                                <h4>Get Your Password</h4>\r\n                            </li>\r\n                            <li>\r\n                                { message ? <p className={classNames('app-msg', _.get(message, 'type'))}>\r\n                                    {_.get(message, 'body')}\r\n                                </p> : null } \r\n                            </li>                    \r\n                            <li>\r\n                                <label htmlFor=\"text\">Email</label>\r\n                                <input \r\n                                placeholder=\"Your Email\" \r\n                                required type=\"email\" name=\"email\"\r\n                                value = {this.state.email} \r\n                                onChange = {({target})=>{\r\n                                    this.setState({ email: target.value })\r\n                                }} \r\n                                id=\"password\" ></input>\r\n                            </li>\r\n                            <div className=\"footer-menu\">\r\n                            <div className=\"img\">\r\n                                <img style={{maxHeight: \"5rem\", maxWidth: \"5rem\"}} src={defaultImg} alt=\"nds\"/>\r\n                            </div>\r\n                            <div className=\"btn-cc\">\r\n                            <li>\r\n                                <button type=\"submit\" className=\"login-btn\">Send Request</button>\r\n                            </li>\r\n                            </div>\r\n                        </div>\r\n                        </ul>\r\n                        </form>\r\n                        </div>\r\n                        :\r\n                        null\r\n                    }\r\n                    <ChangePassword store = { store }  />\r\n                    <SendVerifyCommunication \r\n                    handleShowFormVerifyEmail = {() =>this.setState({showFormVerifyEmail: !this.state.showFormVerifyEmail})}\r\n                    showFormVerifyEmail = {this.state.showFormVerifyEmail}\r\n                    onClickOutSide ={this.onClickhiddenshowFormVerifyCommunicate} \r\n                    showFormVerifyCommunicate={this.state.showFormVerifyCommunicate} store = { store } />\r\n        \r\n        </div>\r\n    </>\r\n    )\r\n    }\r\n}\r\n\r\nexport default UserBar\r\n\r\n\r\n\r\n\r\n","import React  from 'react'\r\n\r\n// import RainAmina from './RainAmina';\r\n\r\nconst Loading = () => {\r\n        \r\n        return (\r\n            <>\r\n            <div className=\"wrapper\">\r\n                <div className=\"line line1\">\r\n                    <span className=\"circle circle-top\"></span>\r\n                    <div className=\"dotted\">\r\n                        <span className=\"dot dot-top\"></span>\r\n                        <span className=\"dot dot-middle-top\"></span>\r\n                        <span className=\"dot dot-middle-bottom\"></span>\r\n                        <span className=\"dot dot-bottom\"></span>\r\n                    </div>\r\n                    <span className=\"circle circle-bottom\"></span>\r\n                </div>\r\n                <div className=\"line line2\">\r\n                    <span className=\"circle circle-top\"></span>\r\n                    <div className=\"dotted\">\r\n                        <span className=\"dot dot-top\"></span>\r\n                        <span className=\"dot dot-middle-top\"></span>\r\n                        <span className=\"dot dot-middle-bottom\"></span>\r\n                        <span className=\"dot dot-bottom\"></span>\r\n                    </div>\r\n                    <span className=\"circle circle-bottom\"></span>\r\n                </div>\r\n                <div className=\"line line3\">\r\n                    <span className=\"circle circle-top\"></span>\r\n                    <div className=\"dotted\">\r\n                        <span className=\"dot dot-top\"></span>\r\n                        <span className=\"dot dot-middle-top\"></span>\r\n                        <span className=\"dot dot-middle-bottom\"></span>\r\n                        <span className=\"dot dot-bottom\"></span>\r\n                    </div>\r\n                    <span className=\"circle circle-bottom\"></span>\r\n                </div>\r\n                <div className=\"line line4\">\r\n                    <span className=\"circle circle-top\"></span>\r\n                    <div className=\"dotted\">\r\n                        <span className=\"dot dot-top\"></span>\r\n                        <span className=\"dot dot-middle-top\"></span>\r\n                        <span className=\"dot dot-middle-bottom\"></span>\r\n                        <span className=\"dot dot-bottom\"></span>\r\n                    </div>\r\n                    <span className=\"circle circle-bottom\"></span>\r\n                </div>\r\n                <div className=\"line line5\">\r\n                    <span className=\"circle circle-top\"></span>\r\n                    <div className=\"dotted\">\r\n                        <span className=\"dot dot-top\"></span>\r\n                        <span className=\"dot dot-middle-top\"></span>\r\n                        <span className=\"dot dot-middle-bottom\"></span>\r\n                        <span className=\"dot dot-bottom\"></span>\r\n                    </div>\r\n                    <span className=\"circle circle-bottom\"></span>\r\n                </div>\r\n                <div className=\"line line6\">\r\n                    <span className=\"circle circle-top\"></span>\r\n                    <div className=\"dotted\">\r\n                        <span className=\"dot dot-top\"></span>\r\n                        <span className=\"dot dot-middle-top\"></span>\r\n                        <span className=\"dot dot-middle-bottom\"></span>\r\n                        <span className=\"dot dot-bottom\"></span>\r\n                    </div>\r\n                    <span className=\"circle circle-bottom\"></span>\r\n                </div>\r\n                <div className=\"line line7\">\r\n                    <span className=\"circle circle-top\"></span>\r\n                    <div className=\"dotted\">\r\n                        <span className=\"dot dot-top\"></span>\r\n                        <span className=\"dot dot-middle-top\"></span>\r\n                        <span className=\"dot dot-middle-bottom\"></span>\r\n                        <span className=\"dot dot-bottom\"></span>\r\n                    </div>\r\n                    <span className=\"circle circle-bottom\"></span>\r\n                </div>\r\n                <div className=\"line line8\">\r\n                    <span className=\"circle circle-top\"></span>\r\n                    <div className=\"dotted\">\r\n                        <span className=\"dot dot-top\"></span>\r\n                        <span className=\"dot dot-middle-top\"></span>\r\n                        <span className=\"dot dot-middle-bottom\"></span>\r\n                        <span className=\"dot dot-bottom\"></span>\r\n                    </div>\r\n                    <span className=\"circle circle-bottom\"></span>\r\n                </div>\r\n                <div className=\"line line9\">\r\n                    <span className=\"circle circle-top\"></span>\r\n                    <div className=\"dotted\">\r\n                        <span className=\"dot dot-top\"></span>\r\n                        <span className=\"dot dot-middle-top\"></span>\r\n                        <span className=\"dot dot-middle-bottom\"></span>\r\n                        <span className=\"dot dot-bottom\"></span>\r\n                    </div>\r\n                    <span className=\"circle circle-bottom\"></span>\r\n                </div>\r\n                <div className=\"line line10\">\r\n                    <span className=\"circle circle-top\"></span>\r\n                    <div className=\"dotted\">\r\n                        <span className=\"dot dot-top\"></span>\r\n                        <span className=\"dot dot-middle-top\"></span>\r\n                        <span className=\"dot dot-middle-bottom\"></span>\r\n                        <span className=\"dot dot-bottom\"></span>\r\n                    </div>\r\n                    <span className=\"circle circle-bottom\"></span>\r\n                </div>\r\n                <div className=\"line line11\">\r\n                    <span className=\"circle circle-top\"></span>\r\n                    <div className=\"dotted\">\r\n                        <span className=\"dot dot-top\"></span>\r\n                        <span className=\"dot dot-middle-top\"></span>\r\n                        <span className=\"dot dot-middle-bottom\"></span>\r\n                        <span className=\"dot dot-bottom\"></span>\r\n                    </div>\r\n                    <span className=\"circle circle-bottom\"></span>\r\n                </div>\r\n            </div>\r\n\r\n            {/* <RainAmina /> */}\r\n            </>\r\n        )\r\n      \r\n}\r\n\r\n\r\nexport default Loading\r\n","import React, { Component } from 'react';\r\n\r\nclass AudioVisualiser extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.canvas = React.createRef();\r\n  }\r\n  componentDidUpdate() {\r\n    this.draw();\r\n  }\r\n\r\n  draw() {\r\n    const { audioData } = this.props;\r\n    const canvas = this.canvas.current;\r\n    const height = canvas.height;\r\n    const width = canvas.width;\r\n    const context = canvas.getContext('2d');\r\n    let x = 0;\r\n    const sliceWidth = (width * 1.0) / audioData.length;\r\n    context.lineWidth = 1.68;\r\n    context.strokeStyle = 'rgba(199, 119, 199, 0.9)';\r\n    context.clearRect(0, 0, width, height);\r\n\r\n    context.beginPath();\r\n    context.moveTo(0, height / 2);\r\n    for (const item of audioData) {\r\n      const y = (item / 255.0) * height;\r\n      context.lineTo(x, y);\r\n      x += sliceWidth;\r\n    }\r\n    context.lineTo(x, height / 2);\r\n    context.stroke();\r\n  }\r\n \r\n  render() {\r\n    return <canvas width=\"700px\" height=\"700px\" ref={this.canvas}>\r\n    </canvas>;\r\n  }\r\n}\r\n\r\nexport default AudioVisualiser;","import React, { Component } from 'react';\r\nimport AudioVisualiser from './AudioVisualiser';\r\n\r\nclass AudioAnalyser extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { audioData: new Uint8Array(0) };\r\n    this.tick = this.tick.bind(this);\r\n  }\r\n  componentDidMount() {\r\n    this.audioContext = new (window.AudioContext ||\r\n      window.webkitAudioContext)();\r\n    this.analyser = this.audioContext.createAnalyser();\r\n    this.dataArray = new Uint8Array(this.analyser.frequencyBinCount);\r\n    this.source = this.audioContext.createMediaStreamSource(this.props.audio);\r\n    this.source.connect(this.analyser);\r\n    this.source.connect(this.analyser);\r\n    this.rafId = requestAnimationFrame(this.tick);\r\n  }\r\n  tick() {\r\n    this.analyser.getByteTimeDomainData(this.dataArray);\r\n    this.setState({ audioData: this.dataArray });\r\n    this.rafId = requestAnimationFrame(this.tick);\r\n  }\r\n  componentWillUnmount() {\r\n    cancelAnimationFrame(this.rafId);\r\n    this.analyser.disconnect();\r\n    this.source.disconnect();\r\n  }\r\n  render() {\r\n    return <AudioVisualiser audioData={this.state.audioData} />;\r\n  }\r\n}\r\n\r\nexport default AudioAnalyser;","import React, { useState, useEffect, useRef } from 'react'\r\n\r\nvar Draggable = props => {\r\n  const [pressed, setPressed] = useState(false)\r\n  const [position, setPosition] = useState({x: 0, y: 0})\r\n  const ref = useRef()\r\n\r\n  // Monitor changes to position state and update DOM\r\n  useEffect(() => {\r\n    if (ref.current) {\r\n      ref.current.style.transform = `translate(${position.x}px, ${position.y}px)`\r\n    }\r\n  }, [position])\r\n\r\n  // Update the current position if mouse is down\r\n  const onMouseMove = (event) => {\r\n    if (pressed) {\r\n      setPosition({\r\n        x: position.x + event.movementX,\r\n        y: position.y + event.movementY\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div\r\n      style={props.style}\r\n      ref={ ref }\r\n      onMouseMove={ onMouseMove }\r\n      onMouseDown={ () => setPressed(true) }\r\n      onMouseUp={ () => setPressed(false) }>\r\n      {props.children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Draggable","import React, { Component } from 'react'\r\nimport defaultUserImg from '../images/user-svg-default.svg';\r\nimport className from 'classnames';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { OrderedMap } from 'immutable';\r\nimport _ from 'lodash';\r\nimport {ObjectID} from \"../helpers/objectid\";\r\nimport { IconButton } from '@material-ui/core';\r\nimport { IoMdListBox, IoMdPeople } from 'react-icons/io'\r\nimport { CgCloseO, CgSoftwareUpload, CgMoreVerticalAlt } from 'react-icons/cg'\r\nimport { SiConvertio } from 'react-icons/si';\r\nimport { FaSun, FaMoon } from 'react-icons/fa';\r\nimport { BsPlus } from \"react-icons/bs\";\r\nimport { MdSettings, MdDeleteForever, MdInsertEmoticon, MdMic, MdVideocam, MdNavigateNext, MdPlayCircleOutline } from 'react-icons/md';\r\n// import moment from 'moment';\r\n\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Moment from 'react-moment';\r\nimport { UserBar } from \"./UserBar\";\r\nimport Loading from './Loading';\r\n// import LoadingMini from './Loading-mini';\r\nimport Dropzone from \"react-dropzone\";\r\nimport Picker, { SKIN_TONE_MEDIUM_DARK } from 'emoji-picker-react';\r\nimport AudioAnalyser from './library/AudioAnalyser';\r\nimport Draggable from './Draggable';\r\nimport { AiOutlineQuestionCircle } from 'react-icons/ai';\r\n\r\nconst urlServer = 'https://ndschatserver.herokuapp.com';\r\n\r\nexport default class App3 extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            height: window.innerHeight,\r\n            newMessage: '',\r\n            searchUser: '',\r\n            showSearchUser : false,\r\n            isTyping: false,\r\n            showEmoji: false,\r\n            audio: null,\r\n            temp : 5000,\r\n            isShowGetAud: false,\r\n            record: false,\r\n            openToolChat: false,\r\n            English: true,\r\n            iShowConfig: false,\r\n            idRoomChat: '',\r\n            redirect: false,\r\n            isDark: true,\r\n            isBarRight: false,\r\n            isBarLeft: false,\r\n        }\r\n\r\n    }\r\n    \r\n    updateTheme = (theme) => {\r\n      \r\n        console.log(this.state.isDark);\r\n        console.log(typeof(theme));\r\n        const themeBool = JSON.parse(theme);\r\n        console.log(typeof(themeBool));\r\n        this.setState({\r\n            isDark : !themeBool\r\n        })\r\n    }\r\n\r\n    handleChangeTheme = (e) => {\r\n        \r\n        const { isDark } = this.state;\r\n        e.preventDefault();\r\n\r\n        if(!isDark){\r\n            this.setState({\r\n                isDark: true\r\n            })\r\n        } else {\r\n            this.setState({\r\n                isDark: false\r\n            })\r\n        }\r\n        this.sendThemeToLocal()\r\n    }\r\n\r\n    sendThemeToLocal = () => {\r\n        const { isDark } = this.state;\r\n        const { store } = this.props;\r\n       \r\n            store.setThemeToLocalStorage(isDark);\r\n        \r\n        console.log(\"Sent: \", isDark);\r\n    }\r\n\r\n    getRandomInt(max) {\r\n        return Math.floor(Math.random() * Math.floor(max));\r\n    }\r\n\r\n\r\n    handleCreateR = (e) => {\r\n        e.preventDefault();\r\n            const idRoomChat = this.generateId(24);\r\n            this.setState({idRoomChat: idRoomChat});\r\n            console.log(idRoomChat);\r\n      }\r\n    dec2hex = (dec) => {\r\n        return dec < 10\r\n        ? '0' + _.toString(dec)\r\n        : dec.toString(16)\r\n    }\r\n    generateId = (len) => {\r\n        var arr = new Uint8Array((len || 40) / 2)\r\n        window.crypto.getRandomValues(arr)\r\n        return Array.from(arr, this.dec2hex).join('')\r\n    }\r\n\r\n    handleCreateRoom = (e) => {\r\n        const { store } = this.props;\r\n        e.preventDefault();\r\n        const { idRoomChat } = this.state;\r\n       \r\n\r\n        if(_.trim(idRoomChat).length){\r\n            const messageId = new ObjectID().toString();\r\n            const channel = store.getActiveChannel();\r\n            const channelId = _.get(channel , '_id', null);\r\n            const currentUser = store.getCurrentUser();\r\n            const message = {\r\n                _id: messageId,\r\n                channelId: channelId,\r\n                body : 'A new Face Moment Created with ID: '+ idRoomChat,\r\n                userId: _.get(currentUser, '_id'),\r\n                type:\"text\",\r\n                me: true,\r\n            };\r\n            \r\n            store.addMessage(messageId, message);\r\n        }\r\n        \r\n        this.setState({\r\n            iShowConfig: false,\r\n            redirect: true,\r\n        });\r\n    }\r\n   \r\n   \r\n    async startRecording() {\r\n        const {store} = this.props;\r\n        const audio = await navigator.mediaDevices.getUserMedia({\r\n          audio: true,\r\n          video: false,\r\n        });\r\n        this.setState({ audio });\r\n        this.setState({isShowGetAud: true});\r\n        this.setState({ record: true });\r\n\r\n        const chunks = [];\r\n        const recoder = new MediaRecorder(audio);\r\n        recoder.start();\r\n\r\n        recoder.ondataavailable = function(e) {\r\n            chunks.push(e.data);\r\n            const namefile = new ObjectID().toString();\r\n            let files = new File(chunks, `${namefile+'.mp3'}` , {type: \"audio/wav\"});\r\n            const path = URL.createObjectURL(files);\r\n            files.path = `${_.toString(path.substring(27)+'.mp3')}`;\r\n            const name = _.toString(files.path);\r\n            files.fileName = `${name}`;\r\n            // console.log(\"file goc 1: \", files);\r\n            let file = [];\r\n            file.push(files);\r\n            // console.log(\"File goc\", file);\r\n            const formData = new FormData();\r\n            formData.append('file', file[0] );\r\n            store.upLoadfile(formData);\r\n        }\r\n    }\r\n        \r\n        //stop\r\n        stopRecording() {\r\n        if(this.state.audio !== null){\r\n                this.state.audio.getTracks().forEach(track => track.stop());\r\n                this.setState({ audio: null });\r\n                this.setState({ record: false }); \r\n            } else {\r\n                console.log(\"Error shortage-lenght!\");\r\n            }\r\n                \r\n            \r\n        }\r\n\r\n        onClickOutSide1 = (e) => {\r\n            if(this.refSiderBar && !this.refSiderBar.contains(e.target)){\r\n                // console.log(\"Here click out side login form!\");\r\n                this.setState({\r\n                    isBarLeft: false,\r\n                })\r\n            }\r\n        }\r\n\r\n        onClickOutSide2 = (e) => {\r\n            if(this.refSiderBarRight && !this.refSiderBarRight.contains(e.target)){\r\n                // console.log(\"Here click out side login form!\");\r\n                this.setState({\r\n                    isBarRight: false\r\n                })\r\n            }\r\n        }\r\n\r\n\r\n        \r\n        onClickOutSide = (e) => {\r\n            if(this.ref && !this.ref.contains(e.target)){\r\n                // console.log(\"Here click out side login form!\");\r\n                this.setState({\r\n                    showEmoji: false,\r\n                })\r\n            }\r\n        }\r\n\r\n        onDrop = (files) => {\r\n            const {store} = this.props;\r\n            // console.log(\"file goc: \",files);\r\n            let formData = new FormData();\r\n            formData.append(\"file\", files[0]);\r\n            store.upLoadfile(formData);\r\n            // console.log(\"file format: \",formData);\r\n        }\r\n\r\n\r\n        sendTyping = () =>{\r\n            const { store } = this.props;\r\n            const activeChannel = store.getActiveChannel();\r\n            this.lastUpdateTime = Date.now()\r\n            if(!this.state.isTyping){\r\n                this.setState({isTyping:true});\r\n                store.addTyping(activeChannel, true);\r\n                this.startCheckingTyping();\r\n\r\n            }\r\n        }\r\n\r\n\t/*\r\n\t*\tstartCheckingTyping\r\n\t*\tStart an interval that checks if the user is typing.\r\n\t*/\r\n        startCheckingTyping = ()=>{\r\n            console.log(\"Typing\");\r\n            this.typingInterval = setInterval(() => {\r\n                if((Date.now() - this.lastUpdateTime) > 350){\r\n                    this.setState({isTyping:false})\r\n                    this.stopCheckingTyping()\r\n                }\r\n            }, 300)\r\n        }\r\n\t/*\r\n\t*\tstopCheckingTyping\r\n\t*\tStart the interval from checking if the user is typing.\r\n\t*/\r\n        stopCheckingTyping = () => {\r\n            const { store } = this.props;\r\n            const activeChannel = store.getActiveChannel();\r\n            console.log(\"Stop Typing\");\r\n            if(this.typingInterval){\r\n                clearInterval(this.typingInterval)\r\n                store.addTyping(activeChannel, false);\r\n            // console.log(this.state.isTyping);\r\n            }\r\n        }\r\n\r\n\r\n    renderChannelAvatar(channel){\r\n        const {store} = this.props;\r\n\r\n        const members = store.getMembersFromChannel(channel);\r\n\r\n        const maxDisplay = 4;\r\n        const total = members.size > maxDisplay ? maxDisplay : members.size;\r\n\r\n        const avatars = members.map((user, index) => {\r\n\r\n            return index < maxDisplay ?  <img key={index} src={`${urlServer}/${_.get(user, 'avatar')}` || defaultUserImg} alt={_.get(user, 'name')} /> : null\r\n\r\n        });\r\n\r\n        return <div className={className('channel-avatars', `channel-avatars-${total}`)}>{avatars}</div>\r\n    }\r\n\r\n    renderChannelTitle = (channel = null) => {\r\n        const { store } = this.props;\r\n        const members = store.getMembersFromChannel(channel);\r\n         const names = [];\r\n\r\n         members.forEach((user) => {\r\n             const name = _.get(user, 'name')\r\n             names.push(name);\r\n         });\r\n         let title = _.join(names, ', ');\r\n         if(!title && _.get(channel, 'isNew')){\r\n             title = 'New Mss';\r\n         }\r\n        return <div className=\"title-name-channel\">{title}</div>\r\n    }\r\n   \r\n    handleOnClick = (user) => {\r\n       \r\n        const { store } =this.props;\r\n        const userId = _.get(user, '_id');\r\n        const channelId = _.get( store.getActiveChannel(),'_id')\r\n        store.addUserToChannel(channelId, userId);\r\n        this.setState({\r\n            searchUser: '',\r\n        })\r\n    }\r\n    _onCreateChannel = (e) => {\r\n        e.preventDefault()\r\n        const { store } =this.props;\r\n        const currentUser = store.getCurrentUser();\r\n        const currentUserId = _.get(currentUser, '_id');\r\n        const channelId = new ObjectID().toString();\r\n        const channel = {\r\n            _id: channelId,\r\n            title: \"\",\r\n            lastMessage: \"Let's a chat\",\r\n            members: new OrderedMap(),\r\n            messages: new OrderedMap(),\r\n            isNew: true,\r\n            userId: currentUserId,\r\n            created: new Date(),\r\n            typing: false,\r\n        };\r\n        channel.members = channel.members.set(currentUserId, true);\r\n        store.onCreateNewChannel(channel);\r\n    }\r\n    scrollMessagesToBottom = () => {\r\n        if(this.messagesRef){\r\n            this.messagesRef.scrollTop = this.messagesRef.scrollHeight;\r\n        }\r\n    }\r\n \r\n\r\n    handlePlayMusic = (music) => {\r\n       \r\n        try {\r\n            this.audio.pause();\r\n            this.audio.currentTime = 0;\r\n         \r\n        } catch (e) {\r\n          console.log(e);\r\n        }\r\n       \r\n        this.audio = new Audio(music);\r\n        this.audio.play();\r\n        \r\n    }\r\n\r\n\r\n    handleStopMusic = (music) => {\r\n        this.audio = new Audio(music);\r\n        this.audio.pause()\r\n    }\r\n    handleSubmit = (e) => {\r\n\r\n        const { newMessage } = this.state;\r\n        const { store } = this.props;\r\n        e.preventDefault();\r\n\r\n        if(_.trim(newMessage).length){\r\n            const messageId = new ObjectID().toString();\r\n            const channel = store.getActiveChannel();\r\n            const channelId = _.get(channel , '_id', null);\r\n            const currentUser = store.getCurrentUser();\r\n            const message = {\r\n                _id: messageId,\r\n                channelId: channelId,\r\n                body : newMessage,\r\n                userId: _.get(currentUser, '_id'),\r\n                type:\"text\",\r\n                me: true,\r\n            };\r\n            \r\n            store.addMessage(messageId, message);\r\n            this.setState({newMessage: \"\"});\r\n        }\r\n        this.setState({\r\n            newMessage: \"\",\r\n            showEmoji: false\r\n        });\r\n\r\n    };\r\n    \r\n    _onResi = () => {\r\n        this.setState({height: window.innerHeight});\r\n    }\r\n    // addTestMessages = () => {\r\n    //     const {store} = this.props\r\n\r\n      \r\n    //     for(let i = 0; i < 20; i++){\r\n    //         let isMe = false;\r\n    //         if(i % 2 === 0) {\r\n    //             isMe = true;\r\n    //         }\r\n    //         const newMsg = {\r\n    //             _id: `${i}`,\r\n    //             author: `Author: ${i}`,\r\n    //             body: `The body of message ${i}`,\r\n    //             avatar: defaultImg,\r\n    //             me: isMe,\r\n    //             timing: '0:00'\r\n    //         }\r\n    //         store.addMessage(i, newMsg);\r\n\r\n    //     }\r\n\r\n    //     for (let c = 0; c<10; c++){\r\n    //         const newChannel ={\r\n    //             _id: `${c}`,\r\n    //             title: `Channel title ${c}`,\r\n    //             lastMessage: `Hey there is.. ${c}`,\r\n    //             members: new OrderedMap({\r\n    //                 '1': true,\r\n    //                 '2': true,\r\n    //             }),\r\n    //             messages: new OrderedMap(),\r\n    //             created: new Date(),\r\n    //         }\r\n    //         const moreMsgId =`${c + 1}`;\r\n    //         const msgId = `${c}`;\r\n    //         newChannel.messages = newChannel.messages.set(msgId, true);\r\n    //         newChannel.messages = newChannel.messages.set(moreMsgId, true);\r\n    //         store.addChannel(c, newChannel);\r\n    //     }\r\n\r\n    // }\r\n    componentDidUpdate(){\r\n        this.scrollMessagesToBottom();\r\n        // console.log(this.state.isDark)\r\n        // console.log(\"CDidUpdate\");\r\n       \r\n    }\r\n    componentDidMount(){\r\n        const { store } = this.props;\r\n        window.addEventListener('resize', this._onResi);\r\n        window.addEventListener('mousedown', this.onClickOutSide);\r\n        window.addEventListener('mousedown', this.onClickOutSide1);\r\n        window.addEventListener('mousedown', this.onClickOutSide2);\r\n        const theme = store.getThemeFromLocalStorage();\r\n        this.updateTheme(theme);\r\n        // this.addTestMessages();\r\n        // console.log(\"CDidMount\");\r\n    }\r\n    componentWillUnmount(){\r\n        this.stopCheckingTyping()\r\n        window.removeEventListener('resize', this._onResi);\r\n        window.removeEventListener('mousedown', this.onClickOutSide);\r\n        window.removeEventListener('mousedown', this.onClickOutSide1);\r\n        window.removeEventListener('mousedown', this.onClickOutSide2);\r\n        // console.log(\"CWillUnMount\");\r\n    }\r\n    \r\n    render() {\r\n\r\n        const { height, newMessage, showEmoji, isShowGetAud, openToolChat, English, iShowConfig, redirect, isDark, isBarLeft, isBarRight } = this.state;\r\n        const { store } = this.props;\r\n        const isConnected = store.isConnected();\r\n        const activeChannel = store.getActiveChannel();\r\n        const messages = store.getMessagesFromChannel(activeChannel);\r\n        const members = store.getMembersFromChannel(activeChannel);\r\n        const channels = store.getChannels();\r\n        const usersList = store.getSearchUsers();\r\n        const me = store.getCurrentUser();\r\n      \r\n\r\n        const onEmojiClick = (event, emojiObject) => {\r\n            this.setState({newMessage:`${emojiObject.emoji}`});\r\n            // console.log(`${emojiObject.emoji}`);\r\n        }\r\n       \r\n\r\n        const style = {\r\n            height: height,\r\n        }\r\n        \r\n        const resultSearch = () => {\r\n\r\n                return (\r\n                    <div className=\"search-user\">\r\n                        <div className=\"user-list\">\r\n                        {usersList.map((user, index) =>{\r\n                            return <div onClick={() => this.handleOnClick(user)} key={index} className=\"user\">\r\n                            <img src={`${urlServer}/${user.avatar}` || defaultUserImg} alt={user.name} />\r\n                            <span>{user.name}</span>\r\n                        </div>\r\n                        })\r\n                        } \r\n                        </div>\r\n                    </div>\r\n                )\r\n        }\r\n        if(redirect){\r\n            return <Redirect to={\"/ndsappbeta/chat/Facemoment/\" \r\n            + this.state.idRoomChat\r\n            + '?' + _.get(me, '_id') + this.getRandomInt(9)\r\n        }/>\r\n        }\r\n\r\n        return (\r\n\r\n            <div style={style} className=\"app3\">\r\n               <div className={className('chat-header', {'darkTheme': !isDark})}>\r\n                   {_.get(activeChannel, 'isNew') ? null\r\n                    :\r\n                    <div className=\"header-left\">\r\n\r\n                        <div className=\"action\">\r\n                            <Link to='' onClick={(e) => this._onCreateChannel(e)} className=\"btn-primary\">AddNew</Link>\r\n                        </div>\r\n                        <div className=\"action-mini\">\r\n                        <Tooltip title=\"Add New Channel\" placement=\"left-start\">\r\n                            <IconButton  onClick={(e) => this._onCreateChannel(e)} style={{color: \"rgba(199, 159, 199, 0.9)\"}} >\r\n                                <BsPlus style={{fontSize:'2.2rem'}} />\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                        </div>\r\n\r\n                    </div>\r\n                    }\r\n                    {_.get(activeChannel, 'isNew') ? <div className=\"toolbar\">\r\n                        <form className=\"tool\">\r\n                            <textarea\r\n                            type=\"text\"\r\n                            value ={ this.state.searchUser }\r\n                            placeholder=\"Name/ID/Email\"\r\n                            onChange = {(e) => {\r\n                                const searchTxt = _.get(e, 'target.value');\r\n                                this.setState({\r\n                                    searchUser: searchTxt,\r\n                                }, () => {\r\n                                    store.startSearchUsers(searchTxt);\r\n                                })\r\n                            }}\r\n                            />\r\n                        </form>\r\n                        {resultSearch()}\r\n                        </div> : null }\r\n\r\n                    <div className=\"header-mid\">\r\n                        { this.renderChannelTitle(activeChannel) }\r\n                    </div>\r\n                    <div className=\"header-right\">\r\n                            <UserBar store = { store } />\r\n                        {/* <div className=\"toolsRight-bar\" > */}\r\n                            <IconButton onClick={this.handleChangeTheme} style={{ color: \"rgba(199, 119, 199, 0.9)\"}}>\r\n                                { !isDark ? <FaSun /> : <FaMoon />}\r\n                            </IconButton>\r\n                        {/* </div>\r\n                        <div className=\"toolsRight-bar\" > */}\r\n                            <IconButton  style={{ color: \"rgba(199, 169, 199, 1)\"}}>\r\n                               <AiOutlineQuestionCircle><a href=\"/ndsappbeta/about/help\"></a></AiOutlineQuestionCircle>\r\n                            </IconButton>\r\n                        {/* </div> */}\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                {/* main chat body */}\r\n                <div className='chat-main'>\r\n\r\n                    {/* side bar left with channel */}\r\n                    <div className={className('sidebar-left', {'darkTheme': !isDark}, {'openbarLeft': isBarLeft})}  ref = {(ref) => this.refSiderBar = ref}>\r\n                        <div className=\"chanels\">\r\n                            {channels.map((channel, index) => {\r\n                                return (\r\n                                    <div onClick= {(index) => {\r\n                                        store.setActiveChannelId(channel._id);\r\n                                    }} key={channel._id} className={className('chanel', {'active' : _.get(activeChannel, '_id') === _.get(channel, '_id', null)})}>\r\n                                        <div className=\"user-img\">\r\n                                            {this.renderChannelAvatar(channel)}\r\n                                        </div>\r\n                                        <div className={className('chanel-info',{'notify': _.get(channel, 'notify', null)})}>\r\n                                            {this.renderChannelTitle(channel)}\r\n                                            <p>{\r\n                                            (( `${channel.lastMessage}`).substring(0, 7) === 'uploads') ? 'An Attached file'\r\n                                            :\r\n                                            `${channel.lastMessage}`\r\n                                            }</p>\r\n                                        </div>\r\n                                    </div>\r\n                                )\r\n                            })}\r\n                            \r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                    {\r\n                        iShowConfig ?  <Draggable style={{\r\n                            zIndex: 101,\r\n                            position: 'absolute',\r\n                            right: 0,\r\n                            cursor: 'move',\r\n                            maxHeight: '40rem',\r\n                        }}>\r\n                            <div className=\"conf-video\">\r\n                                 <ul className=\"form-container\">\r\n                                     <h4>\r\n                                        Config Face Moment\r\n                                     </h4>\r\n                                     <form onSubmit={this.handleCreateRoom} >\r\n                                     <li>\r\n                                        <label htmlFor=\"text\">\r\n                                        ID Room\r\n                                        </label>\r\n                                        <input\r\n                                        // onChange={(e) => this.onTxtfieldChange(e) } \r\n                                        placeholder=\"ndsRoom\" \r\n                                        required=\"true\" type=\"text\" name=\"room\"\r\n                                        value ={ this.state.idRoomChat }\r\n                                        onChange = {({target})=>{\r\n                                            this.setState({ idRoomChat: target.value })\r\n                                        }}\r\n                                        id=\"room\" ></input>\r\n                                    </li>\r\n                                    <li>\r\n                                        <div onClick = {this.handleCreateR} className=\"autofill-ID\">CreateRanDom</div>\r\n                                    </li>\r\n                                     </form>\r\n                                    \r\n                                    <div className=\"footer-conf-video\">\r\n                                       \r\n                                        <button type=\"button\"  onClick = { (e) => {this.setState({iShowConfig: false})}} className=\"login-btn\">CANCEL</button>\r\n                                        <button type=\"submit\"  onClick = {this.handleCreateRoom} className=\"login-btn\">CONTINUE</button>\r\n                                         \r\n                                    </div>\r\n\r\n                                    <div>\r\n                                        <h5>Instruction <SiConvertio onClick = {(e) => {this.setState({English: !English})}}/></h5>\r\n\r\n                                        {English ?  <p>\r\n                                            <li>Enter ID for the Face Moment room and choose continue</li>\r\n                                            <li>Continue means you accept access we using your account registered with the system. And all are confidential.</li>\r\n                                            <li>Make sure your friend knows <b>exactly</b> ID of the Face Moment room so they can re-enter and continue with it</li>\r\n                                            <li>After choosing to continue, the browser will open a Face Moment window consisting of people who have joined by the room name Face Moment</li>\r\n                                            <li style={{alignItems:'center'}}>To leave the Face Moment session you select the <CgCloseO /> icon, Face Moment will self-cancel when there is no member.</li>\r\n                                            <li>Shouldn't leaving Face Moment <b>the wrong way</b> to avoid affecting the connection of the other people.</li>\r\n                                            <span>ThankYou so much, according to nDs</span>\r\n                                        </p>\r\n                                        :\r\n                                        <p>\r\n                                            <li>Nhp ID phng Face Moment v chn tip tc</li>\r\n                                            <li>Tip tc ng ngha bn chp nhn truy cp dng ti khon ca bn  ng k vi h thng. V tt c u c bo mt.</li>\r\n                                            <li>m bo rng bn ca bn bit <b>chnh xc</b> ID ca phng Face Moment  h c th nhp li v tip tc vi n</li>\r\n                                            <li>Sau khi chn tip tc trnh duyt s m ca s Face Moment gm nhng ngi  tham gia bng tn phng Face Moment</li>\r\n                                            <li style={{alignItems:'center'}}> ri khi phin Face Moment bn chn vo biu tng <CgCloseO />, Face Moment s t hu khi khng cn thnh vin no.</li>\r\n                                            <li>Hn ch ri khi Face Moment <b>sai cch</b>  trnh nh hng n kt ni ca nhng ngi cn li.</li>\r\n                                            <span>Cm n mi ngi, theo nDs</span>\r\n                                        </p>\r\n                                        }\r\n                                       \r\n                                        \r\n                                    </div>\r\n                                 </ul>\r\n                            </div>\r\n                        </Draggable>\r\n                        : null\r\n                    }\r\n\r\n\r\n                    {/* chat content main */}\r\n                   \r\n                    <div className={className(\"chat-content\", {'darkTheme': !isDark})}>\r\n                    {   me ? <div className={className(\"toolChat\", {'darkTheme': !isDark})}>\r\n                            <div className=\"controlSiderBar\">\r\n                                <Tooltip title=\"Channels\" placement=\"left-start\">\r\n                                <IconButton style={{ color: \"rgba(199, 119, 199, 0.9)\"}} onClick = {(e) => {this.setState({isBarLeft: !isBarLeft})}}>\r\n                                    <IoMdListBox />\r\n                                </IconButton>\r\n                                </Tooltip>\r\n\r\n                                <Tooltip title=\"Members\" placement=\"left-start\">\r\n                                <IconButton style={{ color: \"rgba(199, 119, 199, 0.9)\"}} onClick = {(e) => {this.setState({isBarRight: !isBarRight})}}>\r\n                                    <IoMdPeople />\r\n                                </IconButton>\r\n                                </Tooltip>\r\n                            </div>\r\n                            <div>\r\n                                {!openToolChat ?  <IconButton style={{ color: \"rgba(199, 119, 199, 0.9)\"}} onClick = {()=>this.setState({openToolChat: !openToolChat})}><CgMoreVerticalAlt /></IconButton> : <div className=\"toolChats\">\r\n                                    <IconButton style={{ color: \"rgba(199, 119, 199, 0.9)\"}} onClick = {()=>this.setState({iShowConfig: !iShowConfig})}>\r\n                                        <MdVideocam />\r\n                                    </IconButton>\r\n                                     <IconButton style={{ color: \"rgba(199, 119, 199, 0.9)\"}}>\r\n                                    <Dropzone onDrop={this.onDrop}>\r\n                                        {({getRootProps, getInputProps}) => (\r\n                                            <section>\r\n                                            <div {...getRootProps()}>\r\n                                                <input {...getInputProps()} />\r\n                                                    <CgSoftwareUpload />\r\n                                            </div>\r\n                                            </section>\r\n                                        )}\r\n                                    </Dropzone>\r\n                                    </IconButton >\r\n                                    <IconButton style={{ color: \"rgba(199, 119, 199, 0.9)\"}} onClick = {(e) => {this.setState({openToolChat: !openToolChat})}}>\r\n                                        <MdNavigateNext  />\r\n                                    </IconButton>\r\n                                </div>\r\n                                }\r\n                            </div>\r\n                           \r\n                        </div>\r\n                        : \r\n                        <div className={className(\"app-say\", {'darkTheme': !isDark})}>\r\n                            <h3>LOGIN to ACTIVE PAGE</h3>\r\n                            <div className=\"animation-wait\">\r\n                                <Loading></Loading>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                        \r\n                        <div ref={(ref) => this.messagesRef = ref} className=\"messages\">\r\n                            { \r\n                                messages.map((mess, index) => { \r\n                                    const user = _.get(mess, 'user');\r\n                                    return (\r\n                                    <div key={index} className={`${mess.me ? 'message-me' : 'message'}`}>\r\n\r\n                                    <img src={`${urlServer}/${_.get(user, 'avatar')}` || defaultUserImg} alt=\"user-img\" className=\"img-user\"></img>\r\n\r\n                                    <div className=\"message-body\">\r\n\r\n                                        <div className=\"username\">{`${mess.me ? 'You' : _.get(mess, 'user.name')}`} say: </div>\r\n                                        \r\n                                        <p className=\"message-text\">\r\n                                    \r\n                                                { (mess.type === `text`) ? <p>{mess.body}</p>\r\n                                                // this will be either video or image \r\n                                                :\r\n                                                \r\n                                                ((`${mess.body}`).substring((`${mess.body}`).length - 3, (`${mess.body}`).length) === 'mp3' ? \r\n                                        \r\n                                                    <div className=\"audio-message\" > <MdPlayCircleOutline style={{fontSize: '1.5rem', alignItems:'center'}} onClick= {() => this.handlePlayMusic(`http://localhost:8080/${mess.body}`)} /> Click to Play</div>\r\n                                                    :\r\n                                                    ((`${mess.body}`).substring((`${mess.body}`).length - 3, (`${mess.body}`).length) === 'mp4' ?\r\n                                                        <video style={{ maxWidth: '20rem' }} src={`${urlServer}/${mess.body}`} alt=\"video\" controls />\r\n                                                        :\r\n                                                        <img style={{ maxWidth: '20rem' }} src={`${urlServer}/${mess.body}`} alt=\"img\" />\r\n                                                    )\r\n                                                    )\r\n                                             } \r\n                                            {/* { this.renderMessage(mess) } */}\r\n                                            <p className=\"timing\"><Moment fromNow>{mess.created}</Moment></p>\r\n\r\n                                        </p>\r\n                                    </div>\r\n                                    </div>\r\n                                    );\r\n                                   \r\n                                })\r\n                            }\r\n                                {showEmoji ? <div className=\"emoji\" ref = {(ref) => this.ref = ref}>\r\n                                    <Picker  onEmojiClick={onEmojiClick} skinTone={SKIN_TONE_MEDIUM_DARK}/>\r\n                                </div> : null }\r\n                              \r\n                                 \r\n                        </div>\r\n                        {\r\n                        isShowGetAud ? <div className=\"getAdi\">\r\n                                <div>\r\n                                {this.state.audio ? <AudioAnalyser audio={this.state.audio} /> : null}\r\n                                </div>\r\n                        </div> : null\r\n                        }\r\n                        \r\n                        {_.get(activeChannel, 'typing') && _.get(activeChannel, 'typier') !== _.get(me, '_id') ? <div  disabled = { newMessage.length > 1 } className=\"typing-status\">Is Typing..</div> : null}\r\n                        {   members.size > 0 ? <div className=\"message-input\">\r\n                            <form \r\n                                onSubmit= { this.handleSubmit }\r\n                                disabled = { newMessage.length < 1 }\r\n                                className=\"message-form\">\r\n                                <IconButton style={{ color: \"rgba(199, 119, 199, 0.9)\"}} onClick = {() => {this.setState({showEmoji: !showEmoji})}}>\r\n                                    <MdInsertEmoticon />\r\n                                </IconButton>\r\n                                <textarea  \r\n                                    id = \"message\"\r\n                                    ref={(input)=> this.input = input}\r\n                                    type = \"text\"\r\n                                    className = \"form-control\"\r\n                                    value = { newMessage }\r\n                                    autoComplete = {'off'}\r\n                                    placeholder = \"Type something interesting\"\r\n                                    onKeyUp = { (e) => { \r\n                                        { if(e.keyCode === 13 && !e.shiftKey) \r\n                                            { this.handleSubmit(e); }}\r\n                                        { if( e.keyCode !== 13 ){ this.sendTyping() }}\r\n                                        }\r\n                                    }\r\n                                    onChange = {\r\n                                    \t({target})=>{\r\n                                    \t\tthis.setState({newMessage:target.value})\r\n                                    \t}\r\n                                    }\r\n                                    />\r\n\r\n                                \r\n                                            {/*onClick = {() => this.toggleMicrophone()} */}\r\n                                        <IconButton style={{ color: \"rgba(199, 119, 199, 0.9)\"}} >\r\n                                        <MdMic onMouseDown= {() => {this.startRecording()}} onMouseUp= {() => {this.stopRecording()}} />\r\n                                        </IconButton>\r\n                            \r\n                                <button\r\n                                    disabled = { newMessage.length < 1 }\r\n                                    type = \"submit\"\r\n                                    className = \"send\"\r\n                                    onClick = { this.handleSubmit }\r\n                                > Send </button>\r\n                            </form>\r\n\t\t\t                </div>\r\n                            :\r\n                            null\r\n                        }\r\n                    </div>\r\n                   \r\n\r\n                   {/* sidebar right with member list */}\r\n                    <div className={className(\"sidebar-right\", {'darkTheme': !isDark}, {'openbarRight': isBarRight} )} ref = {(ref) => this.refSiderBarRight = ref}>\r\n                        <div className=\"title-right\">Members</div>\r\n                        <div className=\"chanels\" ref = {(ref) => this.refSiderBarRight = ref}>\r\n                            { members.map((member, index) => {\r\n\r\n                                const isOnline = _.get(member, 'online', false);\r\n                                return (\r\n                                    <div key ={ index } className=\"chanel\">\r\n\r\n                                        <div className=\"user-img-channel\">\r\n                                            <img src={`${urlServer}/${_.get(member, 'avatar')}` || defaultUserImg} alt=\"user-img\" />\r\n                                            <span className={className('user-status', {'online': isOnline})}></span>\r\n                                        </div>\r\n                                        <div className=\"chanel-info\">\r\n                                            <h4>{ member.name }</h4>\r\n                                            <p><Moment fromNow>2020-10-23T23:28:11.746Z</Moment></p>\r\n                                        </div>\r\n                                        <div onClick = {() => {\r\n                                            store.removeMemberFromChannel(activeChannel, member);\r\n                                        }}\r\n                                         className=\"icon-DelUser\">\r\n                                        <IconButton  style={{ color: \"rgb(200, 68, 20)\", fontSize: \"20\"}}>\r\n                                            <MdDeleteForever />\r\n                                        </IconButton>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                )\r\n                            })}\r\n                            \r\n                        </div>\r\n                        \r\n                    </div>\r\n                    \r\n\r\n                </div>\r\n                \r\n               <div className={className(\"chat-footer\", {'darkTheme': !isDark})}>\r\n                    {/* <div className=\"footer-left\">\r\n                        <div className=\"action\">\r\n                            <Link to='' onClick={(e) => this._onCreateChannel(e)} className=\"btn-primary\">AddNew</Link>\r\n                        </div>\r\n                    </div> */}\r\n                \r\n                    <div className=\"footer-mid\">\r\n                       <h4><a href=\"https://ndscoop.github.io/ndsappbeta/\">AllRight nDs, 2020</a></h4>\r\n                    </div>\r\n                    <div className=\"footer-right\">\r\n                    {!me && !isConnected ? <div className=\"app-warning-state\">Reconnecting..</div> : <div className=\"app-success-state\">Connected</div>}\r\n                    </div>\r\n                </div>  \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\n","import axios from 'axios';\r\nconst apiURL = \"https://ndschatserver.herokuapp.com\";\r\n// const apiURL = \"http://localhost:8080\"\r\nexport default class Service{\r\n    get(endpoint, options = null){\r\n        const url = `${apiURL}/${endpoint}`;\r\n        return axios.get(url, options);\r\n\r\n    }\r\n    post(endpoint = \"\", data = {}, options = {headers: {\r\n        'Content-Type': 'application/json',\r\n        'enctype': \"multipart/form-data\",\r\n}}){\r\n        const url = `${apiURL}/${endpoint}`;\r\n        return axios.post(url, data, options);\r\n    }\r\n}","import { OrderedMap } from \"immutable\";\r\nimport _ from 'lodash';\r\n\r\nexport default class Realtime{\r\n\r\n    constructor(store){\r\n        this.store = store;\r\n        this.ws = null;\r\n        this.isConnected = false;\r\n        this.connect();\r\n        this.reconnect();\r\n\r\n    }\r\n    // reconnect with server\r\n    reconnect(){\r\n        const store = this.store;\r\n        window.setInterval(() => {\r\n            const user = store.getCurrentUser();\r\n            if(user && !this.isConnected) {\r\n                this.connect();\r\n            }\r\n        }, 3000)\r\n    }\r\n\r\n    //decode message recieve from server\r\n    decoMessage(msg){\r\n        let message = {};\r\n        try{\r\n            message = JSON.parse(msg);\r\n        }\r\n        catch(err){\r\n            console.log(err)\r\n        }\r\n        return message;\r\n    }\r\n\r\n    // process message after decode\r\n    readMessage(msg){\r\n        const store = this.store;\r\n        const currentUser = store.getCurrentUser();\r\n        const currentUserId = _.toString(_.get(currentUser, '_id'));\r\n        const message = this.decoMessage(msg);\r\n        const action = _.get(message, 'action');\r\n        const payload = _.get(message, 'payload');\r\n\r\n        switch(action){\r\n            case 'channel_member_update':\r\n                //to do check payload and insert new channel\r\n                const userId_remove = _.get(payload, 'userId');\r\n                const channel = _.get(payload, 'channel')\r\n                console.log(\"edit member channel \",payload)\r\n              \r\n                this.updateMemberChannel(channel, userId_remove);\r\n              \r\n                break;\r\n            case 'edit_user' :\r\n                const userId = _.get(payload, 'userId');\r\n                const value = _.get(payload, 'obj.payload', '');\r\n                const field = _.get(payload, 'obj.field', '')\r\n                this.updateInfoUser(userId, field, value);\r\n                break;\r\n            case 'typing_status':\r\n                // console.log(payload);\r\n                const obj = _.get(payload, 'obj');\r\n                const channelId =  _.get(obj, 'channelId');\r\n                let typing = _.get(obj, 'payload');\r\n                let typier = _.get(obj, 'typier');\r\n                this.onUpdateTypestatus(channelId, typing, typier);\r\n                break;\r\n            case 'user_offline':\r\n                \r\n                this.onUpdateUserStatus(payload, false);\r\n                break;\r\n            case 'user_online':\r\n                const isOnline = true;\r\n                this.onUpdateUserStatus(payload, isOnline);\r\n                break;\r\n            case 'message_added':\r\n                \r\n                const activeChannel = store.getActiveChannel();\r\n                let notify = _.get(activeChannel, '_id') !== _.get(payload, 'channelId') && currentUserId !== _.get(payload, 'userId');\r\n                this.onAddMessage(payload, notify);\r\n\r\n            break;\r\n            default:\r\n                break;\r\n            case 'channel_added':\r\n                //to do check payload and insert new channel\r\n                this.onAddChannel(payload);\r\n                break;\r\n        }\r\n    }\r\n\r\n    //update member in channel\r\n    updateMemberChannel(channel, userId_remove){\r\n        const store = this.store;\r\n        // console.log(\"here in realtime\", channel)\r\n        store.removeMemberChannelFormRealtime(channel, userId_remove);\r\n        store.update();\r\n    }\r\n    \r\n\r\n    //update info user\r\n    updateInfoUser(userId, field, value){\r\n        const store = this.store;\r\n        // const currentUser = store.getCurrentUser();\r\n        // const currentUserId = _.get(currentUser, '_id');\r\n        // Get the existing data\r\n        let me = localStorage.getItem('me');\r\n        // If no existing data, create an array\r\n        // Otherwise, convert the localStorage string to an array\r\n        me = me ? JSON.parse(me) : {};\r\n        // Add new data to localStorage Array\r\n        me[field] = value;\r\n        // Save back to localStorage\r\n        localStorage.setItem('me', JSON.stringify(me));\r\n        store.setCurrentUser(me);\r\n        store.users = store.users.update(userId, (user) => {\r\n            if(user){\r\n                switch(field){\r\n                    case 'avatar':\r\n                        user.avatar = value;\r\n                    break;\r\n                    case 'name':\r\n                        user.name = value;\r\n                    break;\r\n                    case 'birthday':\r\n                        user.birthday = value;\r\n                    break;\r\n                    case 'phone':\r\n                        user.phone = value;\r\n                    break;\r\n                    case 'country':\r\n                        user.country = value;\r\n                    break;\r\n                    default:\r\n                    break;\r\n                }\r\n            }\r\n            return user;\r\n        });\r\n       \r\n       store.update()\r\n\r\n    }\r\n\r\n    //send status typing of user\r\n    onUpdateTypestatus(channelId, isTyping = false, typier){\r\n        const store = this.store;\r\n        store.channels = store.channels.update(channelId, (channel) => {\r\n            if(channel){\r\n                channel.typing = isTyping;\r\n                channel.typier = typier;\r\n            }\r\n            return channel;\r\n        });\r\n        store.update();\r\n    }\r\n\r\n    //update status user online or offline\r\n    onUpdateUserStatus(userId, isOnline = false){\r\n        const store = this.store;\r\n    \r\n        store.users = store.users.update(userId, (user) => {\r\n            if(user){\r\n                user.online = isOnline;\r\n                user.lastConnection = new Date()\r\n            }\r\n            \r\n            return user;\r\n        });\r\n        store.update();\r\n        \r\n    }\r\n\r\n    //add message to cache store\r\n    onAddMessage(payload, notify = false){\r\n        let user = _.get(payload, 'user');\r\n        const store = this.store;\r\n        const currentUser = store.getCurrentUser();\r\n        const currentUserId = _.toString(_.get(currentUser, '_id'));\r\n        \r\n        //add user to cache\r\n        user = store.addUserToCache(user);\r\n\r\n        const messageObject = {\r\n            _id: payload._id,\r\n            body: _.get(payload, 'body', ''),\r\n            userId: _.get(payload, 'userId'),\r\n            channelId: _.get(payload, 'channelId'),\r\n            created: _.get(payload, 'created', new Date()),\r\n            type: _.get(payload, 'type', ''),\r\n            me: currentUserId === _.toString(_.get(payload, 'userId')),\r\n            user: user,\r\n        };\r\n        // console.log(\"Mess listen from fetch: \", messageObject);\r\n        store.setMessage(messageObject, notify);\r\n\r\n    }\r\n\r\n    //add channnel to cache\r\n    onAddChannel(payload){\r\n        const store = this.store;\r\n        const channelId = `${payload._id}`;\r\n        const userId = `${payload.userId}`;\r\n        const users = _.get(payload, 'users', []);\r\n        let channel = { \r\n            \r\n            _id:channelId,  \r\n            title: _.get(payload, 'title', '' ),\r\n            lastMessage: _.get(payload, 'lastMessage', ''),\r\n            members: new OrderedMap(),\r\n            messages: new OrderedMap(),\r\n            isNew: false,\r\n            userId: userId,\r\n            created: new Date(),\r\n            typing: false,\r\n        };\r\n        _.each(users, (user) => {\r\n            //add this user to store.users collection\r\n            const memberId = `${user._id}`;\r\n            this.store.addUserToCache(user);\r\n            channel.members = channel.members.set(memberId, true);\r\n        });\r\n        const channelMessages = store.messages.filter((m) => _.toString(m.channelId) === channelId);\r\n        channelMessages.forEach((msg) => {\r\n            const msgId = _.toString(_.get(msg, '_id'));\r\n            channel.messages = channel.messages.set(msgId, true);\r\n        })\r\n        store.addChannel(channelId, channel);\r\n    }\r\n\r\n    //send message to server\r\n    send( msg = {}){\r\n        try{\r\n            const isConnected = this.isConnected;\r\n            if(this.ws && isConnected){\r\n                const msgString = JSON.stringify(msg);\r\n                this.ws.send(msgString);\r\n            }\r\n        }\r\n        catch{\r\n            console.log(\"An Error when Send info to server is connecting!\")\r\n        }\r\n       \r\n    }\r\n    //send request authentication user with token\r\n    authentication(){\r\n        const store = this.store;\r\n        const tokenId = store.getUserTokenId();\r\n        const message = {\r\n            action: 'auth',\r\n            payload: `${tokenId}`\r\n        }\r\n            this.send(message);\r\n    }\r\n    //main connect\r\n    connect(){\r\n        try{\r\n            // const ws = new WebSocket('ws://localhost:8080');\r\n            const ws = new WebSocket('wss://ndschatserver.herokuapp.com');\r\n            this.ws = ws;\r\n            ws.onopen = () => {\r\n                //tell to server who are you ?\r\n                this.isConnected = true;\r\n                this.authentication();\r\n                \r\n                ws.onmessage = (e) => {\r\n                    this.readMessage(_.get(e, 'data',''));\r\n                    console.log(\"Message from server\");\r\n                }\r\n            }\r\n    \r\n            ws.onclose = () => {\r\n                this.isConnected = false;\r\n                this.store.update();\r\n            }\r\n    \r\n            ws.onerror = () => {\r\n                this.isConnected = false;\r\n                this.store.update();\r\n            }\r\n        }\r\n        catch{\r\n            console.log(\"An error when Connecting to Server!\")\r\n        }\r\n\r\n    }\r\n}","import { OrderedMap } from 'immutable';\r\nimport _ from 'lodash';\r\nimport Service from './service';\r\nimport Realtime from './realtime';\r\n// import moment from \"moment\";\r\nimport translate from 'translate';\r\nimport {ObjectID} from './helpers/objectid';\r\nimport bcrypt from 'bcryptjs';\r\nimport axios from \"../src/apis/axios\";\r\n\r\nexport default class Store {\r\n    constructor(appComponent){\r\n        this.app = appComponent;\r\n        this.service = new Service();\r\n        this.messages = new OrderedMap();\r\n        this.channels = new OrderedMap();\r\n        this.messageDefaults = new OrderedMap();\r\n        this.messageVoices = new OrderedMap();\r\n        this.listTypeMessageDefaults = new OrderedMap();\r\n\r\n        this.activeChannelId = null;\r\n        this.user = this.getUserFromLocalStorage();\r\n        this.token = this.getTokenFromLocalStorage();\r\n        this.users = new OrderedMap();\r\n        this.realtime = new Realtime(this);\r\n        this.fetchUserChannels();\r\n        this.search = {\r\n            users: new OrderedMap(),\r\n        }\r\n\r\n        this.markList = new OrderedMap();\r\n        this.allMarkOther = new OrderedMap();\r\n\r\n\r\n    }\r\n\r\n                \r\n    //function edit mark\r\n    editMark(data){\r\n\r\n        // console.log(data)\r\n        const userToken = this.getUserTokenId();       \r\n        // console.log(data)\r\n       \r\n            return new Promise((resolve, reject) => {\r\n\r\n                // return resolve(\"successFull\")\r\n\r\n                if(userToken){\r\n                    const options = {\r\n                        headers: {\r\n                            authorization: userToken,\r\n                        }\r\n                    }\r\n                //send request 'api/editmarks' to server\r\n                this.service.post('api/editmarks', data, options).then((res) => {\r\n\r\n                    // console.log(\"this mark edited in store return callback: \", res.data);\r\n                    //proccess new mark to add cache store for user cant see it\r\n                        // window.sessionStorage.removeItem('marksListOfMe')\r\n                        // this.processlistMarkMe(res.data)\r\n                    //after seend change to server to every one cant see new mark if it is public\r\n                    window.sessionStorage.removeItem('marksListOfMe')\r\n                    return resolve(\"Mark be done edit\")\r\n                    \r\n\r\n                }).catch((err) => {\r\n                    const message = _.get(err, 'response.data.error.message', 'An Error Occured!');\r\n                    return reject(message);\r\n            });\r\n            // this.update()\r\n\r\n            }else{\r\n                return reject(\"Need login an Account to Active miMarks\")\r\n            }\r\n        })\r\n    }\r\n\r\n    //get all mark list from store\r\n    getAllMarkOther(){\r\n\r\n        return this.allMarkOther.valueSeq()\r\n\r\n    }\r\n\r\n    //get all mark list of other user from db server\r\n    fetchAllMarkOther(){\r\n        const userToken =this.getUserTokenId();\r\n        const configReTrille = window.sessionStorage.getItem(\"allMarkOther\");\r\n        let config = null\r\n        try {\r\n            config = JSON.parse(configReTrille);\r\n        }catch (err) {console.log(err)}\r\n\r\n        //get list mark from session store\r\n        if(config && userToken){\r\n          \r\n            // console.log('Marks in cache store', config)\r\n            _.each(config, (item) => {\r\n                const id = _.get(item, '_id', '')\r\n                this.allMarkOther = this.allMarkOther.set(id, item)\r\n                this.update()\r\n            })\r\n            // return callback( null, 'successFetchData');\r\n\r\n        }else{\r\n            if(userToken){\r\n                const options = {\r\n                    headers: {\r\n                        authorization: userToken,\r\n                    }\r\n                }\r\n                    //send request 'api/marks/allother' to server\r\n                    this.service.get(`api/marks/allother`, options).then((res) => {\r\n    \r\n                        // console.log(\"data marks form server\",)\r\n                        //create new mark array of other user\r\n                       const marks = res.data\r\n                        _.each(marks, (mark) => {\r\n                            // this.messageDefaults.push(messagevoice)\r\n                            const loggedUser = this.getCurrentUser();\r\n                            const id = _.get(mark, '_id', '')\r\n                            if( _.get(loggedUser, '_id') !== _.get(mark, 'userId')){\r\n                                console.log(id)\r\n                            this.allMarkOther = this.allMarkOther.set(id, mark)\r\n                            }\r\n                            \r\n                        })\r\n            \r\n                    }).catch((err) => {\r\n                        console.log(err);\r\n                    })\r\n               \r\n            }\r\n            this.update()\r\n        }\r\n        \r\n    }\r\n\r\n    processData = async (item) => {\r\n        try{\r\n            // console.log(item.country)\r\n            await fetch(`https://disease.sh/v3/covid-19/countries/${item.country}`)\r\n            .then(function(response) {\r\n                return response.json();\r\n            })\r\n            .then(data => {\r\n                item.covid19 = {\r\n                    continent: data.continent,\r\n                    flag: data.countryInfo.flag,\r\n                    iso2: data.countryInfo.iso2,\r\n                    caseCvid19: data.cases,\r\n                    recoveredCvid19: data.recovered,\r\n                    deathsCvid19: data.deaths,\r\n                    recoveredPerOneMillionCvid19: data.recoveredPerOneMillion\r\n                }\r\n                // console.log(\"mark after render 0 \", item)\r\n                const id = _.get(item, '_id', '')\r\n                this.markList = this.markList.set(id, item)\r\n              \r\n                \r\n            })\r\n            this.update()\r\n        }catch (err) {console.log(err)}\r\n       \r\n       \r\n    }\r\n\r\n    //get info current from store and get from api open weatherapi\r\n    processlistMarkMe = async (item) => {\r\n       \r\n            try{\r\n              \r\n                // console.log(item.lat, item.lng)\r\n                await fetch(`https://api.weatherapi.com/v1/forecast.json?key=510cbd14438a4e33bcc15040202911&q=${(item.lat).toFixed(2)},${(item.lng).toFixed(2)}&day=4`)\r\n                    .then(function(response) {\r\n                        return response.json();\r\n                    })\r\n                    .then(data => {\r\n\r\n\r\n                                item.name = data.location.name\r\n                                item.country = data.location.country\r\n                                item.localtime = data.location.localtime\r\n                                item.current = {\r\n                                    cloud: data.current.cloud,\r\n                                    humidity: data.current.humidity,\r\n                                    feelslike_c: data.current.feelslike_c,\r\n                                    temp_c: data.current.temp_c,\r\n                                    gust_kph: data.current.gust_kph,\r\n                                    is_day: data.current.is_day,\r\n                                    last_updated: data.current.last_updated,\r\n                                    precip_mm: data.current.precip_mm,\r\n                                    pressure_mb: data.current.pressure_mb,\r\n                                    uv: data.current.uv,\r\n                                    vis_km: data.current.vis_km,\r\n                                    wind_degree: data.current.wind_degree,\r\n                                    wind_dir: data.current.wind_dir,\r\n                                    wind_kph: data.current.wind_kph,\r\n                                    descript: data.current.condition.text,\r\n                                    icon: data.current.condition.icon\r\n            \r\n                                }\r\n                                item.hour = data.forecast.forecastday[0].hour\r\n                                item.astro = {\r\n                                    moon_illumination: data.forecast.forecastday[0].astro.moon_illumination,\r\n                                    moon_phase: data.forecast.forecastday[0].astro.moon_phase,\r\n                                    moonrise: data.forecast.forecastday[0].astro.moonrise,\r\n                                    moonset: data.forecast.forecastday[0].astro.moonset,\r\n                                    sunrise: data.forecast.forecastday[0].astro.sunrise,\r\n                                    sunset: data.forecast.forecastday[0].astro.sunset,\r\n                                }\r\n                                //get info and process data before save new info to store\r\n                                this.processData(item)\r\n\r\n                            })\r\n                           \r\n                    .catch(function(ex) {\r\n                    console.log(\"parsing failed\", ex);\r\n                    });\r\n               \r\n            }\r\n            catch (err){ \r\n                console.log(err) \r\n            }\r\n    \r\n    }\r\n\r\n    //get list mark of user\r\n    getMarksOfMe(){\r\n        \r\n        return this.markList.valueSeq();\r\n    }\r\n\r\n\r\n    //get all mark list of current user\r\n    fetchMarksListOfMe(callback = () => {}){\r\n        const userToken =this.getUserTokenId();\r\n        const configReTrille = window.sessionStorage.getItem(\"marksListOfMe\");\r\n        let config = null\r\n        try {\r\n            config = JSON.parse(configReTrille);\r\n        }catch (err) {console.log(err)}\r\n\r\n        if(config && userToken){\r\n          \r\n            // console.log('Marks in cache store', config)\r\n            _.each(config, (item) => {\r\n                const id = _.get(item, '_id', '')\r\n                this.markList = this.markList.set(id, item)\r\n                this.update()\r\n            })\r\n            return callback( null, 'successFetchData');\r\n        }else{\r\n            // const userToken =this.getUserTokenId();\r\n            if(userToken){\r\n            const options = {\r\n                headers: {\r\n                    authorization: userToken,\r\n                }\r\n            }\r\n            this.service.get(`api/marks/me`, options).then((res) => {\r\n                const markList = res.data;\r\n                // console.log(\"marks from db: \", res.data);\r\n                let temp = markList.length\r\n                _.each(markList, (item) => {\r\n                    \r\n                    this.processlistMarkMe(item)\r\n                    temp -= 1;\r\n                    if(temp === 0){\r\n                        return callback( null, 'successFetchData');\r\n                    }\r\n                })\r\n                \r\n               \r\n\r\n            }).catch((err) => {\r\n\r\n                console.log(\"An error fetch messagevoices\", err);\r\n            })\r\n        }\r\n        }\r\n        \r\n        this.update()\r\n        \r\n    }\r\n\r\n   \r\n    // add mark to db\r\n    addNewMark = (data) => {\r\n        const userToken = this.getUserTokenId();       \r\n        // console.log(data)\r\n       \r\n            return new Promise((resolve, reject) => {\r\n\r\n                // return resolve(\"successFull\")\r\n                if(userToken){\r\n                    const options = {\r\n                        headers: {\r\n                            authorization: userToken,\r\n                        }\r\n                    }\r\n\r\n                //send request add new mark\r\n                this.service.post('api/marks', data, options).then((res) => {\r\n\r\n                    // console.log(\"newMark Created \", res.data);\r\n                    //proccess new mark to add cache store for user cant see it\r\n                        window.sessionStorage.removeItem('marksListOfMe')\r\n                        this.processlistMarkMe(res.data)\r\n                    //after seend change to server to every one cant see new mark if it is public\r\n                  \r\n                    return resolve(\"The message has been added successful\")\r\n                    \r\n\r\n                }).catch((err) => {\r\n                    const message = _.get(err, 'response.data.error.message', 'An Error Occured!');\r\n                    return reject(message);\r\n            });\r\n            // this.update()\r\n\r\n            }else{\r\n                return reject(\"Need login an Account to Active miMarks\")\r\n            }\r\n        })\r\n    }\r\n\r\n    // translate data with request language\r\n    translateBody = (data) => {\r\n        let msgLang = null;\r\n        //if add langmic need change here to proccess info\r\n        let micLang = null;\r\n        const configReTrille = window.sessionStorage.getItem(\"configReTrille\");\r\n        try {\r\n            let config = JSON.parse(configReTrille);\r\n            if(config){\r\n                msgLang = config.msgLang;\r\n                micLang = config.micLang\r\n            }\r\n        }\r\n        catch(err) {\r\n            console.log(err);\r\n        }\r\n        // console.log(msgLang, micLang)\r\n            //we can use this language to translate\r\n        if(data){\r\n            return new Promise((resolve, reject) => {\r\n                if(msgLang !== 'en'){\r\n                    console.log(\"translated\")\r\n                    translate.engine = 'google';\r\n                    translate.key = 'AIzaSyCHUCmpR7cT_yDFHC98CZJy2LTms-IwDlM';\r\n                    translate(data, { from: 'en', to: `${msgLang}` }).then(text => {\r\n                        // console.log(text)\r\n                        return text ? resolve(text) : reject(\"error translate\")\r\n                    })\r\n                }else{\r\n                    console.log(\"nontranslate\")\r\n                    return data ? resolve(data) : reject(\"error translate\")\r\n                }\r\n               \r\n            })\r\n            \r\n        }\r\n       \r\n    }\r\n\r\n    proccessTranscript (transcript, callback = () =>{}){\r\n    \r\n        // console.log(transcript);\r\n        const messageList = this.messageDefaults.valueSeq().toArray();\r\n        // console.log(messageList);\r\n        let messageList2 = [];\r\n        let messageList3 = [];\r\n       \r\n        messageList.forEach(function(item) {\r\n            // console.log(\"here\", typeof(`${item.type}`), typeof(`${transcript}`) )\r\n            if(`${transcript}`.includes(`${item.type}`)){\r\n                // console.log(\"here\")\r\n                console.log(\"here\", `${item.type}`, `${transcript}` )\r\n                messageList2.push(item);\r\n            }\r\n          })\r\n\r\n        messageList2.forEach(function(item) {\r\n            if(`${transcript}`.includes(`${item.keyWord}`)){\r\n                console.log(\"here\")\r\n                messageList3.push(item);\r\n            }\r\n        })\r\n        if(messageList3.length){\r\n\r\n                const replyObj = messageList3[Math.floor(Math.random()*messageList3.length)];\r\n                console.log(replyObj)\r\n        \r\n            return callback(null, replyObj);\r\n        }else{\r\n            return callback({message:\"Topic or Keyword does not exist yet, please add the one you want\"}, null)\r\n        }\r\n        \r\n    }\r\n\r\n    //add new Voice message\r\n    addMessageVoice(transcript) {\r\n        if(transcript){\r\n\r\n            // let lang = null;\r\n            // const configReTrille = window.sessionStorage.getItem(\"configReTrille\");\r\n            // try {\r\n            //     let config = JSON.parse(configReTrille);\r\n            //     if(config){\r\n            //         lang = config.msgLang;\r\n            //     }\r\n            // }\r\n            // catch(err) {\r\n            //     console.log(err);\r\n            // }\r\n            // console.log(transcript)\r\n           \r\n            \r\n           \r\n            return new Promise((resolve, reject) => {\r\n                const userToken = this.getUserTokenId();\r\n                if(userToken){\r\n                    //find compare message \r\n                    this.proccessTranscript(transcript, (err, result) => {\r\n                        if(err){\r\n                            console.log('err')\r\n                            //call translate function\r\n                            this.translateBody(transcript).then((res) => {\r\n\r\n                                const currentUser =this.getCurrentUser();\r\n                                const messageId = new ObjectID().toString();\r\n                                const message = {\r\n                                    _id: messageId,\r\n                                    body : res,\r\n                                    userId: _.get(currentUser, '_id'),\r\n                                    msgOriginId: null,\r\n                                    showAuthor: null,\r\n                                    created: new Date(),\r\n                                    me: true,\r\n                                    user: {\r\n                                        name: 'You',\r\n                                        nameOri: _.get(currentUser, 'name'),\r\n                                        avatar: _.get(currentUser, 'avatar'),\r\n                                        ID: _.get(currentUser, 'ID'),\r\n                                    }\r\n                                \r\n                                }\r\n                                this.messageVoices = this.messageVoices.set(messageId, message);\r\n                                this.update()\r\n                            }).catch((err) => {\r\n        \r\n                                console.log(\"An error translating\");\r\n                            })\r\n                            \r\n                            return reject(err.message); \r\n                        }\r\n                        //call translate function\r\n                        this.translateBody(transcript).then((res) => {\r\n\r\n                            const currentUser =this.getCurrentUser();\r\n                            const messageId = new ObjectID().toString();\r\n                            const message = {\r\n                                _id: messageId,\r\n                                body : res,\r\n                                userId: _.get(currentUser, '_id'),\r\n                                msgOriginId: null,\r\n                                showAuthor: null,\r\n                                created: new Date(),\r\n                                me: true,\r\n                                user: {\r\n                                    name: 'You',\r\n                                    nameOri: _.get(currentUser, 'name'),\r\n                                    avatar: _.get(currentUser, 'avatar'),\r\n                                    ID: _.get(currentUser, 'ID'),\r\n                                }\r\n                            \r\n                            }\r\n                            // console.log(message)\r\n                            this.messageVoices = this.messageVoices.set(messageId, message);\r\n                        \r\n                        }).catch((err) => {\r\n\r\n                            console.log(\"An error translating\");\r\n                        })\r\n                        setTimeout(() => {\r\n                            //call translate function\r\n                            this.translateBody(result.txtMessage).then((res) => {\r\n                                const messageIdReply = new ObjectID().toString();\r\n                                const reply = {\r\n                                    _id: messageIdReply,\r\n                                    body : res,\r\n                                    userId: null,\r\n                                    msgOriginId: result._id,\r\n                                    showAuthor: result.showAuthor,\r\n                                    created: new Date(),\r\n                                    me: false,\r\n                                    user: {\r\n                                        name: 'reTrille',\r\n                                        nameOri: result.user.name,\r\n                                        avatar: result.user.avatar,\r\n                                        ID: result.user.ID,\r\n                                    }\r\n                                }\r\n        \r\n                            \r\n                                this.messageVoices = this.messageVoices.set(messageIdReply, reply);\r\n                                this.update()\r\n                            }).catch((err) => {\r\n        \r\n                                console.log(\"An error translating\");\r\n                            })\r\n                            \r\n                        }, 68)\r\n                        console.log('result', result.txtMessage)\r\n                        return resolve(result.txtMessage);\r\n                        \r\n                    })\r\n                }else{\r\n                    return reject(\"Need login an Account to Active Retrille\")\r\n                }\r\n            })\r\n           \r\n        \r\n        }else{\r\n            console.log(\"An Error Occured\")\r\n        }\r\n    }\r\n\r\n    //get list type voice from store\r\n    getTypeVoices(){\r\n\r\n        return this.listTypeMessageDefaults.valueSeq();\r\n    }\r\n\r\n     //get list message voice from store\r\n    getMessageVoices(){\r\n\r\n        // let messages = new OrderedMap();\r\n        // console.log(\"get messageVoice\", this.messageVoices.valueSeq().toArray())\r\n        this.messageVoices = this.messageVoices.sort((a, b) => b.created - a.created);\r\n\r\n        return this.messageVoices.valueSeq();\r\n    }\r\n\r\n    //fecth type voice from \r\n    fetchTypeVoices() {\r\n       \r\n        const userToken =this.getUserTokenId();\r\n        if(userToken){\r\n            const options = {\r\n                headers: {\r\n                    authorization: userToken,\r\n                }\r\n            }\r\n                //send request 'api/messagevoices/types' to server\r\n                this.service.get(`api/messagevoices/types`, options).then((res) => {\r\n                \r\n                    const types = res.data;\r\n                    // console.log(types)\r\n                    types.map((data, key) => {\r\n                        // console.log(key,data)\r\n                        this.listTypeMessageDefaults = this.listTypeMessageDefaults.set(key, data)\r\n                    })\r\n\r\n                    return\r\n \r\n        \r\n                }).catch((err) => {\r\n                    console.log(err);\r\n                })\r\n           \r\n        }\r\n        this.update()\r\n    }\r\n    //fecth messagevoice from db \r\n    fetchMessageVoice() {\r\n        const userToken =this.getUserTokenId();\r\n        if(userToken){\r\n            const options = {\r\n                headers: {\r\n                    authorization: userToken,\r\n                }\r\n            }\r\n            //send request 'api/messagevoices/all' to server\r\n            this.service.get(`api/messagevoices/all`, options).then((res) => {\r\n                const messagevoices = res.data;\r\n                // console.log(\"message form db: \", messagevoices);\r\n                _.each(messagevoices, (messagevoice) => {\r\n                    // this.messageDefaults.push(messagevoice)\r\n                    const id = _.get(messagevoice, '_id', '')\r\n                    // console.log(id)\r\n                    this.messageDefaults = this.messageDefaults.set(id, messagevoice)\r\n                })\r\n                // _.each(channels, (c) => {\r\n                //     this.realtime.onAddChannel(c);\r\n                // });\r\n\r\n                // const firstChannelId = _.get(channels, '[0]._id', null);\r\n                // this.fetchChannelMessages(firstChannelId);\r\n            }).catch((err) => {\r\n\r\n                console.log(\"An error fetch messagevoices\", err);\r\n            })\r\n        }\r\n        this.update()\r\n    }\r\n    //add new message voice default into db\r\n    addMessageVoiceDefault(data){\r\n        const userToken = this.getUserTokenId();\r\n       \r\n        // console.log(data)\r\n                return new Promise((resolve, reject) => {\r\n                    if(userToken){\r\n                        const options = {\r\n                            headers: {\r\n                                authorization: userToken,\r\n                            }\r\n                        }\r\n                  \r\n                    //we need proccessing translate date to english before sent to server\r\n                    // {[...Array(product.countInStock).keys()].map( x =>\r\n                    //     <option key={x + 1} value={x + 1}>{x + 1}</option>\r\n                    //     )}\r\n                    //send request 'api/messagevoices' to server\r\n                    this.service.post('api/messagevoices', data, options).then((res) => {\r\n\r\n                        // console.log(\"Account Created \", res.data);\r\n\r\n                        return resolve(\"The message has been added successful\")\r\n\r\n                    }).catch((err) => {\r\n                        const message = _.get(err, 'response.data.error.message', 'An Error Occured!');\r\n                        return reject(message);\r\n                });\r\n\r\n            }else{\r\n                return reject(\"Need login an Account to Active ReTrille\")\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    //function verify user\r\n    sendVerifyCommunication(info){\r\n        const userToken = this.getUserTokenId();\r\n        const emailObj = {email: info.email}\r\n        if(userToken){\r\n\r\n            return new Promise((resolve, reject) => {\r\n                //send request 'api/users/checkemail' to server\r\n                this.service.post('api/users/checkemail', emailObj).then((res) =>{\r\n                    \r\n                    info.token = res.data;\r\n                    _.unset(info.token, 'user'); \r\n                    info.user = res.data.user;\r\n                    // console.log(\"user is: \", info)\r\n                    const post = {\r\n                        info: info,\r\n                        timestamp: new Date(),\r\n                        }\r\n                        //send request to email of user\r\n                    axios\r\n                        .post('/ndsapi/require/verifycommunication', post)\r\n                        .then(function(response) {\r\n                          // console.log(response.data.status);\r\n                          console.log(\"Successfull\");\r\n                          // also clear the form\r\n                        })\r\n                        .catch(function(error) {\r\n                          console.log(\"Error is sending!\");\r\n                          if (error.response) {\r\n                            if (error.response.status === 429) {\r\n                              console.log(\"Error is sending to server!\");\r\n                            }\r\n                          }\r\n                        });\r\n                    emailObj.tokenId = res.data._id;\r\n                    return resolve(emailObj)\r\n\r\n                    }).catch((err) => {\r\n                        const message = _.get(err, 'response.data.error.message', 'An Error Occured!');\r\n                        return reject(message);\r\n                });\r\n            })\r\n\r\n        }\r\n\r\n    }\r\n\r\n    // edit password \r\n    editPassword(oldPassword, newPassword, ipClient){\r\n\r\n        const userToken = this.getUserTokenId();\r\n        const contents = {\r\n            oldPassword: oldPassword,\r\n            newPassword: newPassword\r\n        }\r\n        if(userToken){\r\n            const options = {\r\n                headers: {\r\n                    authorization: userToken,\r\n                }\r\n            }\r\n\r\n            return new Promise((resolve, reject) => {\r\n                // console.log(contents);\r\n                //send request 'api/users/editpassword' to server\r\n                this.service.post('api/users/editpassword', contents, options).then((res) => {\r\n                    //soon add code process\r\n                    if(!res.data.success){\r\n                        console.log(res.data.error)\r\n                    }\r\n                    const currentUser =this.getCurrentUser();\r\n                    const email = _.get(currentUser, 'email', '');\r\n                    const name = _.get(currentUser, 'name', '')\r\n                    const post = {\r\n                        email: email,\r\n                        name: name,\r\n                        ip: ipClient.ip,\r\n                        country: ipClient.country,\r\n                        city: ipClient.city,\r\n                    }\r\n                    // console.log(post);\r\n                    // send to email of user \r\n                    axios\r\n                        .post('/ndsapi/announce/changeinfouser', post)\r\n                        .then(function(response) {\r\n                            console.log(\"Successful\");\r\n                        }).catch(err => console.log(err))\r\n\r\n                    return resolve(currentUser)\r\n\r\n\r\n                }).catch((err) => {\r\n                    const message = _.get(err, 'response.data.error.message', 'Changeing Password Error!');\r\n                    return reject(message);\r\n                });\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n    //request change password from user\r\n    requestChangePassword(email, password, tokenId, ipClient){\r\n        const infoObj = {email: email, password: password}\r\n        const options = {\r\n            headers: {\r\n                authorization: tokenId,\r\n            }\r\n        }\r\n        // console.log(infoObj)\r\n        return new Promise((resolve, reject) => {\r\n            this.service.post('api/users/changepassword', infoObj, options).then((res) =>{\r\n\r\n                // console.log(\"Changed Password \", res.data);\r\n\r\n                const post = {\r\n                    email: email,\r\n                    name: email,\r\n                    ip: ipClient.ip,\r\n                    country: ipClient.country,\r\n                    city: ipClient.city,\r\n                }\r\n                // console.log(post);\r\n                  // send to email of user \r\n                axios\r\n                    .post('/ndsapi/announce/changeinfouser', post)\r\n                    .then(function(response) {\r\n                        console.log(\"Successful\");\r\n                    }).catch(err => console.log(err))\r\n\r\n                return resolve(res.data);\r\n                \r\n            }).catch((err) => {\r\n                const message = _.get(err, 'response.data.error.message', 'Error send require, try again later!');\r\n                return reject(message);\r\n            });\r\n        })\r\n    }\r\n\r\n    //send request forget password\r\n    requestGetPassword(email){\r\n        \r\n        const emailObj = {email: email}\r\n        // console.log(emailObj)\r\n        return new Promise((resolve, reject) => {\r\n            //send request 'api/users/checkemail' to server\r\n            this.service.post('api/users/checkemail', emailObj).then((res) =>{\r\n\r\n                // console.log(\"Account Created \", res.data);\r\n\r\n                const post = {\r\n                    email: email,\r\n                    name: res.data.user.name,\r\n                    tokenId: res.data._id,\r\n                }\r\n                // console.log(post);\r\n                // send to email of user \r\n                axios\r\n                    .post('/ndsapi/announce/getinfouser', post)\r\n                    .then(function(response) {\r\n                        console.log(\"Successful\");\r\n                    }).catch(err => console.log(err))\r\n                    res.data = null;\r\n                return resolve(emailObj);\r\n                \r\n            }).catch((err) => {\r\n                const message = _.get(err, 'response.data.error.message', 'Email not exsit!');\r\n                return reject(message);\r\n            });\r\n        })\r\n    }\r\n    \r\n\r\n    //upload avatar User\r\n    uploadUserAvatar(formData){\r\n        const userToken = this.getUserTokenId();\r\n\r\n        if(userToken){\r\n            const options = {\r\n                headers: {\r\n                    authorization: userToken,\r\n                }\r\n            }\r\n            //send request 'api/user/uploadavatar' to server\r\n            this.service.post('api/user/uploadavatar', formData, options).then((res) => {\r\n\r\n                // console.log(res.data.success);\r\n                if(!res.data.success){\r\n                    console.log(res.data.error)\r\n                }\r\n                if (res.data.success) {\r\n                    this.editInfoUser('avatar', res.data.url )\r\n                }\r\n\r\n            }).catch((err) => {\r\n                console.log(\"Send Error: \", err);\r\n            });\r\n        }\r\n    }\r\n\r\n    //function render edit user\r\n    editUser(field, value){\r\n        if(value){\r\n            // console.log(field, value , typeof(value));\r\n            this.editInfoUser(field, value);\r\n        }\r\n        \r\n    }\r\n\r\n    //set theme local store\r\n    setThemeToLocalStorage(isDark = false ){\r\n\r\n        // console.log(\"Select theme Dark: \", isDark);\r\n        localStorage.setItem('themeOfChat', isDark);\r\n       \r\n    }\r\n\r\n    //get theme t from local store\r\n    getThemeFromLocalStorage(){\r\n        // console.log(\"auto get theme\")\r\n        let theme = null;\r\n        const data = localStorage.getItem('themeOfChat');\r\n        if(data){\r\n            try{\r\n                theme = data;\r\n            }\r\n            catch (err){\r\n                console.log(err);\r\n            }\r\n        }\r\n        console.log(\"Get theme Dark from localStorage: \", theme);\r\n        return theme;\r\n       \r\n    }\r\n\r\n    //upload file type photo or video message\r\n    upLoadfile(formData){\r\n        const userToken = this.getUserTokenId();\r\n        // console.log('File wav get in store: ',formData);\r\n        if(userToken){\r\n\r\n            this.service.post('api/messages/uploadfiles', formData).then((res) => {\r\n\r\n                // console.log(res.data.success);\r\n                if(!res.data.success){\r\n                    console.log(res.data.error)\r\n                }\r\n                if (res.data.success) {\r\n                    const messageId = new ObjectID().toString();\r\n                    const channel = this.getActiveChannel();\r\n                    const channelId = _.get(channel , '_id', null);\r\n                    const currentUser = this.getCurrentUser();\r\n                    const message = {\r\n                        _id: messageId,\r\n                        channelId: channelId,\r\n                        body : res.data.url,\r\n                        userId: _.get(currentUser, '_id'),\r\n                        type:\"VideoOrImage\",\r\n                        me: true,\r\n                };\r\n                this.addMessage(messageId, message);\r\n\r\n            }\r\n            }).catch((err) => {\r\n                console.log(\"Send files Error: \", err);\r\n            });\r\n        }\r\n    }\r\n\r\n    //fetch user channel message\r\n    fetchUserChannels(){\r\n        const userToken =this.getUserTokenId();\r\n        if(userToken){\r\n            const options = {\r\n                headers: {\r\n                    authorization: userToken,\r\n                }\r\n            }\r\n            //send request 'api/me/channels' to server\r\n            this.service.get(`api/me/channels`, options).then((res) => {\r\n                const channels = res.data;\r\n                _.each(channels, (c) => {\r\n                    this.realtime.onAddChannel(c);\r\n                });\r\n\r\n                const firstChannelId = _.get(channels, '[0]._id', null);\r\n                this.fetchChannelMessages(firstChannelId);\r\n            }).catch((err) => {\r\n\r\n                console.log(\"An error fetch user channlels\", err);\r\n            })\r\n        }\r\n    }\r\n\r\n    //add user to cache temp store\r\n    addUserToCache(user){\r\n        if(!user.avatar){\r\n            user.avatar = this.loadUserAvatar(user);\r\n        }\r\n        const id = _.toString(user._id);\r\n        this.users = this.users.set(id, user);\r\n        return user;\r\n    }\r\n\r\n    //get user id token from temp store\r\n    getUserTokenId(){\r\n        return _.get(this.token, '_id', null);\r\n    }\r\n\r\n    //add default avatar for user not exist avatar\r\n    loadUserAvatar(user){\r\n\r\n            return `useravatars\\\\default_imgSvg_usernDs.svg`\r\n       \r\n    }\r\n\r\n    //search user name with same key word\r\n    startSearchUsers(q = \"\"){\r\n        this.search.users = this.search.users.clear();\r\n        //query to backend server and get list of users\r\n        const data = {search : q};\r\n        //get current user it own\r\n        const currentUser =this.getCurrentUser();\r\n        const currentUserId = _.get(currentUser, '_id');\r\n       \r\n        // if(_.trim(search).length){\r\n        //    searchItems = users.filter((user) =>_.get(user, '_id') !== currentUserId && _.includes(_.toLower(_.get(user, 'name')), keyword));\r\n        // }\r\n        \r\n        //send request to 'api/users/search' server\r\n        this.service.post('api/users/search', data).then((res) => {\r\n            //list off users match\r\n            const users = _.get(res, 'data', []);\r\n            // console.log(\"Get from server: \", users);\r\n            _.each(users, (user) => {\r\n               //cache to this.users\r\n               //add user to this.search.users\r\n                if(!user.avatar){\r\n                    user.avatar = this.loadUserAvatar(user);\r\n                }\r\n                const userId = `${user._id}`;\r\n                if(userId !== currentUserId){\r\n                    this.users = this.users.set(userId, user);\r\n                    this.search.users = this.search.users.set(userId, user);\r\n                }\r\n                 if(!_.trim(q).length){\r\n                    this.search.users = new OrderedMap();\r\n                }\r\n           });\r\n           this.update();\r\n\r\n        }).catch((err) => {\r\n            console.log(\"Searching Error\", err);\r\n        }); \r\n    }\r\n\r\n    //set User Token to local store\r\n    setUserToken(accessToken){\r\n        if(!accessToken){\r\n            this.localStorage.removeItem('token');\r\n            this.token = null;\r\n            return;\r\n        }\r\n        this.token = accessToken;\r\n        localStorage.setItem('token', JSON.stringify(accessToken));\r\n    }\r\n\r\n    //clear all data stored from cache\r\n    clearCacheData(){\r\n        this.channels = this.channels.clear();\r\n        this.users = this.users.clear();\r\n        this.messages = this.messages.clear();\r\n    }\r\n\r\n    //sign out account \r\n    signOut(){\r\n\r\n        const userId = _.toString(_.get(this.user, '_id', null));\r\n        //logout in cache\r\n        this.users = this.users.update(userId, (user) => {\r\n            if(user) {\r\n                user.online = false;\r\n            }\r\n            return user;\r\n        })\r\n        //request server and logout this user\r\n        const tokenId = _.get(this.token, '_id', null);\r\n        this.isConnected();\r\n        this.user = null;\r\n        localStorage.removeItem('me');\r\n        localStorage.removeItem('token');\r\n        sessionStorage.removeItem('allMark')\r\n        sessionStorage.removeItem('marksListOfMe')\r\n        sessionStorage.removeItem('allMarkOther')\r\n        if(userId){\r\n            this.users = this.users.remove(userId);\r\n        }\r\n\r\n        //after logout\r\n        this.clearCacheData()\r\n\r\n        const options = {\r\n            headers : {\r\n                authorization: tokenId\r\n            }\r\n        }\r\n        this.service.get('api/user/logout', options);\r\n   \r\n        this.update()\r\n\r\n    }\r\n\r\n\r\n    //get Token from local store\r\n    getTokenFromLocalStorage(){\r\n        // console.log(\"get token from local\")\r\n        if(this.token){\r\n            return this.token;\r\n        }\r\n\r\n        let token = null;\r\n        const data = localStorage.getItem('token');\r\n        if(data){\r\n            try{\r\n                token = JSON.parse(data);\r\n            }\r\n            catch (err){\r\n                console.log(err);\r\n            }\r\n            \r\n        }\r\n        return token;\r\n    }\r\n\r\n    //get user from locak store\r\n    getUserFromLocalStorage(){\r\n        // console.log(\"get user from local\")\r\n        let user = null;\r\n        const data = localStorage.getItem('me');\r\n         try {\r\n                user = JSON.parse(data);\r\n         }\r\n         catch(err) {\r\n             console.log(err);\r\n         }\r\n         if(user){\r\n            //connect to backend server verify this user\r\n            const token = this.getTokenFromLocalStorage();\r\n            const tokenId = _.get(token, '_id');\r\n            const options = {\r\n                headers: {\r\n                    authorization: tokenId,\r\n                }\r\n            }\r\n            //send request 'api/users/me' to server\r\n            this.service.get('api/users/me', options).then((res) => {\r\n                //user login with token id\r\n                const accessToken = res.data;\r\n                const user = _.get(accessToken, 'user');\r\n                console.log(\"here is user \", user)\r\n                this.setCurrentUser(user);\r\n                this.setUserToken(accessToken);\r\n\r\n            }).catch(err => {\r\n                this.signOut();\r\n            });\r\n        }\r\n\r\n         return user;\r\n    }    \r\n        \r\n    //set current user into local store\r\n    setCurrentUser(user){\r\n        if(!user.avatar){\r\n            user.avatar = this.loadUserAvatar(user);\r\n        }\r\n        this.user = user;\r\n        if(user){\r\n            \r\n            localStorage.setItem('me', JSON.stringify(user));\r\n            //save to local store\r\n            const userId =`${user._id}`;\r\n            this.users = this.users.set(userId, user);\r\n\r\n        }\r\n        this.update();\r\n    }\r\n\r\n    //register new account\r\n    register(user){\r\n        const saltRounds = 10;\r\n        //none real this is fake to try hacker\r\n        // console.log(user.password)\r\n        const password = bcrypt.hashSync(user.password.content, saltRounds);\r\n        console.log(\"Email Register is: \", user.email);\r\n        console.log(\"Password Register is: \", password);\r\n        return new Promise((resolve, reject) => {\r\n            this.service.post('api/users', user).then((res) =>{\r\n\r\n                // console.log(\"Account Created \", res.data);\r\n\r\n                // const post = {\r\n                //     email: user.email,\r\n                //     name: user.name,\r\n                // }\r\n                // axios\r\n                //     .post('/ndsapi/announce/welcome', post)\r\n                //     .then(function(response) {\r\n                //         console.log(\"Successful\");\r\n                //     }).catch(err => console.log(err))\r\n\r\n                return resolve(res.data);\r\n                \r\n            }).catch((err) => {\r\n                const message = _.get(err, 'response.data.error.message', 'An Error register, Try again!');\r\n                return reject(message);\r\n            });\r\n        })\r\n\r\n    }\r\n \r\n\r\n   \r\n\r\n    login(email = null, password = null, ipClient = null){\r\n        const userEmail = _.toLower(email);\r\n\r\n        const user = {\r\n            email: userEmail,\r\n            password: password,\r\n            ipClient: ipClient,\r\n        }\r\n\r\n        // console.log(\"Logining with: \", user);\r\n        return new Promise((resolve, reject) => {\r\n            \r\n            //send request 'api/users/login' to server\r\n            this.service.post('api/users/login', user).then((res) => {\r\n                // that mean successful login\r\n                const accessToken = _.get(res, 'data'); \r\n                const user = _.get(accessToken, 'user');\r\n                user.email = email;\r\n                // console.log(\"Logining with: \", user);\r\n                this.setCurrentUser(user);\r\n                this.setUserToken(accessToken);\r\n                this.realtime.connect();\r\n\r\n                // begin fetch user's channel\r\n                this.fetchUserChannels();\r\n                // this.fetchMessageVoice();\r\n                // this.fetchTypeVoices();\r\n                return resolve(email)\r\n                // Call to realtime and connect again to socket server with this user\r\n\r\n            }).catch((err) => {\r\n                // login error\r\n                const message = _.get(err, 'response.data.error.message', 'An error require, Try again!');\r\n                return reject(message);\r\n            })\r\n\r\n        });\r\n        // const _this = this;\r\n        // return new Promise((resolve, reject) => {\r\n        //     const user = users.find((user) => user.email === userEmail);\r\n        //     if( user ) {\r\n        //         _this.setCurrentUser(user);\r\n        //     }\r\n        //     return user ? resolve(user) : reject(\"User not found!\")\r\n        // });\r\n    }\r\n\r\n    //add user to channel prepare for a new channel\r\n    addUserToChannel(channelId, userId) {\r\n        const channel = this.channels.get(channelId);\r\n        if(channel) {\r\n            channel.members = channel.members.set(userId, true);\r\n            this.channels = this.channels.set(channelId, channel);\r\n            this.update();\r\n        }\r\n      \r\n    }\r\n\r\n    //get list search user \r\n    getSearchUsers(){\r\n        // const keyword = _.toLower(search);\r\n\r\n        // let searchItems = new OrderedMap();\r\n        // const currentUser =this.getCurrentUser();\r\n        // const currentUserId = _.get(currentUser, '_id');\r\n       \r\n        // if(_.trim(search).length){\r\n        //    searchItems = users.filter((user) =>_.get(user, '_id') !== currentUserId && _.includes(_.toLower(_.get(user, 'name')), keyword));\r\n        // }\r\n        // console.log(this.search.users.valueSeq())\r\n        return this.search.users.valueSeq();\r\n    }\r\n\r\n    //create new channel\r\n    onCreateNewChannel(channel = {}){\r\n        const channelId = _.get(channel, \"_id\");\r\n        this.addChannel(channelId, channel );\r\n        this.setActiveChannelId(channelId);\r\n    \r\n    }\r\n\r\n    //get current user\r\n    getCurrentUser(){\r\n        return this.user;\r\n    }\r\n\r\n    //fetch channel message of current user\r\n    fetchChannelMessages(channelId){\r\n\r\n        let channel = this.channels.get(channelId);\r\n            if( channel && !_.get(channel, 'isFetchMessages')){\r\n\r\n                const token = _.get(this.token, '_id');\r\n                const options = {\r\n                    headers: {\r\n                        authorization: token,\r\n                    }\r\n                }\r\n                //send request 'api/channels/${channelId}/messages' to server \r\n                this.service.get(`api/channels/${channelId}/messages`, options).then((res) => {\r\n                    channel.isFetchMessages = true;\r\n\r\n                    const messages = res.data;\r\n                \r\n                    _.each(messages, (message) => {\r\n                        this.realtime.onAddMessage(message);\r\n                    });\r\n                    this.channels = this.channels.set(channelId, channel);\r\n\r\n                }).catch((err) => {\r\n                    console.log(\"An error fetching channel 's messages\", err);\r\n\r\n                }\r\n            )}\r\n        }   \r\n    \r\n    \r\n    // connect to socket wss\r\n    isConnected(){\r\n        return this.realtime.isConnected;\r\n    }\r\n\r\n    //set channel is active\r\n    setActiveChannelId(id) {\r\n        this.activeChannelId = id;\r\n        this.fetchChannelMessages(id);\r\n        this.update();\r\n    }\r\n\r\n    //get active channel\r\n    getActiveChannel(){\r\n        const channel = this.activeChannelId ? this.channels.get(this.activeChannelId) : this.channels.first();\r\n        return channel;\r\n    }\r\n    \r\n    // call function from realtime to fetch message from cache or db\r\n    setMessage(message, notify = false){\r\n        const id = _.toString(_.get(message, '_id'));\r\n        this.messages = this.messages.set(id, message);\r\n        const channelId = _.toString(message.channelId);\r\n        const channel = this.channels.get(channelId);\r\n\r\n        if (channel) {\r\n            channel.messages = channel.messages.set(id, true);\r\n            channel.lastMessage = _.get(message, 'body', '');\r\n            channel.notify = notify;\r\n\r\n            this.channels = this.channels.set(channelId, channel);\r\n        } else {\r\n\r\n            // fetch to the server with channel info\r\n            this.service.get(`api/channels/${channelId}`).then((response) => {\r\n\r\n\r\n                const channel = _.get(response, 'data');\r\n\r\n                /*const users = _.get(channel, 'users');\r\n                _.each(users, (user) => {\r\n\r\n                    this.addUserToCache(user);\r\n                });*/\r\n\r\n                this.realtime.onAddChannel(channel);\r\n\r\n\r\n            })\r\n        }\r\n        this.update();\r\n    }\r\n\r\n    //send edit user to realtime\r\n    editInfoUser(field, value){\r\n        if(value){\r\n\r\n        const obj = {\r\n            payload: value,\r\n            field: field,\r\n        }\r\n            this.realtime.send(\r\n                {\r\n                    action: 'edit_user',\r\n                    payload: {obj},\r\n                }\r\n            );\r\n        }\r\n    this.update();\r\n    }\r\n\r\n    //send status type of user to channel\r\n    addTyping(channel, typing = false){\r\n        \r\n        if(channel){\r\n            const userId = `${_.get(this.user, '_id', null)}`;\r\n            const channelId = _.get(channel, '_id');\r\n            const obj = {\r\n                channelId: channelId,\r\n                payload: typing,\r\n                typier: userId,\r\n            }\r\n            // console.log(\"channel typing: \", channelId);\r\n            this.realtime.send(\r\n                {\r\n                    action: 'typing_status',\r\n                    payload: {obj},\r\n                }\r\n            );\r\n        }\r\n        this.update();\r\n    }\r\n\r\n\r\n    //add new message to active channel \r\n    addMessage(id, message = {}){\r\n\r\n        const user = this.getCurrentUser();\r\n        message.user = user;\r\n        this.messages = this.messages.set(id, message);\r\n        //add new message to \r\n        const channelId = _.get(message, 'channelId');\r\n        if(channelId){\r\n\r\n            \r\n            let channel = this.channels.get(channelId);\r\n\r\n            channel.lastMessage = _.get(message, 'body', '');\r\n            //now i send this channel to the server\r\n            \r\n           this.realtime.send(\r\n               {\r\n                    action: 'create_channel',\r\n                    payload: channel,\r\n                }\r\n            );\r\n            // send to the via websocket to create new message and notify other\r\n            this.realtime.send(\r\n                {\r\n                    action: 'create_message',\r\n                    payload: message,\r\n                }\r\n            );\r\n\r\n            channel.messages = channel.messages.set(id, true);\r\n\r\n\r\n            channel.isNew = false;\r\n            this.channels = this.channels.set(channelId, channel);\r\n        }\r\n        this.update();\r\n    }\r\n\r\n    \r\n    //remove user in a channel\r\n    removeMemberFromChannel( channel = null, user = null){\r\n        if(!channel || !user ){\r\n            console.log(\"Not fine any channel\")\r\n            return;\r\n        }\r\n        console.log(channel,user)\r\n        const channelId = _.get(channel, '_id')\r\n        const userId = _.get(user, '_id');\r\n\r\n        // console.log(channel)\r\n        this.realtime.send(\r\n            {\r\n            action: \"remove_memberChannel\",\r\n            payload: {\r\n                channel: channel,\r\n                userId: userId\r\n                }\r\n            }\r\n        )\r\n\r\n        const data = {\r\n            _id: userId,\r\n            channelId: channelId\r\n        }\r\n\r\n        //remove user when search user to add into new channel\r\n        // const titleChannel =  _.get(channel, 'title')\r\n        const userToken = this.getUserTokenId();\r\n      \r\n    \r\n        // channel.members = channel.members.remove(userId);\r\n        // this.channels = this.channels.set(channelId, channel);\r\n       \r\n        if(userToken) {\r\n\r\n            const options = {\r\n                headers: {\r\n                    authorization: userToken,\r\n                }\r\n            }\r\n\r\n             //send request to 'api/channels/remove/user' server\r\n             this.service.post('api/channels/remove/user', data, options).then((res) => {\r\n\r\n                // console.log(res.data)\r\n                channel.members = channel.members.remove(userId);\r\n                \r\n\r\n                const userCurrent = this.getCurrentUser();\r\n                const userIdCurrent = _.get(userCurrent, '_id');\r\n\r\n                \r\n                if(userId === userIdCurrent) {\r\n                    \r\n                    channel.members = null;\r\n                    channel.messages = null;\r\n                    channel.lastMessage = 'NaN';\r\n                    this.channels = this.channels.set(channelId, channel);\r\n                }\r\n                else { \r\n                    this.channels = this.channels.set(channelId, channel);\r\n                }\r\n\r\n\r\n                this.update();\r\n            })\r\n\r\n\r\n        }\r\n        \r\n    }\r\n\r\n    removeMemberChannelFormRealtime(channel = null, user = null){\r\n        if(!channel || !user ){\r\n            console.log(\"Not fine any channel\")\r\n            return;\r\n        }\r\n\r\n        const channelId = _.get(channel, '_id')\r\n        // const userId = _.get(user, '_id');\r\n        \r\n\r\n        const userCurrent = this.getCurrentUser();\r\n        const userIdCurrent = _.get(userCurrent, '_id');\r\n\r\n        if(user === userIdCurrent) {\r\n            // channel.members = channel.members.remove(user);\r\n            channel.members = null;\r\n            channel.messages = null;\r\n            channel.lastMessage = 'NaN';\r\n            this.channels = this.channels.set(channelId, channel);\r\n        }\r\n        // else { \r\n        //     this.channels = this.channels.set(channelId, channel);\r\n        // }\r\n\r\n        this.fetchUserChannels();\r\n\r\n        this.update();\r\n\r\n    }\r\n    //get Message from cache\r\n    // getMessages(){\r\n    //     return this.messages.valueSeq();\r\n    // }\r\n    \r\n    //get and render messages from channel stored in cache\r\n    getMessagesFromChannel(channel){\r\n        let messages = new OrderedMap();\r\n\r\n        if(channel && channel.members){\r\n            channel.messages.forEach((value, key) => {\r\n\r\n                const message = this.messages.get(key);\r\n                messages = messages.set( key, message);\r\n    \r\n            });\r\n        }\r\n\r\n        return messages.valueSeq();\r\n        \r\n    }\r\n\r\n\r\n    //get member list from channel\r\n    getMembersFromChannel(channel){\r\n        let members = new OrderedMap();\r\n        if(channel && channel.members){\r\n            channel.members.forEach((value, key) => {\r\n\r\n                const userId = `${key}`\r\n                const user = this.users.get(userId);\r\n                // console.log(\"User from Channel: \", user);\r\n                const loggedUser = this.getCurrentUser();\r\n                if( _.get(loggedUser, '_id') !== _.get(user, '_id')){\r\n                    members = members.set(key, user);\r\n                   \r\n                }\r\n            });\r\n               \r\n        }\r\n        return members.valueSeq();\r\n    }\r\n\r\n    // add channels\r\n    addChannel(index, channel = {}){\r\n        this.channels = this.channels.set(`${index}`, channel);\r\n        // console.log(channel);\r\n        // console.log(\"Mess get from server to client: \", channel);\r\n        this.update();\r\n    }\r\n\r\n    //get channel list\r\n    getChannels(){\r\n        this.channels = this.channels.sort((a, b) => a.updated - b.updated);\r\n        return this.channels.valueSeq();\r\n    }\r\n\r\n\r\n    //force update store component\r\n    update(){\r\n        this.app.forceUpdate();\r\n    }\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport { MdVideocam, MdVideocamOff, MdMicOff, MdMic } from 'react-icons/md';\r\nclass Video extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      mic: true,\r\n      camera: true,\r\n      // currentStream: new MediaStream(),\r\n      // videoTrack: false,\r\n      videoVisible: true,\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.videoStream) {\r\n      this.video.srcObject = this.props.videoStream\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n\r\n    // console.log('1. nextProps', this.props.showMuteControls, nextProps.videoStream && nextProps.videoStream.getTracks())\r\n    console.log('1', this.props.videoType, nextProps.videoStream)\r\n\r\n    // This is done only once\r\n    if (nextProps.videoStream && nextProps.videoStream !== this.props.videoStream) {\r\n    // if (!this.props.videoStream) {\r\n      console.log('2', this.props.videoType, nextProps.videoStream)\r\n      this.video.srcObject = nextProps.videoStream\r\n    }\r\n\r\n    // This is done only once when we receive a video track\r\n    const videoTrack = nextProps.videoStream && nextProps.videoStream.getVideoTracks()\r\n    if (this.props.videoType === 'remoteVideo' && videoTrack && videoTrack.length) {\r\n\r\n      videoTrack[0].onmute = () => {\r\n        // alert('muted')\r\n        this.setState({\r\n          videoVisible: false,\r\n        })\r\n        this.props.videoMuted(nextProps.videoStream)\r\n      }\r\n\r\n      videoTrack[0].onunmute = () => {\r\n        this.setState({\r\n          videoVisible: true,\r\n        })\r\n        this.props.videoMuted(nextProps.videoStream)\r\n      }\r\n    }\r\n\r\n\r\n    const audioTrack = nextProps.videoStream && nextProps.videoStream.getAudioTracks()\r\n    if (this.props.videoType === 'remoteVideo' && audioTrack && audioTrack.length) {\r\n      audioTrack[0].onmute = () => {\r\n        alert('muted')\r\n        // this.setState({\r\n        //   videoVisible: false,\r\n        // })\r\n        // this.props.videoMuted(nextProps.videoStream)\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  mutemic = (e) => {\r\n    try{\r\n      const stream = this.video.srcObject.getTracks().filter(track => track.kind === 'audio')\r\n      this.setState(prevState => {\r\n        if (stream) stream[0].enabled = !prevState.mic\r\n        return {mic: !prevState.mic}\r\n      })\r\n    }\r\n    catch (err) {\r\n      console.error(err);\r\n    }\r\n  }\r\n\r\n  mutecamera = (e) => {\r\n    try{\r\n      const stream = this.video.srcObject.getTracks().filter(track => track.kind === 'video')\r\n      this.setState(prevState => {\r\n        if (stream) stream[0].enabled = !prevState.camera\r\n        return {camera: !prevState.camera}\r\n      })\r\n    }\r\n    catch(error){\r\n      console.error(error);\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const muteControls = this.props.showMuteControls && (\r\n      <div style={{display:'flex', justifyContent: 'flex-end'}}>\r\n        <i onClick={this.mutemic} style={{ cursor: 'pointer', padding: 5, fontSize: 20, color: this.state.mic ? 'white' : 'red' }}>{this.state.mic ? <MdMic /> : <MdMicOff />}</i>\r\n        <i onClick={this.mutecamera} style={{ cursor: 'pointer', padding: 5, fontSize: 20, color: this.state.camera ? 'white' : 'red' }}>{this.state.camera ? <MdVideocam /> : <MdVideocamOff />}</i>\r\n      </div>\r\n    )\r\n\r\n    return (\r\n      <div\r\n        style={{ ...this.props.frameStyle,  }}\r\n      >\r\n        {/* <audio id={this.props.id} muted={this.props.muted} ref={ (ref) => {this.video = ref }}></audio> */}\r\n        <video\r\n          id={this.props.id}\r\n          muted={this.props.muted}\r\n          autoPlay\r\n          style={{\r\n            visibility: this.state.videoVisible ? 'visible' : 'hidden',\r\n            ...this.props.videoStyles,\r\n          }}\r\n          // ref={ this.props.videoRef }\r\n          ref={ (ref) => {this.video = ref }}\r\n        ></video>\r\n        {muteControls}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Video","import React, {Component} from 'react'\r\nimport Video from './Video'\r\n\r\nclass Videos extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      rVideos: [],\r\n      remoteStreams: [],\r\n      selectedVideo: null,\r\n      videoVisible: false,\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (this.props.remoteStreams !== nextProps.remoteStreams) {\r\n\r\n      const NoOfRemoteStreams = nextProps.remoteStreams.length\r\n\r\n      let selectedVideo = {}\r\n\r\n      if (NoOfRemoteStreams === 1)\r\n        selectedVideo = { selectedVideo: nextProps.remoteStreams[0] }\r\n      else {\r\n        selectedVideo = (this.state.selectedVideo && nextProps.remoteStreams.filter(stream => stream.id === this.state.selectedVideo.id)) || []\r\n\r\n        selectedVideo = selectedVideo.length ? {} : { selectedVideo: nextProps.remoteStreams[NoOfRemoteStreams-1] }\r\n      }\r\n\r\n      let _rVideos = nextProps.remoteStreams.map((rVideo, index) => {\r\n\r\n        const _videoTrack = rVideo.stream.getTracks().filter(track => track.kind === 'video')\r\n        // if (_videoTrack.length)\r\n        //   _videoTrack[0].onmute = () => {\r\n        //     alert('muted')\r\n        //   }\r\n\r\n        let video = _videoTrack ? (\r\n          <Video\r\n            videoMuted={this.videoMuted}\r\n            videoType='remoteVideo'\r\n            videoStream={rVideo.stream}\r\n            frameStyle={{\r\n              backgroundColor: '#ffffff12',\r\n              maxWidth: 120, maxHeight: 120,\r\n              borderRadius: 5,\r\n              float: 'left', margin: '0 10px'\r\n            }}\r\n            videoStyles={{\r\n              objectFit: 'cover',\r\n              borderRadius: 5,\r\n              width: 120, height: 120,\r\n              maxWidth: 120, maxHeight: 120,\r\n            }}\r\n          ></Video>\r\n        ) : <div></div>\r\n\r\n        return (\r\n          <div\r\n            id={rVideo.id}\r\n            onClick={() => this.switchVideo(rVideo)}\r\n            style={{ \r\n              cursor: 'pointer', display: 'inline-block'\r\n            }}\r\n            key={index}\r\n          >\r\n            {video}\r\n            {/* {rVideo.name} */}\r\n           \r\n          </div>\r\n\r\n        )\r\n      })\r\n      this.setState({\r\n        remoteStreams: nextProps.remoteStreams,\r\n        rVideos: _rVideos,\r\n        ...selectedVideo,\r\n      })\r\n    \r\n    }\r\n  }\r\n\r\n  videoMuted = (rVideo) => {\r\n    const muteTrack = rVideo.getVideoTracks()[0]\r\n    const isSelectedVideo = rVideo.id === this.state.selectedVideo.stream.id\r\n    if (isSelectedVideo) {\r\n      this.setState({\r\n        videoVisible: !muteTrack.muted\r\n      })\r\n    }\r\n  }\r\n\r\n  switchVideo = (_video) => {\r\n    const muteTrack = _video.stream.getVideoTracks()[0]\r\n    this.setState({\r\n      selectedVideo: _video,\r\n      videoVisible: !muteTrack.muted\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Video\r\n          videoType='previewVideo'\r\n          frameStyle={{\r\n            zIndex: 1,\r\n            position: 'fixed',\r\n            bottom: 0,\r\n            top: 0,\r\n            minWidth: '100%', minHeight: '100%',\r\n            backgroundColor: 'black',\r\n            padding: '.2rem',\r\n          }}\r\n          videoStyles={{\r\n            minWidth: '100%', minHeight: '100%',\r\n            visibility: (this.state.videoVisible && 'visible') || 'hidden',\r\n          }}\r\n          videoStream={this.state.selectedVideo && this.state.selectedVideo.stream}\r\n        />\r\n        <div className=\"stream-list\"\r\n          style={{\r\n            zIndex: 3,\r\n            position: 'fixed',\r\n            padding: '6px 3px',\r\n            backgroundColor: 'rgba(0,0,0,0.3)',\r\n            maxHeight: 120,\r\n            top: 'auto',\r\n            right: 10,\r\n            left: 10,\r\n            bottom: 10,\r\n            overflowX: 'scroll',\r\n            overflowY: 'hidden',\r\n            whiteSpace: 'nowrap'\r\n          }}\r\n        >\r\n          { this.state.rVideos }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default Videos","import React, { useState, useEffect } from 'react'\r\nimport DragDrop from './DragDrop'\r\n\r\nconst Chat = props => {\r\n  const [message, setMessage] = useState('')\r\n  const [user, setUser] = useState({ uid: 0, })\r\n  const [imageZoom, setImageZoom] = useState(false)\r\n  const [selectedImage, setSelectedImage] = useState('')\r\n\r\n  const scrollToBottom = () => {\r\n    const chat = document.getElementById(\"chatList\");\r\n    chat.scrollTop = chat.scrollHeight\r\n  }\r\n\r\n  useEffect(() => {\r\n    scrollToBottom()\r\n    setUser({ \r\n      uid: props.user.uid,\r\n      name: props.user.name,\r\n     })\r\n  }, [props])\r\n\r\n  const sendMessage = (msg) => {\r\n    props.sendMessage(msg);\r\n    scrollToBottom()\r\n  }\r\n\r\n  const handleSubmit = event => {\r\n    if (message === '') return\r\n    event.preventDefault();\r\n    sendMessage({type:'text', message: { id: user.uid, sender: {uid: user.uid, name: user.name, }, data: { text: message } }})\r\n    setMessage('')\r\n  };\r\n\r\n  const handleChange = event => {\r\n    setMessage(event.target.value)\r\n  }\r\n\r\n  const renderMessage = (userType, data) => {\r\n    console.log('===========', data)\r\n    const message = data.message\r\n\r\n    const msgDiv = data.type === 'text' ? (\r\n      <div className=\"msg\">\r\n        <p>{message.sender.name}</p>\r\n        <div className=\"message\"> {message.data.text}</div>\r\n      </div>\r\n    ) : (\r\n      <div className=\"msg\">\r\n        <p>{message.sender.name}</p>\r\n        <img\r\n          onClick={() => {\r\n            setImageZoom(true)\r\n            setSelectedImage(message.data)\r\n          }}\r\n          className=\"message\"\r\n          style={{\r\n            width: 200,\r\n            // height: 100\r\n            cursor: 'pointer',\r\n          }}\r\n          src={message.data} alt=\"img\" />\r\n      </div>\r\n    )\r\n\r\n    return (<li className={userType} >{ msgDiv }</li>)\r\n\r\n  }\r\n\r\n  const showEnlargedImage = (data) => {\r\n    return (<img\r\n      src={data}\r\n      alt=\"img\"\r\n      style={{\r\n        backgroundColor: 'black',\r\n        position: 'relative',\r\n        zIndex: 100,\r\n        display: 'block',\r\n        cursor: 'pointer',\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n        padding: 20,\r\n        borderRadius: 20,\r\n      }}\r\n      onClick={() => setImageZoom(false)}\r\n    />)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {imageZoom && showEnlargedImage(selectedImage)}\r\n\r\n      <div className=\"chatWindow\" style={{\r\n        zIndex: 10,\r\n        position: 'absolute',\r\n        right: 5,\r\n        top: 190,\r\n        bottom: 140,\r\n        width: 350,\r\n        // height: 650,\r\n    }}>\r\n        <ul className=\"chat\" id=\"chatList\">\r\n          {props.messages.map(data => (\r\n            <div key={data.id}>\r\n              {user.uid === data.message.sender.uid ? renderMessage('self', data) : (renderMessage('other', data))}\r\n            </div>\r\n          ))}\r\n        </ul>\r\n        <DragDrop\r\n          className=\"chatInputWrapper\"\r\n          sendFiles={(files) => {\r\n            const reader = new FileReader()\r\n            reader.onload = (e) => {\r\n              //https://blog.mozilla.org/webrtc/large-data-channel-messages/\r\n              //https://lgrahl.de/articles/demystifying-webrtc-dc-size-limit.html\r\n              const maximumMessageSize = 262118 //65535 <=== 64KiB // 16384 <=== 16KiB to be safe\r\n              if (e.target.result.length <= maximumMessageSize)\r\n                sendMessage({ type: 'image', message: { id: user.uid, sender: { uid: user.uid, name: user.name, }, data: e.target.result } })\r\n              else\r\n                alert('Message exceeds Maximum Message Size!')\r\n            }\r\n\r\n            reader.readAsDataURL(files[0])\r\n          }}\r\n        >\r\n          <div>\r\n            <form onSubmit={handleSubmit}>\r\n              <input\r\n                className=\"textarea input\"\r\n                type=\"text\"\r\n                backgroundColor=\"rgba(0,0,0,0.3)\"\r\n                color=\"rgba(199, 159, 199, 0.9)\"\r\n                placeholder=\"Type your message..\"\r\n                onChange={handleChange}\r\n                value={message}\r\n              />\r\n            </form>\r\n          </div>\r\n        </DragDrop>\r\n      </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Chat","import React, { Component } from 'react'\r\n\r\nimport io from 'socket.io-client';\r\nimport Video from './Video';\r\nimport Videos from './Videos';\r\nimport Draggable from './Draggable';\r\nimport Chat from './Chat'; \r\nimport { CgCloseO } from 'react-icons/cg';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport _ from 'lodash';\r\n \r\n\r\nexport class MainVideo extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n  \r\n      this.state = {\r\n        localStream: null,    // used to hold local stream object to avoid recreating the stream everytime a new offer comes\r\n        remoteStream: null,    // used to hold remote stream object that is displayed in the main screen\r\n       \r\n        remoteStreams: [],    // holds all Video Streams (all remote streams)\r\n        peerConnections: {},  // holds all Peer Connections\r\n        selectedVideo: null,\r\n  \r\n        status: 'Please wait...',\r\n  \r\n        pc_config: {\r\n          \"iceServers\": [\r\n            {\r\n              urls : 'stun:stun.l.google.com:19302'\r\n            }\r\n          ]\r\n        },\r\n  \r\n        sdpConstraints: {\r\n          'mandatory': {\r\n              'OfferToReceiveAudio': true,\r\n              'OfferToReceiveVideo': true\r\n          }\r\n        },\r\n  \r\n        messages: [],\r\n        sendChannels: [],\r\n        disconnected: false,\r\n      }\r\n  \r\n      // DONT FORGET TO CHANGE TO YOUR URL\r\n      this.serviceIP = 'https://ndsbirthdayserver.herokuapp.com/webrtcPeer'\r\n  \r\n      // https://reactjs.org/docs/refs-and-the-dom.html\r\n      // this.localVideoref = React.createRef()\r\n      // this.remoteVideoref = React.createRef()\r\n  \r\n      this.socket = null\r\n      // this.candidates = []\r\n    }\r\n  \r\n    getLocalStream = () => {\r\n      // called when getUserMedia() successfully returns - see below\r\n      // getUserMedia() returns a MediaStream object (https://developer.mozilla.org/en-US/docs/Web/API/MediaStream)\r\n      const success = (stream) => {\r\n        window.localStream = stream\r\n        // this.localVideoref.current.srcObject = stream\r\n        // this.pc.addStream(stream);\r\n        this.setState({\r\n          localStream: stream\r\n        })\r\n  \r\n        this.whoisOnline()\r\n      }\r\n  \r\n      // called when getUserMedia() fails - see below\r\n      const failure = (e) => {\r\n        console.log('getUserMedia Error: ', e)\r\n      }\r\n  \r\n      // https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia\r\n      // see the above link for more constraint options\r\n      const constraints = {\r\n        audio: true,\r\n        video: true,\r\n    \r\n        options: {\r\n          mirror: true,\r\n        }\r\n      }\r\n  \r\n      // https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia\r\n      navigator.mediaDevices.getUserMedia(constraints)\r\n        .then(success)\r\n        .catch(failure)\r\n    }\r\n  \r\n    whoisOnline = () => {\r\n      // let all peers know I am joining\r\n      this.sendToPeer('onlinePeers', null, {local: this.socket.id})\r\n    }\r\n  \r\n    sendToPeer = (messageType, payload, socketID) => {\r\n      this.socket.emit(messageType, {\r\n        socketID,\r\n        payload\r\n      })\r\n    }\r\n  \r\n    createPeerConnection = (socketID, callback) => {\r\n  \r\n      try {\r\n        let pc = new RTCPeerConnection(this.state.pc_config)\r\n  \r\n        // add pc to peerConnections object\r\n        const peerConnections = { ...this.state.peerConnections, [socketID]: pc }\r\n        this.setState({\r\n          peerConnections\r\n        })\r\n  \r\n        pc.onicecandidate = (e) => {\r\n          if (e.candidate) {\r\n            this.sendToPeer('candidate', e.candidate, {\r\n              local: this.socket.id,\r\n              remote: socketID\r\n            })\r\n          }\r\n        }\r\n  \r\n        pc.oniceconnectionstatechange = (e) => {\r\n          // if (pc.iceConnectionState === 'disconnected') {\r\n          //   const remoteStreams = this.state.remoteStreams.filter(stream => stream.id !== socketID)\r\n  \r\n          //   this.setState({\r\n          //     remoteStream: remoteStreams.length > 0 && remoteStreams[0].stream || null,\r\n          //   })\r\n          // }\r\n  \r\n        }\r\n  \r\n        pc.ontrack = (e) => {\r\n          let _remoteStream = null\r\n          let remoteStreams = this.state.remoteStreams\r\n          let remoteVideo = {}\r\n  \r\n  \r\n          // 1. check if stream already exists in remoteStreams\r\n          const rVideos = this.state.remoteStreams.filter(stream => stream.id === socketID)\r\n  \r\n          // 2. if it does exist then add track\r\n          if (rVideos.length) {\r\n            _remoteStream = rVideos[0].stream\r\n            _remoteStream.addTrack(e.track, _remoteStream)\r\n  \r\n            remoteVideo = {\r\n              ...rVideos[0],\r\n              stream: _remoteStream,\r\n            }\r\n            remoteStreams = this.state.remoteStreams.map(_remoteVideo => {\r\n              return (_remoteVideo.id === remoteVideo.id && remoteVideo) || _remoteVideo\r\n            })\r\n          } else {\r\n            // 3. if not, then create new stream and add track\r\n            _remoteStream = new MediaStream()\r\n            _remoteStream.addTrack(e.track, _remoteStream)\r\n  \r\n            remoteVideo = {\r\n              id: socketID,\r\n              // name: socketID.user,\r\n              stream: _remoteStream,\r\n            }\r\n            remoteStreams = [...this.state.remoteStreams, remoteVideo]\r\n          }\r\n  \r\n          // const remoteVideo = {\r\n          //   id: socketID,\r\n          //   name: socketID,\r\n          //   stream: e.streams[0]\r\n          // }\r\n  \r\n          this.setState(prevState => {\r\n  \r\n            // If we already have a stream in display let it stay the same, otherwise use the latest stream\r\n            // const remoteStream = prevState.remoteStreams.length > 0 ? {} : { remoteStream: e.streams[0] }\r\n            const remoteStream = prevState.remoteStreams.length > 0 ? {} : { remoteStream: _remoteStream }\r\n  \r\n            // get currently selected video\r\n            let selectedVideo = prevState.remoteStreams.filter(stream => stream.id === prevState.selectedVideo.id)\r\n            // if the video is still in the list, then do nothing, otherwise set to new video stream\r\n            selectedVideo = selectedVideo.length ? {} : { selectedVideo: remoteVideo }\r\n  \r\n            return {\r\n              // selectedVideo: remoteVideo,\r\n              ...selectedVideo,\r\n              // remoteStream: e.streams[0],\r\n              ...remoteStream,\r\n              remoteStreams, //: [...prevState.remoteStreams, remoteVideo]\r\n            }\r\n          })\r\n        }\r\n  \r\n        pc.close = () => {\r\n          // alert('GONE')\r\n          console.log(\"pc closed\");\r\n        }\r\n  \r\n        if (this.state.localStream)\r\n          // pc.addStream(this.state.localStream)\r\n  \r\n          this.state.localStream.getTracks().forEach(track => {\r\n            pc.addTrack(track, this.state.localStream)\r\n          })\r\n  \r\n        // return pc\r\n        callback(pc)\r\n  \r\n      } catch(e) {\r\n        console.log('Something went wrong! pc not created!!', e)\r\n        // return;\r\n        callback(null)\r\n      }\r\n    }\r\n  \r\n    componentDidMount = () => {\r\n      \r\n  \r\n      this.socket = io.connect(\r\n        this.serviceIP,\r\n        {\r\n          path: '/io/webrtc',\r\n          query: {\r\n            room: window.location.pathname.substr(18),\r\n            user: window.location.search,\r\n          }\r\n        }\r\n      )\r\n  \r\n      this.socket.on('connection-success', data => {\r\n  \r\n        this.getLocalStream()\r\n  \r\n        // console.log(data.success)\r\n        const status = data.peerCount > 1 ? <span>ID: {window.location.pathname.substr(18)} Connected: {data.peerCount}</span> : 'Waiting for other peers to connect'\r\n  \r\n        this.setState({\r\n          status: status,\r\n          messages: data.messages\r\n        })\r\n      })\r\n  \r\n      this.socket.on('joined-peers', data => {\r\n  \r\n        this.setState({\r\n          status: data.peerCount > 1 ? <span>Connected: {data.peerCount}</span> : 'Waiting for other peers to connect'\r\n        })\r\n      })\r\n      //************ ************//\r\n      this.socket.on('peer-disconnected', data => {\r\n        try {\r\n            // close peer-connection with this peer\r\n        this.state.peerConnections[data.socketID].close()\r\n  \r\n        // get and stop remote audio and video tracks of the disconnected peer\r\n        const rVideo = this.state.remoteStreams.filter(stream => stream.id === data.socketID)\r\n        rVideo && this.stopTracks(rVideo[0].stream)\r\n        }\r\n        catch (err) {\r\n          console.error(err)\r\n        }\r\n        // filter out the disconnected peer stream\r\n        const remoteStreams = this.state.remoteStreams.filter(stream => stream.id !== data.socketID)\r\n  \r\n        this.setState(prevState => {\r\n          // check if disconnected peer is the selected video and if there still connected peers, then select the first\r\n          const selectedVideo = prevState.selectedVideo.id === data.socketID && remoteStreams.length ? { selectedVideo: remoteStreams[0] } : null\r\n  \r\n          return {\r\n            // remoteStream: remoteStreams.length > 0 && remoteStreams[0].stream || null,\r\n            remoteStreams,\r\n            ...selectedVideo,\r\n            status: data.peerCount > 1 ? `Number of matches to ${window.location.pathname}: ${data.peerCount}` : 'Waiting for your friends to connect'\r\n          }\r\n          }\r\n        )\r\n      })\r\n  \r\n      // this.socket.on('offerOrAnswer', (sdp) => {\r\n  \r\n      //   this.textref.value = JSON.stringify(sdp)\r\n  \r\n      //   // set sdp as remote description\r\n      //   this.pc.setRemoteDescription(new RTCSessionDescription(sdp))\r\n      // })\r\n  \r\n      this.socket.on('online-peer', socketID => {\r\n        // const {store} = this.props;\r\n        // const me = store.getCurrentUser();\r\n        // const email = _.toString(_.get(me, 'email'));\r\n        // const name   = email.substring(0, email.lastIndexOf(\"@\"));\r\n        // console.log('connected peers ...', socketID)\r\n  \r\n        // create and send offer to the peer (data.socketID)\r\n        // 1. Create new pc\r\n        this.createPeerConnection(socketID, pc => {\r\n          // 2. Create Offer\r\n          if (pc) {\r\n        \r\n            // Send Channel\r\n            const handleSendChannelStatusChange = (event) => {\r\n              console.log('send channel status: ' + this.state.sendChannels[0].readyState)\r\n            }\r\n  \r\n            const sendChannel = pc.createDataChannel('sendChannel')\r\n            sendChannel.onopen = handleSendChannelStatusChange\r\n            sendChannel.onclose = handleSendChannelStatusChange\r\n          \r\n            this.setState(prevState => {\r\n              return {\r\n                sendChannels: [...prevState.sendChannels, sendChannel]\r\n              }\r\n            })\r\n  \r\n  \r\n            // Receive Channels\r\n            const handleReceiveMessage = (event) => {\r\n              const message = JSON.parse(event.data)\r\n              // console.log(message)\r\n              this.setState(prevState => {\r\n                return {\r\n                  messages: [...prevState.messages, message]\r\n                }\r\n              })\r\n            }\r\n  \r\n            const handleReceiveChannelStatusChange = (event) => {\r\n              if (this.receiveChannel) {\r\n                console.log(\"receive channel's status has changed to \" + this.receiveChannel.readyState);\r\n              }\r\n            }\r\n  \r\n            const receiveChannelCallback = (event) => {\r\n              const receiveChannel = event.channel\r\n              receiveChannel.onmessage = handleReceiveMessage\r\n              receiveChannel.onopen = handleReceiveChannelStatusChange\r\n              receiveChannel.onclose = handleReceiveChannelStatusChange\r\n            }\r\n  \r\n            pc.ondatachannel = receiveChannelCallback\r\n  \r\n  \r\n            pc.createOffer(this.state.sdpConstraints)\r\n              .then(sdp => {\r\n                pc.setLocalDescription(sdp)\r\n                // console.log(meObj);\r\n                this.sendToPeer('offer', sdp, {\r\n                  local:  this.socket.id,\r\n                  remote: socketID,\r\n                })\r\n              })\r\n          }\r\n        })\r\n      })\r\n  \r\n      this.socket.on('offer', data => {\r\n        this.createPeerConnection(data.socketID, pc => {\r\n          pc.addStream(this.state.localStream)\r\n  \r\n          // Send Channel\r\n          const handleSendChannelStatusChange = (event) => {\r\n            console.log('send channel status: ' + this.state.sendChannels[0].readyState)\r\n          }\r\n  \r\n          const sendChannel = pc.createDataChannel('sendChannel')\r\n          sendChannel.onopen = handleSendChannelStatusChange\r\n          sendChannel.onclose = handleSendChannelStatusChange\r\n          \r\n          this.setState(prevState => {\r\n            return {\r\n              sendChannels: [...prevState.sendChannels, sendChannel]\r\n            }\r\n          })\r\n  \r\n          // Receive Channels\r\n          const handleReceiveMessage = (event) => {\r\n            const message = JSON.parse(event.data)\r\n            // console.log(message)\r\n            this.setState(prevState => {\r\n              return {\r\n                messages: [...prevState.messages, message]\r\n              }\r\n            })\r\n          }\r\n  \r\n          const handleReceiveChannelStatusChange = (event) => {\r\n            if (this.receiveChannel) {\r\n              console.log(\"receive channel's status has changed to \" + this.receiveChannel.readyState);\r\n            }\r\n          }\r\n  \r\n          const receiveChannelCallback = (event) => {\r\n            const receiveChannel = event.channel\r\n            receiveChannel.onmessage = handleReceiveMessage\r\n            receiveChannel.onopen = handleReceiveChannelStatusChange\r\n            receiveChannel.onclose = handleReceiveChannelStatusChange\r\n          }\r\n  \r\n          pc.ondatachannel = receiveChannelCallback\r\n  \r\n          pc.setRemoteDescription(new RTCSessionDescription(data.sdp)).then(() => {\r\n            // 2. Create Answer\r\n            pc.createAnswer(this.state.sdpConstraints)\r\n              .then(sdp => {\r\n                pc.setLocalDescription(sdp)\r\n  \r\n                this.sendToPeer('answer', sdp, {\r\n                  local: this.socket.id,\r\n                  remote: data.socketID,\r\n                })\r\n              })\r\n          })\r\n        })\r\n      })\r\n  \r\n      this.socket.on('answer', data => {\r\n        // get remote's peerConnection\r\n        const pc = this.state.peerConnections[data.socketID]\r\n        // console.log(data.sdp)\r\n        pc.setRemoteDescription(new RTCSessionDescription(data.sdp)).then(()=>{})\r\n      })\r\n  \r\n      this.socket.on('candidate', (data) => {\r\n        // get remote's peerConnection\r\n        const pc = this.state.peerConnections[data.socketID]\r\n  \r\n        if (pc)\r\n          pc.addIceCandidate(new RTCIceCandidate(data.candidate))\r\n      })\r\n  \r\n      // const pc_config = null\r\n  \r\n      // const pc_config = {\r\n      //   \"iceServers\": [\r\n      //     // {\r\n      //     //   urls: 'stun:[STUN_IP]:[PORT]',\r\n      //     //   'credentials': '[YOR CREDENTIALS]',\r\n      //     //   'username': '[USERNAME]'\r\n      //     // },\r\n      //     {\r\n      //       urls : 'stun:stun.l.google.com:19302'\r\n      //     }\r\n      //   ]\r\n      // }\r\n  \r\n      // https://developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection\r\n      // create an instance of RTCPeerConnection\r\n      // this.pc = new RTCPeerConnection(this.state.pc_config)\r\n  \r\n      // triggered when a new candidate is returned\r\n      // this.pc.onicecandidate = (e) => {\r\n      //   // send the candidates to the remote peer\r\n      //   // see addCandidate below to be triggered on the remote peer\r\n      //   if (e.candidate) {\r\n      //     // console.log(JSON.stringify(e.candidate))\r\n      //     this.sendToPeer('candidate', e.candidate)\r\n      //   }\r\n      // }\r\n  \r\n      // triggered when there is a change in connection state\r\n      // this.pc.oniceconnectionstatechange = (e) => {\r\n      //   console.log(e)\r\n      // }\r\n  \r\n      // triggered when a stream is added to pc, see below - this.pc.addStream(stream)\r\n      // this.pc.onaddstream = (e) => {\r\n      //   this.remoteVideoref.current.srcObject = e.stream\r\n      // }\r\n  \r\n      // this.pc.ontrack = (e) => {\r\n      //   debugger\r\n      //   // this.remoteVideoref.current.srcObject = e.streams[0]\r\n  \r\n      //   this.setState({\r\n      //     remoteStream: e.streams[0]\r\n      //   })\r\n      // }\r\n  \r\n    }\r\n  \r\n    // ************************************* //\r\n    // NOT REQUIRED\r\n    // ************************************* //\r\n    disconnectSocket = (socketToDisconnect) => {\r\n      this.sendToPeer('socket-to-disconnect', null, {\r\n        local: this.socket.id,\r\n        remote: socketToDisconnect\r\n      })\r\n    }\r\n  \r\n    switchVideo = (_video) => {\r\n      // console.log(_video)\r\n      this.setState({\r\n        selectedVideo: _video\r\n      })\r\n    }\r\n  \r\n    // ************************************* //\r\n    // ************************************* //\r\n\r\n    stopTracks = (stream) => {\r\n      stream.getTracks().forEach(track => track.stop())\r\n    }\r\n        \r\n  \r\n    render() {\r\n      const {\r\n        status,\r\n        messages,\r\n        disconnected,\r\n        localStream,\r\n        peerConnections,\r\n        remoteStreams,\r\n      } = this.state\r\n      const {store} = this.props;\r\n      const me = store.getCurrentUser();\r\n      const name = _.get(me, 'name') || 'nds';\r\n      \r\n      if(!me){\r\n        return (\r\n          <Redirect to=\"/ndsappbeta/chat\" />\r\n        )\r\n      } \r\n      if (disconnected) {\r\n        // disconnect socket\r\n        this.socket.close()\r\n        // stop local audio & video tracks\r\n        this.stopTracks(localStream)\r\n  \r\n        // stop all remote audio & video tracks\r\n        remoteStreams.forEach(rVideo => this.stopTracks(rVideo.stream))\r\n  \r\n        // stop all remote peerconnections\r\n        peerConnections && Object.values(peerConnections).forEach(pc => pc.close())\r\n\r\n        // setTimeout(() => {\r\n          return (\r\n            <Redirect to=\"/ndsappbeta/chat\" />\r\n          ) \r\n          // }, 10000);\r\n        \r\n      }\r\n  \r\n      const statusText = <div style={{ color: 'rgba(199, 36, 199, 0.9)', padding: 5 }}>{status}</div>\r\n  \r\n      return (\r\n        <div>\r\n        <Draggable style={{\r\n          zIndex: 101,\r\n          position: 'absolute',\r\n          right: 0,\r\n          cursor: 'move',\r\n        }}>\r\n          <Video\r\n            videoType='localVideo'\r\n            videoStyles={{\r\n              width: 200,\r\n              marginTop: '-3.5rem',\r\n              marginRight: '.5rem',\r\n            }}\r\n            frameStyle={{\r\n              width: 200,\r\n              margin: 5,\r\n              borderRadius: '.2rem',\r\n              backgroundColor: 'rgba(0,0,0,0.9)',\r\n            }}\r\n            showMuteControls={true}\r\n            // ref={this.localVideoref}\r\n            videoStream={localStream}\r\n            autoPlay muted>\r\n          </Video>\r\n        </Draggable>\r\n        <br />\r\n          <div style={{\r\n            zIndex: 3,\r\n            position: 'absolute',\r\n            marginTop: '-.6rem',\r\n            // margin: 10,\r\n            // backgroundColor: '#cdc4ff4f',\r\n            // padding: 10,\r\n            // borderRadius: 5,\r\n          }}>\r\n           \r\n            <i  onClick={(e) => {this.setState({disconnected: true})}} style={{cursor: 'pointer', paddingLeft: 15, color: 'red', fontSize: '24px' }}><CgCloseO /></i>\r\n            <div style={{\r\n              backgroundColor: 'rgba(0, 0, 0, 0.07)',\r\n              padding: 10,\r\n              borderRadius: 5,\r\n            }}>{ statusText }</div>\r\n          </div>\r\n          <div>\r\n            <Videos\r\n              switchVideo={this.switchVideo}\r\n              remoteStreams={remoteStreams}\r\n              // videoStream={this.state.selectedVideo && this.state.selectedVideo.stream}\r\n            ></Videos>\r\n          </div>\r\n          <br />\r\n  \r\n          <Chat\r\n              user={{\r\n                uid: (this.socket && this.socket.id) || '',\r\n                name: name || 'ndsbug',\r\n            }}\r\n            messages={messages}\r\n            sendMessage={(message) => {\r\n              this.setState(prevState => {\r\n                return {messages: [...prevState.messages, message]}\r\n              })\r\n              this.state.sendChannels.map(sendChannel => {\r\n                sendChannel.readyState === 'open' && sendChannel.send(JSON.stringify(message))\r\n                return\r\n              })\r\n              this.sendToPeer('new-message', JSON.stringify(message), {local: this.socket.id})\r\n            }}\r\n          />\r\n  \r\n          {/* <div style={{zIndex: 1, position: 'fixed'}} >\r\n            <button onClick={this.createOffer}>Offer</button>\r\n            <button onClick={this.createAnswer}>Answer</button>\r\n            <br />\r\n            <textarea style={{ width: 450, height:40 }} ref={ref => { this.textref = ref }} />\r\n          </div> */}\r\n          {/* <br />\r\n          <button onClick={this.setRemoteDescription}>Set Remote Desc</button>\r\n          <button onClick={this.addCandidate}>Add Candidate</button> */}\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n  export default MainVideo","import React, { useState } from \"react\";\r\n\r\nimport Banner from \"./Banner\";\r\n// import _ from 'lodash';\r\nimport {encrypt, encrypt2} from '../helpers/en_deCrypt';\r\nimport fetchJsonp from \"fetch-jsonp\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Hero from \"./Hero\";\r\nimport { Link } from \"@material-ui/core\";\r\n\r\n\r\n\r\nexport const GreetingApp4 = (props) => {\r\n\r\n    \r\n    const [url, setUrl] = useState();\r\n    const [me, setMe] = useState(null);\r\n    //const [loading, setLoading] = useState(false)\r\n    const [error, setError] = useState(null)\r\n    const [email, setEmail] = useState(null);\r\n    const [passWord, setPassWord] = useState(null);\r\n    const [ID, setID] = useState(null);\r\n    const [ipClient, setIpClient] = useState(null);\r\n    const [isContinue, setIsContinue] = useState(null);\r\n    //const [isShowGreeting, setIsShowGreeting] = useState(true);\r\n    const [isHaveAccount, setIsHaveAccount] = useState(false);\r\n    const [user, setUser] = useState()\r\n    const GeoAPI = \"https://ipapi.co/jsonp\";\r\n\r\n\r\n    const createQuicklyNewAcc = () => {\r\n        //create Random info account\r\n        \r\n        const chars = [\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\",\"0123456789\", \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\"];\r\n        const randPassWord = [5,3,2].map(function(len, i) { return Array(len).fill(chars[i]).map(function(x) { return x[Math.floor(Math.random() * x.length)] }).join('') }).concat().join('').split('').sort(function(){return 0.5-Math.random()}).join('');\r\n        const randEmail = (randPassWord.slice(0,6) + '@gmail.com').toString()\r\n        const randName = 'nDs' + randPassWord.slice(0,4)\r\n\r\n        const hashPassword = encrypt2(encrypt(randPassWord));\r\n\r\n        setEmail(randEmail);\r\n        setPassWord(randPassWord)\r\n\r\n        console.log(randEmail)\r\n        console.log(randPassWord)\r\n        setUser({\r\n            email: randEmail,\r\n            password: hashPassword,\r\n            name: randName,\r\n            ipClient: ipClient,\r\n            birthday: '',\r\n            country: '',\r\n            phone: '',\r\n            ID: ID\r\n        })\r\n        \r\n        setIsHaveAccount(true);\r\n        \r\n    }\r\n    const loginWithRandAccountAndManage = () => {\r\n        // console.log(user)\r\n        const store = props.store;\r\n        // setIsShowGreeting(false)\r\n            store.register(user).then((_) => {\r\n                 // now login this user\r\n                    store.login(user.email, user.password).then((_) => { \r\n                        // console.log(\"login redirectToManage\")\r\n                        setIsContinue(2)\r\n                }).catch((err) => {\r\n                    console.log(err);\r\n                   \r\n                    });\r\n            }).catch((err) => {\r\n                console.log(err);\r\n                setError(err)\r\n            });\r\n           \r\n        \r\n    }\r\n    const loginWithRandAccountAndContinue = () => {\r\n        // console.log(user)\r\n        const store = props.store;\r\n        // setIsShowGreeting(false)\r\n            store.register(user).then((_) => {\r\n                 // now login this user\r\n                    store.login(user.email, user.password).then((_) => { \r\n                        // console.log(\"login redirectToRetrille\")\r\n                        setIsContinue(1)\r\n                }).catch((err) => {\r\n                    console.log(err);\r\n                   \r\n                    });\r\n            }).catch((err) => {\r\n                console.log(err);\r\n                setError(err)\r\n            });\r\n      \r\n        \r\n    }\r\n\r\n\r\n    const fetchIPclient = () => {\r\n        try{\r\n            fetchJsonp(`${GeoAPI}`)\r\n            .then(function(response) {\r\n                return response.json();\r\n              })\r\n              .then(json => {\r\n                    setIpClient(json)\r\n              })\r\n              .catch(function(ex) {\r\n                console.log(\"parsing failed\", ex);\r\n              });\r\n        }\r\n        catch (err){ console.log(err) }\r\n\r\n    };\r\n\r\n\r\n    const generateId = (len) => {\r\n        var arr = new Uint8Array((len || 40) / 2)\r\n        window.crypto.getRandomValues(arr)\r\n        return Array.from(arr).join('')\r\n    }\r\n\r\n    const handleCreateR = () => {\r\n       \r\n        const userId = generateId(12).slice(-12);\r\n        setID(userId)\r\n        // console.log('ID of user random: ', userId);\r\n    }\r\n\r\n\r\n\r\n    React.useEffect(() => {\r\n        \r\n        const store = props.store;\r\n        fetchIPclient()\r\n        handleCreateR()\r\n        let url = window.location.pathname;\r\n\r\n        // console.log(url)\r\n\r\n        if(url === '/page2/greeting/newuser&account'){\r\n            setUrl('page2/newaccount#')\r\n        } else {\r\n            setUrl('page4/newaccount#')\r\n        }\r\n        const me = store.getCurrentUser();\r\n\r\n        if(me !== null){\r\n            setMe(me)\r\n        }\r\n\r\n    }, [])\r\n\r\n    if(isContinue === 1) {\r\n        // window.location.replace('http://localhost:3000/page4/quickaccount/login#'+{email}&{ID})\r\n        return (<Redirect to={`/${url}${email}&${ID}+${ipClient.country}+${ipClient.city}+${ipClient.ip}`} />)\r\n    }\r\n    if(isContinue === 2) {\r\n        // window.location.replace('http://localhost:3000/page3/quickaccount/login#'+{email}&{ID})\r\n        return (<Redirect to={`/page3/login/newaccount#${email}&${ID}+${ipClient.country}+${ipClient.city}+${ipClient.ip}`} />)\r\n    }\r\n\r\n    const render = () => (\r\n        <>\r\n            {\r\n                error ? <p className='err-greeting' style={{color: 'rgb(202, 60, 17)'}}>{error}</p> : null\r\n            }\r\n            {\r\n                (!me) ? <>\r\n                    {\r\n                        !isHaveAccount ? <>\r\n                            <Link onClick={() => setIsContinue(2)} to className=\"btn-primary\">\r\n                                Back to Chat\r\n                            </Link>\r\n                            <div></div>\r\n                            <a to className=\"btn-primary\" onClick={createQuicklyNewAcc}>\r\n                                Quickly a New Account \r\n                            </a>\r\n                        </>\r\n                        :\r\n                        <>\r\n                            <h5>Info Account</h5>\r\n                            <span style={{whiteSpace: 'nowrap'}}>Email: <strong>{email}</strong></span><br /> \r\n                            <span style={{whiteSpace: 'nowrap'}}>Password: <strong>{passWord}</strong></span>\r\n                            <br />\r\n                            <br />\r\n                            <a to className=\"btn-primary\" onClick={loginWithRandAccountAndContinue}>\r\n                                Login now\r\n                            </a>\r\n                            <br /><br />\r\n                            <a to className=\"btn-primary\" onClick={loginWithRandAccountAndManage}>\r\n                                account manager\r\n                            </a>\r\n                        </>\r\n                    }\r\n                </>\r\n                :\r\n                <>\r\n                    <h4>Hi, <strong>{email}</strong> | Login Successfull</h4>\r\n                \r\n                </>\r\n                }\r\n\r\n        </>\r\n    )\r\n            \r\n    if(url === 'page4/newaccount#'){\r\n        return (\r\n            <Hero>\r\n                    <Banner title=\"ReTrille\" subtitle={isHaveAccount ? \"Automatic unsafe accounts, carefully and verify your account\" : \"You need to enter your account to access ReTrille\"}>\r\n                        \r\n                        {render()}\r\n                    \r\n                    </Banner>\r\n            </Hero>\r\n        \r\n        )\r\n    } else {\r\n        return (\r\n            <Hero>\r\n                    <Banner title=\"WeatherApp\" subtitle={isHaveAccount ? \"Automatic unsafe accounts, carefully and verify your account\" : \"You need to enter your account to access WeatherApp\"}>\r\n                        \r\n                        {render()}\r\n                    \r\n                    </Banner>\r\n            </Hero>\r\n        \r\n        )\r\n    }\r\n    \r\n}\r\n \r\n\r\n","import React, {Component} from 'react'\r\nimport App3 from '../components/App3';\r\nimport Store from '../store';\r\nimport {Route, Switch} from 'react-router-dom';\r\n// import { Reconnect } from \"./Reconnect\";\r\nimport MainVideo from '../components/MainVideo';\r\nimport Errors from \"./Error\";\r\n// import Loading from '../components/Loading';\r\n\r\n// import Snow from '../components/Animation/Snow';\r\n// import Rain from '../components/Animation/Rain';\r\n// import Fancy from '../components/Animation/Fancy';\r\nimport {Helmet} from \"react-helmet\";\r\nimport {GreetingApp4} from '../components/GreetingApp4';\r\nimport {ChangePassword} from '../components/ChangePassword';\r\n\r\nexport default class Page3 extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            store: new Store(this),\r\n        }\r\n    }\r\n    render(){\r\n        const { store } = this.state;\r\n        return (\r\n            <Switch>\r\n                <Route exact path=\"/ndsappbeta/chat/login/:slug\">\r\n                    <>\r\n                    <App3 store = { store } />\r\n                    <Helmet>\r\n                        <title>Chat | nDsBuilding</title>\r\n                    </Helmet>\r\n                    </>\r\n                </Route>\r\n                <Route exact path=\"/ndsappbeta/chat\">\r\n                    <>\r\n                    <App3 store = { store } />\r\n                    <Helmet>\r\n                        <title>Chat | nDsBuilding</title>\r\n                    </Helmet>\r\n                    </>\r\n                </Route>\r\n                <Route exact path=\"/ndsappbeta/chat/change/password\">\r\n                    <>\r\n                    <ChangePassword store = { store } />\r\n                    <Helmet>\r\n                        <title>Chat | nDsBuilding</title>\r\n                    </Helmet>\r\n                    </>\r\n                </Route>\r\n                <Route exact path=\"/ndsappbeta/chat/greeting/newuser&account\">\r\n                    <>\r\n                    <GreetingApp4 store = { store } />\r\n                    <Helmet>\r\n                        <title>Greetingt-ReTrille | nDsBuilding</title>\r\n                    </Helmet>\r\n                    </>\r\n                </Route>\r\n               \r\n                <Route exact path=\"/ndsappbeta/chat/Facemoment/:slug\">\r\n                    <>\r\n                    <MainVideo store = { store } />\r\n                    <Helmet>\r\n                        <title>Face-moment | nDsBuilding</title>\r\n                    </Helmet>\r\n                    </>\r\n                </Route>\r\n                {/* <Route exact path=\"/page3/snow\">\r\n                    <Snow />\r\n                </Route>\r\n                <Route exact path=\"/page3/rain\">\r\n                    <Rain />\r\n                </Route>\r\n                <Route exact path=\"/page3/fancy\">\r\n                    <Fancy />\r\n                </Route> */}\r\n                <Route component={Errors} />\r\n            </Switch>\r\n        )   \r\n        }\r\n   \r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Typography, Container } from \"@material-ui/core\";\r\n\r\nexport default class DescriApp extends Component {\r\n    render(){\r\n      \r\n        return (\r\n\r\n            <div className=\"privacy-app\">\r\n                <Container>\r\n              <header>\r\n                <Typography variant=\"h4\" gutterBottom={true}>\r\n                  Introductory{\" \"}\r\n                </Typography>\r\n              </header>\r\n              <div className=\"deliver\"></div>\r\n              <br />\r\n              <section>\r\n                <Typography gutterBottom={true} variant=\"subtitle1\">\r\n                  The nDsApp is a web application that simultaneously serves as a spiritual product built\r\n                  and operated by nDs Gruop in the present time and will continue to grow in the future.\r\n                  (nDsApp l mt ng dng web ng thi ng vai tr nh mt sn phm tinh thn c xy dng\r\n                  v c vn hnh bi nhm nDs trong thi im hin ti v s tip tc pht trin trong tng lai.)\r\n                  <br />\r\n                  With a passionate about learning and passionate about programming, especially on Reactjs and Nodejs platforms,\r\n                  We built this app for community-serving purposes. It is also a turning point for pursuing your own passion.\r\n                  The App is not just an individual product but also a brainchild of us.\r\n                  (Vi s say m hc hi v am m lp trnh, c bit trn nn tng Reactjs v Nodejs,\r\n                  Chng ti xy dng ng dng ny nhm mc ch phc v chung cho mi ngi tham gia.\r\n                  ng thi cng l mt bc ngoc cho vic theo ui am m ca bn thn. \r\n                  App Khng ch l mt sn phm c nhn m cn l mt a con tinh thn ca chng ti.)\r\n                  <br />\r\n                  From the initial idea and after nearly 2 months, the App was officially put into operation by the host platform from \r\n                  Heroku / Ocean with 3 servers operating simultaneously, including 1 Front-End and 2 Back-End.\r\n                  We are always looking for the best way to improve the speed and information security for both parties.\r\n                  (T  tng ban u v sau thi gian gn 2 thng  App c a vo hot ng chnh thc cng khai nh nn nn host t \r\n                  Heroku/Ocean vi 3 server hot ng ng thi gm 1 Front-End v 2 Back-End.\r\n                  Chng ti lun tm cch tt nht  ci thin tc  cng nh  an ton thng tin cho c i bn.)\r\n                  <br />\r\n                </Typography>\r\n                <Typography variant=\"h6\">  Basic Information of nDsApp </Typography>\r\n                <Typography gutterBottom={true}>\r\n                  nDs App is built with a main color tone and common wallpaper on many pages to create a unified monochrome feel for the application theme interface.\r\n                  (nDs App c xy dng vi mt tng mu ch o v hnh nn chung trn nhiu trang  to cm gic n sc thng nht cho giao din ch  ng dng.)\r\n                  <br />\r\n                  At the beginning of the app's operation, there were 3 active applications including Music mp3, Weather search for cities in the world and \r\n                  the main application was online chat and video chat room individuals or groups with your friends. At the same time 2 active servers also provide the main environment for 2 large applications to operate.\r\n                  (Ti thi gian u i vo hot ng app hin c 3 ng dng ang hot ng gm Music mp3, Tra cu thi tit cc thnh ph th gii v ng dng chnh l chat online v to phng chat video \r\n                  c nhn hoc nhm cng bn b ca bn. ng thi 2 server ang hot ng  cng cng cp mi trng chnh cho 2 app ln hot ng)\r\n                </Typography>\r\n                <Typography variant=\"h6\">Continued To Grow</Typography>\r\n                <Typography gutterBottom={true}>\r\n                  Currently we have the application running on the host platform with the server being free and their main server is not located in Vietnam,\r\n                  so there will be a lot of influence on the application's operation as well as the user experience. . But nDs always ensure the confidentiality and safety of the information \r\n                  you provide us. And this issue will be resolved soon.\r\n                  (Hin ti chng ti cho ng dng ang hot ng trn nn host vi my ch l min ph v my ch chnh ca h khng t ti \r\n                  Vit Nam nn s cn nhiu nh hng cho hot ng ca ng dng cng nh l tri nghim ca ngi dng. Nhng pha nDs lun m bo tnh bo mt v an ton v thng tin\r\n                  m bn cung cp cho chng ti. V vn  ny s sm c gii quyt.)\r\n                </Typography>\r\n               \r\n                <Typography variant=\"h6\">Changes to Introductory</Typography>\r\n                <Typography gutterBottom={true}>\r\n                  nDsApp will be monitored and updated continuously by the development team. That is why introductions can be changed from time to time and they will be rapidly updated \r\n                  by the group as there are any new releases to provide you with our app information in total. most important possible.\r\n                  (nDsApp s c nhm pht trin theo di v cp nht lin tc.  l l do li gii thiu c th c thay i theo thi gian v chng s c nhm cp nht lin tc \r\n                  khi c bt k bn pht hnh mi no  cung cp cho bn cc thng tin ng dng ca chng ti mt cch tng quan nht c th.)\r\n               \r\n                </Typography>\r\n        \r\n                <Typography variant=\"h6\">Current Version</Typography>\r\n                    Version 0.1.0 | Official\r\n                    <br />\r\n                    Accept Login User Account at 3 Pages\r\n                    <br />\r\n                    Listen MP3 music | Get Weather any City Where | Chat text, img, wav, mp3, mp4, files message | Get Face moment One or One person group in a Room\r\n              </section>\r\n            </Container>\r\n            </div>\r\n          );\r\n        }\r\n   \r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Typography, Divider, Container, Link } from \"@material-ui/core\";\r\nimport img from \"../../images/svgnds.png\";\r\n\r\nexport default class ContributorsApp extends Component {\r\n    render(){\r\n      \r\n        return (\r\n\r\n            <div className=\"privacy-app\">\r\n                  <Container>\r\n              <header>\r\n                <Typography variant=\"h4\" gutterBottom={true}>\r\n                    Contributors{\" \"}\r\n                </Typography>\r\n              </header>\r\n              <div className=\"deliver\"></div>\r\n              <br />\r\n              <section>\r\n                <Typography gutterBottom={true} variant=\"subtitle1\">\r\n                  nDsApp gets great contributions from the many individuals the development team has contacted with. A difficult solution, we always need that donation. Thanks again for the help building and developing nDsApp\r\n                  (nDsApp c s ng gp ln t nhiu c nhn t chc m nhm pht trin  lin h.Mt gii php kh, chng ti lun cn s ng gp . Mt ln na cm n s gip  cho vic xy dng v pht trin nDsApp)\r\n                  <br />\r\n                </Typography>\r\n                <div className=\"list-contributes\">\r\n                  \r\n                  <div className=\"contribute\">\r\n                    <div className=\"contri-img\">\r\n                      <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/React-icon.svg/512px-React-icon.svg.png\" alt=\"logo Reactjs\" ></img>\r\n                    </div>\r\n                    <div className=\"contri-info\">\r\n                      <div className=\"contri-name\">\r\n                        <h4><a href=\"https://reactjs.org/\">ReactJs</a> | a library written in javascript</h4>\r\n                      </div>\r\n                      <div className=\"contri-text\">\r\n                        <p>ReactJs is the main platform the development team uses to build the frontend for the App. We received advice from a very important and influential person, then the team decided to use ReactJs as the primary medium for future App development. We appreciate the optimization of this platform and will continue to develop more</p>\r\n                        (ReactJs l nn tng chnh m nhm pht trin dng  xy dng phn frontend cho App. Chng ti nhn c li khuyn t mt ngi rt quan trng v c sc nh hng ln, sau  nhm quyt nh dng ReactJs lm mi trng chnh cho s pht trin App v sau. Chng ti nh gi cao s ti u ca nn tn ny v s tip tc pht trin nhiu hn th na)\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"contribute\">\r\n                    <div className=\"contri-img\">\r\n                      <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Node.js_logo.svg/590px-Node.js_logo.svg.png\" alt=\"logo Nodejs\"></img>\r\n                    </div>\r\n                    <div className=\"contri-info\">\r\n                      <div className=\"contri-name\">\r\n                        <h4><a href=\"https://nodejs.org/en/\">NodeJs</a> | an open-source, cross-platform</h4>\r\n                      </div>\r\n                      <div className=\"contri-text\">\r\n                        <p>The nDs application is running on 2 servers and the Backend commands are written in JavaScript on top of NodeJs. This helps the system to have unified in terms of programming languages used throughout the App.</p>\r\n                        (ng dng nDsApp ang chy trn 2 my ch v cc lnh pha Backend c vit bng JavaScript trn nn ca NodeJs. Vic lm ny gip cho h thng c s thng nht v mt ngn ng lp trnh c dng trn ton App.)\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"contribute\">\r\n                    <div className=\"contri-img\">\r\n                      <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ae/Github-desktop-logo-symbol.svg/800px-Github-desktop-logo-symbol.svg.png\" alt=\"logo GitHub\"></img>\r\n                    </div>\r\n                    <div className=\"contri-info\">\r\n                      <div className=\"contri-name\">\r\n                        <h4><a href=\"https://github.com/\">GitHub</a> | safe storage for source code</h4>\r\n                      </div>\r\n                      <div className=\"contri-text\">\r\n                        <p>We use GitHub to host the source code for the application. This is a tool that is familiar to any software programmer, with security handy and easy to restore projects via cmd or terminal on Linux We have a number of other apps that are still hosted on this app</p>\r\n                        (Chng ti s dng GitHub  lu tr m ngun cho ng dng. y l mt cng c quen thuc vi bt k lp trnh vin phn mm no, vi tnh nng bo mt tin dng v d dng khi phc cc d n thng qua cmd hoc terminal trn Linux. Hin chng ti c mt s ng dng khc vn c lu tr trn ng dng ny)\r\n                      </div>\r\n                    </div>                  \r\n                  </div>\r\n                  <div className=\"contribute\">\r\n                    {/* <svg class=\"h-25\" height=\"25\" viewBox=\"0 0 100 25\">\r\n                      <g><path d=\"M11.71 10.41C10.31 4.33 7.39 2.71 6.65 1.57 6.34 1.06 6.07 0.54 5.84 0 5.8 0.54 5.73 0.88 5.26 1.29 4.32 2.11 0.35 5.3 0.01 12.21 -0.3 18.65 4.82 22.62 5.5 23.03 6.02 23.28 6.65 23.03 6.96 22.8 9.43 21.13 12.8 16.69 11.71 10.41\" fill=\"#10AA50\"></path>//leaf\r\n                      <path d=\"M5.95 19.5C5.82 21.08 5.72 22 5.38 22.9 5.38 22.9 5.61 24.41 5.76 26L6.32 26C6.45 24.88 6.65 23.76 6.92 22.66 6.21 22.33 5.98 20.89 5.95 19.5Z\" fill=\"#B8C4C2\"></path>//bottom leaf\r\n                      <path d=\"M7.03 22.75L7.03 22.75C6.34 22.43 6.14 20.94 6.11 19.55 6.28 17.25 6.33 14.95 6.26 12.64 6.22 11.44 6.28 1.46 5.96 0 6.18 0.49 6.43 0.97 6.7 1.44 7.44 2.59 10.33 4.21 11.71 10.32 12.79 16.61 9.47 21.06 7.03 22.75Z\" fill=\"#12924F\"></path>\r\n                      <path d=\"M98.46 20.65C97.61 20.65 96.93 19.97 96.92 19.12 96.92 18.28 97.6 17.6 98.45 17.59 99.29 17.58 99.99 18.25 100 19.1 100.01 19.51 99.85 19.9 99.56 20.2 99.27 20.49 98.87 20.65 98.46 20.65L98.46 20.65ZM98.46 17.73C97.89 17.72 97.38 18.06 97.16 18.58 96.94 19.1 97.06 19.7 97.46 20.1 97.86 20.5 98.46 20.62 98.98 20.41 99.51 20.19 99.85 19.69 99.85 19.12 99.86 18.75 99.72 18.39 99.45 18.13 99.19 17.87 98.83 17.72 98.46 17.73L98.46 17.73ZM98.83 20.08L98.44 19.23 98.12 19.23 98.12 20.08 97.88 20.08 97.88 18.15 98.46 18.15C98.88 18.15 99.06 18.33 99.06 18.69 99.06 18.97 98.93 19.15 98.68 19.21L99.09 20.08 98.83 20.08ZM98.12 19.03L98.46 19.03C98.73 19.03 98.84 18.94 98.84 18.69 98.84 18.45 98.74 18.36 98.43 18.36L98.12 18.36 98.12 19.03Z\" fill=\"#21313C\"></path>//R right\r\n                      <path d=\"M75.97 19.27C76.38 19.59 77.2 19.73 77.92 19.73 78.85 19.73 79.76 19.55 80.65 18.75 81.56 17.92 82.19 16.66 82.19 14.64 82.19 12.71 81.45 11.13 79.94 10.21 79.08 9.68 77.97 9.47 76.71 9.47 76.35 9.47 75.97 9.48 75.76 9.58 75.67 9.65 75.61 9.75 75.59 9.85 75.55 10.2 75.55 12.83 75.55 14.38 75.55 15.97 75.55 18.19 75.59 18.46 75.61 18.7 75.72 19.1 75.97 19.27M72.1 8.6C72.43 8.6 73.68 8.66 74.27 8.66 75.36 8.66 76.11 8.6 78.15 8.6 79.86 8.6 81.29 9.06 82.32 9.94 83.57 11.02 84.23 12.52 84.23 14.34 84.23 16.93 83.05 18.42 81.86 19.27 80.68 20.15 79.14 20.65 76.95 20.65 75.79 20.65 73.79 20.61 72.12 20.59L72.09 20.59C72.01 20.44 72.23 19.84 72.36 19.82 72.82 19.77 72.94 19.75 73.15 19.67 73.5 19.52 73.58 19.34 73.62 18.71 73.68 17.52 73.66 16.1 73.66 14.49 73.66 13.34 73.68 11.1 73.64 10.39 73.58 9.79 73.33 9.64 72.82 9.52 72.46 9.45 72.1 9.39 71.73 9.35 71.7 9.24 71.99 8.72 72.09 8.6\" fill=\"#21313C\"></path> //D\r\n                      <path d=\"M89 9.54C88.93 9.56 88.83 9.75 88.83 9.85 88.81 10.54 88.79 12.34 88.79 13.58 88.8 13.63 88.84 13.67 88.89 13.68 89.14 13.7 89.76 13.72 90.28 13.72 91.01 13.72 91.43 13.62 91.67 13.51 92.28 13.2 92.57 12.53 92.57 11.8 92.57 10.13 91.41 9.5 89.69 9.5 89.46 9.5 89.23 9.51 89 9.54M93.38 17.2C93.38 15.52 92.14 14.56 89.89 14.56 89.79 14.56 89.07 14.54 88.9 14.58 88.85 14.6 88.79 14.63 88.79 14.67 88.79 15.88 88.77 17.81 88.83 18.58 88.87 18.9 89.1 19.36 89.39 19.5 89.69 19.67 90.39 19.71 90.87 19.71 92.2 19.71 93.38 18.96 93.38 17.2M85.52 8.6C85.69 8.6 86.21 8.66 87.52 8.66 88.75 8.66 89.75 8.62 90.95 8.62 92.43 8.62 94.48 9.16 94.48 11.38 94.48 12.47 93.71 13.35 92.7 13.77 92.65 13.79 92.65 13.83 92.7 13.85 94.13 14.21 95.38 15.09 95.38 16.78 95.38 18.43 94.36 19.46 92.88 20.11 91.97 20.51 90.85 20.65 89.72 20.65 88.85 20.65 86.52 20.56 85.23 20.57 85.1 20.51 85.35 19.9 85.47 19.8 85.77 19.8 86.06 19.75 86.34 19.67 86.81 19.55 86.86 19.4 86.92 18.71 86.96 18.12 86.96 15.99 86.96 14.48 86.96 12.41 86.98 11.02 86.96 10.33 86.94 9.79 86.75 9.62 86.38 9.52 86.09 9.46 85.61 9.41 85.22 9.35 85.13 9.25 85.42 8.68 85.52 8.6\" fill=\"#21313C\"></path>//B\r\n                      <path d=\"M15.95 20.65C15.9 20.52 15.88 20.39 15.89 20.26 15.89 20.17 15.91 20.08 15.95 20 16.2 19.96 16.45 19.91 16.7 19.85 17.05 19.76 17.18 19.57 17.2 19.13 17.25 18.09 17.26 16.15 17.24 14.78L17.24 14.74C17.24 14.59 17.24 14.39 17.05 14.25 16.73 14.05 16.38 13.89 16.02 13.79 15.86 13.74 15.76 13.66 15.77 13.56 15.77 13.46 15.88 13.34 16.09 13.3 16.66 13.24 18.14 12.89 18.72 12.62 18.78 12.7 18.81 12.79 18.8 12.89 18.8 12.95 18.79 13.02 18.78 13.08 18.76 13.27 18.75 13.49 18.75 13.71 18.75 13.77 18.79 13.81 18.84 13.83 18.89 13.85 18.95 13.83 18.99 13.8 20.1 12.93 21.09 12.62 21.6 12.62 22.44 12.62 23.09 13.02 23.59 13.84 23.62 13.88 23.66 13.91 23.71 13.91 23.75 13.91 23.79 13.89 23.81 13.85 24.83 13.08 25.84 12.62 26.52 12.62 28.11 12.62 29.07 13.81 29.07 15.81 29.07 16.38 29.06 17.11 29.06 17.79 29.05 18.39 29.05 18.95 29.05 19.33 29.05 19.43 29.17 19.69 29.36 19.74 29.6 19.85 29.93 19.91 30.36 19.99L30.38 19.99C30.41 20.1 30.34 20.55 30.28 20.64 30.17 20.64 30.02 20.63 29.84 20.62 29.51 20.6 29.05 20.58 28.53 20.58 27.46 20.58 26.91 20.6 26.38 20.63 26.34 20.5 26.33 20.08 26.38 19.99 26.59 19.95 26.81 19.9 27.03 19.84 27.36 19.73 27.46 19.58 27.48 19.13 27.49 18.81 27.55 16.01 27.44 15.35 27.34 14.66 26.82 13.85 25.68 13.85 25.26 13.85 24.58 14.02 23.93 14.52 23.89 14.56 23.86 14.62 23.86 14.68L23.86 14.69C23.94 15.05 23.94 15.47 23.94 16.11 23.94 16.47 23.94 16.85 23.94 17.23 23.93 18 23.93 18.73 23.94 19.29 23.94 19.66 24.17 19.75 24.35 19.82 24.45 19.85 24.53 19.86 24.61 19.88 24.76 19.92 24.92 19.96 25.16 20 25.19 20.16 25.19 20.32 25.15 20.48 25.14 20.54 25.11 20.6 25.08 20.65 24.49 20.63 23.88 20.61 23.01 20.61 22.75 20.61 22.31 20.62 21.93 20.63 21.62 20.64 21.33 20.65 21.16 20.65 21.12 20.54 21.1 20.43 21.1 20.31 21.1 20.2 21.12 20.09 21.17 20L21.4 19.96C21.61 19.92 21.78 19.89 21.95 19.85 22.24 19.75 22.35 19.6 22.37 19.23 22.42 18.37 22.47 15.9 22.35 15.29 22.14 14.29 21.57 13.79 20.66 13.79 20.13 13.79 19.46 14.05 18.91 14.46 18.8 14.56 18.74 14.71 18.75 14.85 18.75 15.15 18.75 15.5 18.75 15.87 18.75 17.11 18.74 18.66 18.77 19.33 18.79 19.53 18.86 19.78 19.25 19.86 19.33 19.89 19.48 19.91 19.65 19.94 19.75 19.96 19.85 19.98 19.96 20 20 20.21 19.98 20.44 19.91 20.65 19.74 20.65 19.53 20.64 19.29 20.63 18.93 20.61 18.47 20.59 17.95 20.59 17.34 20.59 16.92 20.61 16.58 20.63 16.35 20.64 16.15 20.65 15.95 20.65\" fill=\"#21313C\"></path>\r\n                      <path d=\"M35.36 13.42C35.04 13.41 34.72 13.5 34.44 13.68 33.77 14.08 33.43 14.88 33.43 16.07 33.43 18.28 34.55 19.83 36.16 19.83 36.59 19.84 37.01 19.69 37.34 19.41 37.83 19.02 38.1 18.2 38.1 17.07 38.1 14.89 37 13.42 35.36 13.42M35.67 20.65C32.77 20.65 31.73 18.54 31.73 16.58 31.73 15.2 32.3 14.13 33.42 13.38 34.21 12.9 35.11 12.64 36.04 12.62 38.26 12.62 39.81 14.19 39.81 16.44 39.81 17.98 39.19 19.18 38.02 19.94 37.46 20.28 36.48 20.65 35.67 20.65\" fill=\"#21313C\"></path><path d=\"M65.17 13.42C64.84 13.41 64.52 13.5 64.25 13.68 63.57 14.08 63.23 14.88 63.23 16.07 63.23 18.28 64.35 19.83 65.96 19.83 66.4 19.84 66.82 19.69 67.15 19.41 67.64 19.02 67.9 18.2 67.9 17.07 67.9 14.89 66.81 13.42 65.17 13.42M65.48 20.65C62.57 20.65 61.54 18.54 61.54 16.58 61.54 15.2 62.11 14.13 63.23 13.38 64.02 12.9 64.92 12.64 65.85 12.62 68.07 12.62 69.62 14.19 69.62 16.44 69.62 17.98 69 19.18 67.83 19.94 67.26 20.28 66.29 20.65 65.48 20.65\" fill=\"#21313C\"></path><path d=\"M55.3 13.35C54.4 13.35 53.81 14.06 53.81 15.14 53.81 16.22 54.31 17.51 55.73 17.51 55.98 17.51 56.42 17.41 56.64 17.17 56.97 16.87 57.19 16.26 57.19 15.61 57.19 14.2 56.49 13.35 55.31 13.35M55.19 20.84C54.93 20.84 54.68 20.9 54.46 21.02 53.74 21.47 53.4 21.92 53.4 22.44 53.4 22.92 53.6 23.31 54.01 23.66 54.52 24.08 55.2 24.28 56.09 24.28 57.86 24.28 58.64 23.35 58.64 22.44 58.64 21.8 58.32 21.37 57.64 21.13 57.12 20.94 56.25 20.84 55.19 20.84M55.31 25.24C54.25 25.24 53.49 25.02 52.84 24.53 52.21 24.05 51.92 23.34 51.92 22.85 51.93 22.54 52.05 22.23 52.27 22 52.45 21.8 52.88 21.41 53.87 20.75 53.9 20.74 53.92 20.71 53.92 20.67 53.92 20.64 53.89 20.6 53.86 20.59 53.04 20.29 52.8 19.79 52.72 19.52 52.72 19.51 52.72 19.49 52.72 19.48 52.69 19.37 52.67 19.27 52.82 19.17 52.93 19.09 53.11 18.98 53.31 18.87 53.58 18.72 53.85 18.55 54.1 18.37 54.12 18.34 54.14 18.3 54.13 18.26 54.12 18.22 54.1 18.19 54.06 18.17 52.86 17.78 52.26 16.9 52.26 15.57 52.25 14.73 52.66 13.93 53.37 13.44 53.85 13.07 55.06 12.62 55.85 12.62L55.9 12.62C56.7 12.64 57.16 12.8 57.79 13.03 58.15 13.16 58.53 13.22 58.91 13.2 59.58 13.2 59.87 13 60.13 12.76 60.17 12.86 60.19 12.98 60.19 13.09 60.21 13.37 60.13 13.64 59.97 13.87 59.84 14.06 59.51 14.19 59.22 14.19 59.19 14.19 59.16 14.19 59.13 14.19 58.97 14.18 58.82 14.15 58.67 14.11L58.59 14.14C58.57 14.17 58.58 14.21 58.6 14.26 58.61 14.27 58.61 14.28 58.61 14.29 58.67 14.53 58.71 14.77 58.72 15.02 58.72 16.41 58.16 17.02 57.55 17.47 56.97 17.9 56.27 18.17 55.53 18.23L55.53 18.23C55.52 18.23 55.44 18.24 55.3 18.25 55.21 18.26 55.09 18.27 55.07 18.27L55.05 18.27C54.92 18.31 54.58 18.47 54.58 18.77 54.58 19.01 54.73 19.32 55.48 19.38L55.96 19.41C56.94 19.48 58.17 19.56 58.75 19.75 59.54 20.02 60.06 20.76 60.04 21.57 60.04 22.82 59.13 24 57.61 24.72 56.89 25.05 56.1 25.23 55.31 25.22\" fill=\"#21313C\"></path>\r\n                      <path d=\"M50.73 19.89C50.3 19.83 49.99 19.77 49.63 19.6 49.55 19.53 49.51 19.44 49.49 19.33 49.45 18.75 49.45 17.04 49.45 15.92 49.45 15.01 49.3 14.21 48.91 13.64 48.45 13 47.79 12.62 46.94 12.62 46.19 12.62 45.19 13.13 44.36 13.83 44.34 13.85 44.21 13.97 44.21 13.78 44.22 13.6 44.25 13.22 44.26 12.98 44.28 12.85 44.23 12.71 44.14 12.62 43.6 12.89 42.08 13.25 41.51 13.31 41.1 13.39 41 13.78 41.44 13.92L41.44 13.92C41.79 14.01 42.13 14.16 42.44 14.35 42.61 14.48 42.59 14.67 42.59 14.82 42.61 16.1 42.61 18.05 42.55 19.11 42.53 19.53 42.42 19.68 42.11 19.76L42.14 19.75C41.9 19.81 41.66 19.85 41.42 19.88 41.33 19.98 41.33 20.53 41.42 20.64 41.62 20.64 42.6 20.59 43.41 20.59 44.53 20.59 45.11 20.64 45.4 20.64 45.51 20.51 45.55 20 45.47 19.88 45.21 19.87 44.94 19.83 44.68 19.77 44.37 19.69 44.3 19.54 44.28 19.2 44.24 18.31 44.24 16.41 44.24 15.12 44.24 14.76 44.33 14.59 44.45 14.49 44.84 14.15 45.47 13.92 46.03 13.92 46.57 13.92 46.94 14.09 47.21 14.32 47.52 14.59 47.72 14.98 47.76 15.39 47.84 16.11 47.82 17.56 47.82 18.81 47.82 19.49 47.76 19.66 47.51 19.74 47.39 19.79 47.08 19.85 46.72 19.89 46.6 20 46.64 20.53 46.72 20.65 47.22 20.65 47.8 20.59 48.65 20.59 49.71 20.59 50.38 20.65 50.65 20.65 50.77 20.51 50.81 20.02 50.73 19.89\" fill=\"#21313C\"></path> //n\r\n                      </g>\r\n                    </svg> */}\r\n                     <div className=\"contri-img\">\r\n                       {/* <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/MongoDB_Logo.svg/512px-MongoDB_Logo.svg.png\" alt=\"logo MongoDb\"/> */}\r\n                      <svg height=\"10rem\" width=\"10rem\" viewBox=\"0 0 13 26\">\r\n                        <path d=\"M11.7 10.4C10.3 4.3 7.4 2.7 6.7 1.6 6.3 1.1 6.1 0.5 5.8 0 5.8 0.5 5.7 0.9 5.3 1.3 4.3 2.1 0.4 5.3 0 12.2-0.3 18.7 4.8 22.6 5.5 23 6 23.3 6.7 23 7 22.8 9.4 21.1 12.8 16.7 11.7 10.4\" fill=\"#10AA50\"></path>\r\n                        <path d=\"M6 19.5C5.8 21.1 5.7 22 5.4 22.9 5.4 22.9 5.6 24.4 5.8 26L6.3 26C6.5 24.9 6.7 23.8 6.9 22.7 6.2 22.3 6 20.9 6 19.5Z\" fill=\"#B8C4C2\"></path>\r\n                        <path d=\"M7 22.8L7 22.8C6.3 22.4 6.1 20.9 6.1 19.6 6.3 17.3 6.3 15 6.3 12.6 6.2 11.4 6.3 1.5 6 0 6.2 0.5 6.4 1 6.7 1.4 7.4 2.6 10.3 4.2 11.7 10.3 12.8 16.6 9.5 21.1 7 22.8Z\" fill=\"#12924F\"></path>\r\n                      </svg>\r\n                    </div>\r\n                    <div className=\"contri-info\">\r\n                      <div className=\"contri-name\">\r\n                        <h4><a href=\"https://www.mongodb.com/\">MongoDB</a> | trusted by millions of users</h4>\r\n                      </div>\r\n                      <div className=\"contri-text\">\r\n                        <p>Regardless of data integrity in return for query flexibility and speed, we need a NoSql repository for the application. So MongoDB is our choice. They guarantee speed and also come with some risks but with nDsApp this is the database we use.</p>\r\n                        (B qua tnh ton vn ca d liu i li s linh hot v tc  truy vn, chng ti cn mt ni lu tr NoSql cho ng dng. V th MongoDB l s la chn ca chng ti. Chng m bo v tc  v cng gp mt s ri ro nhng vi nDsApp th y l c s d liu chng ti tin dng)\r\n                      </div>\r\n                    </div>  \r\n                  </div>\r\n                  <div className=\"contribute\">\r\n                    <div className=\"contri-img\">\r\n                      <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/9/9a/Visual_Studio_Code_1.35_icon.svg/800px-Visual_Studio_Code_1.35_icon.svg.png\" alt=\"logo Visual Code\"></img>\r\n                    </div>\r\n                    <div className=\"contri-info\">\r\n                      <div className=\"contri-name\">\r\n                        <h4><a href=\"https://code.visualstudio.com/\">Visual Code</a> | Open source-fast and full-featured</h4>\r\n                      </div>\r\n                      <div className=\"contri-text\">\r\n                        <p>Visual Studio Code (VS Code or VSC) is one of the most popular source code editors. It's fast, lightweight, cross-platform support, lots of features, and our development team used it for coding.</p>\r\n                        (Visual Studio Code (VS Code hay VSC) l mt trong nhng trnh son tho m ngun ph bin nht. Nhanh, nh, h tr a nn tng, nhiu tnh nng v nhm pht trin chng ti  dng n  phc v cho vic code )\r\n                      </div>\r\n                    </div>     \r\n                   \r\n                  </div>\r\n                  <div className=\"contribute\">\r\n                    <div className=\"contri-img\">\r\n                      <img src=\"https://upload.wikimedia.org/wikipedia/commons/8/81/Stackoverflow_icon.png\" alt=\"logo StackOverflow\"></img>\r\n                    </div>\r\n                    <div className=\"contri-info\">\r\n                      <div className=\"contri-name\">\r\n                        <h4><a href=\"https://stackoverflow.com/\">StackOverflow</a> | the best place to find and debug</h4>\r\n                      </div>\r\n                      <div className=\"contri-text\">\r\n                        <p>An environment for exchanging error information and correcting errors for developers around the world. No exception, during project implementation we ran into a lot of problems, and StackOverflow was where our team was looking for information about bugs. Almost all are resolved.</p>\r\n                        (L mt mi trng trao i thng tin v li v khc phc li ca mi lp trnh vin trn khp th gii. Khng ngoi l, trong qu trnh trin khai d n chng ti gp rt nhiu vn  v StackOverflow l ni nhm chng ti tm kim thng tin v cc li. Hu ht tt c u c gii quyt.)\r\n                      </div>\r\n                    </div>  \r\n                  </div>\r\n                  <div className=\"contribute\">\r\n                    <div className=\"contri-img\">\r\n                      <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Google_Chrome_icon_%28September_2014%29.svg/800px-Google_Chrome_icon_%28September_2014%29.svg.png\" alt=\"logo Google Chrome\"></img>\r\n                    </div>\r\n                    <div className=\"contri-info\">\r\n                      <div className=\"contri-name\">\r\n                        <h4><a href=\"https://www.google.com/chrome/\">Google Chrome</a> | find infinite information</h4>\r\n                      </div>\r\n                      <div className=\"contri-text\">\r\n                        <p>As a program to search and access information pages on the Internet, all provided by Google and they are completely free. We looked for a lot of information in app building and more. Chrome is also the environment for us to test generated pages.</p>\r\n                        (L mt chng trnh tm kim v truy cp cc trang thng tin trn mng Internet, tt c u c Google cung cp v chng hon ton min ph. Chng ti  tm kim rt nhiu thng tin trong vic xy dng app v hn th na. Chrome cng l mi trng  chng ti chy th nghim cc trang c to ra.)\r\n                      </div>\r\n                    </div>  \r\n                  </div>\r\n                  <div className=\"contribute\">\r\n                    <div className=\"contri-img\">\r\n                      <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d1/Cib-heroku_%28CoreUI_Icons_v1.0.0%29.svg/120px-Cib-heroku_%28CoreUI_Icons_v1.0.0%29.svg.png\" alt=\"logo Heroku\"></img>\r\n                    </div>\r\n                    <div className=\"contri-info\">\r\n                      <div className=\"contri-name\">\r\n                        <h4><a href=\"https://www.heroku.com/\">Heroku Server</a> | Cloud platform for your projects</h4>\r\n                      </div>\r\n                      <div className=\"contri-text\">\r\n                        <p>As a cloud application in the form of PaaS provides an environment for developers the simplest way to bring their application to market. Allows developers to freely focus on their core product without distraction in maintaining server, hardware, or infrastructure. nDsApp is operated on this cloud platform. There are paid and free versions available, depending on user needs.</p>\r\n                        (L mt ng dng m my di dng PaaS cung cp mi trng cho cc nh pht trin con ng n gin nht  a ng dng ca h ra th trng. Cho php cc nh pht trin t do tp trung vo sn phm ct li ca h m khng b phn tm trong vic duy tr my ch, phn cng hoc c s h tng. ng dng ca chng ti c hot ng trn nn tng m my ny. Hin c phin bn tr ph v min ph, tu vo nhu cu ngi dng.)\r\n                      </div>\r\n                    </div>  \r\n                  </div>\r\n                  <div className=\"contribute\">\r\n                    <div className=\"contri-img\">\r\n                      <img src={img} alt=\"logo nDs group\"></img>\r\n                    </div>\r\n                    <div className=\"contri-info\">\r\n                      <div className=\"contri-name\">\r\n                        <h4><a href=\"https://reactjs.org/\">Other contributions & nDs Group</a> | Exclusion Limit </h4>\r\n                      </div>\r\n                      <div className=\"contri-text\">\r\n                        <p>A great contribution to a few other personal or organizational components that we cannot fully mention. At the same time, the dedication of our development team to nDsApp is a cherished achievement, our team continues to improve the App gradually and continuously into the future.</p>\r\n                        (Mt ng gp khng nh t nhng thnh phn c nhn hoc t chc khc m chng ti khng th nu ht. ng thi, mt s cng hin ca nhm pht trin ca chng ti vo nDsApp l mt thnh tu ng trn trng, Nhm chng ti tip tc hon thin App dn dn v lin tc trong tng lai)\r\n                      </div>\r\n                    </div>  \r\n        \r\n                  </div>\r\n                  <Typography gutterBottom={true} variant=\"subtitle1\">\r\n                    Once again, the app management board respectfully sends to the members and organizations that make a very important contribution to the construction and development of this application. To me it is a spiritual pleasure a pride for the team to develop. Marking an invaluable product for participating in software programming - the Development Team's website./ .\r\n                    (Mt ln na ban qun l app trn trng gi n cc  thnh vin, t chc c ng gp rt l quan trng vo vic xy dng v pht trin ng dng ny. Vi ti  l mt nim vui tinh thn mt nim t ho cho nhm pht trin. nh du mt sn phm v gi cho vic tham gia vo lp trnh phn mm  - website ca Nhm Pht Trin./ .)\r\n                  </Typography>\r\n                  <span className=\"writer-Contri\">According to nDs</span>\r\n                </div>\r\n              </section>\r\n            </Container>\r\n            </div>\r\n          );\r\n        }\r\n   \r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Typography, Container } from \"@material-ui/core\";\r\nimport className from 'classnames';\r\nimport _ from 'lodash'\r\n\r\n\r\nconst ref = React.createRef();\r\nexport default class PrivacyApp extends Component {\r\n        constructor(props){\r\n            super(props)\r\n            this.state = {\r\n                showBtnBackToTop: false,\r\n                linkActive: null\r\n            }\r\n\r\n        }\r\n\r\n        componentDidMount() {\r\n            window.addEventListener('scroll', this.toggleVisibility);\r\n            \r\n        }\r\n        componentDidUpdate(){\r\n            console.log(\"link active: \", this.state.linkActive)\r\n        }\r\n\r\n      \r\n        toggleVisibility = () => {\r\n           if(window.pageYOffset > 440){\r\n               this.setState({\r\n                   showBtnBackToTop: true\r\n               })\r\n           }else{\r\n            this.setState({\r\n                showBtnBackToTop: false\r\n            })\r\n           }\r\n        }\r\n      \r\n        scrollToTop() {\r\n            console.log(this.state.showBtnBackToTop, window.pageYOffset, typeof(window.pageYOffset))\r\n            ref.current.scrollIntoView({\r\n                behavior: 'smooth',\r\n                block: 'start',\r\n            })\r\n            \r\n        }\r\n\r\n    render(){\r\n        const listsContent = [\r\n            {\r\n                id:1,\r\n                link: '#list1',\r\n                name: 'Privacy Highlights'\r\n            },\r\n            {\r\n                id:2,\r\n                link: '#list2',\r\n                name: 'nDsApp Collects'\r\n            },\r\n            {\r\n                id:3,\r\n                link: '#list3',\r\n                name: 'Purposes Using Info'\r\n            },\r\n            {\r\n                id:4,\r\n                link: '#list4',\r\n                name: 'Sharing of Personal'\r\n            },\r\n            {\r\n                id:5,\r\n                link: '#list5',\r\n                name: 'Cookie Policy'\r\n            },\r\n            {\r\n                id:6,\r\n                link: '#list6',\r\n                name: 'Data Security'\r\n            },\r\n            {\r\n                id:7,\r\n                link: '#list7',\r\n                name: 'Retention of Info'\r\n            },\r\n            {\r\n                id:8,\r\n                link: '#list8',\r\n                name: 'Childrens Privacy'\r\n            },\r\n            {\r\n                id:9,\r\n                link: '#list9',\r\n                name: 'Third Party Sites'\r\n            },\r\n            {\r\n                id:10,\r\n                link: '#list10',\r\n                name: 'Your Rights'\r\n            },\r\n            {\r\n                id:11,\r\n                link: '#list11',\r\n                name: 'California Privacy'\r\n            },\r\n            {\r\n                id:12,\r\n                link: '#list12',\r\n                name: 'Brazil Privacy'\r\n            },\r\n            {\r\n                id:'12b',\r\n                link: '#list12b',\r\n                name: 'Updates Privacy'\r\n            },\r\n            {\r\n                id:14,\r\n                link: '#list14',\r\n                name: 'Contact nDsGroup'\r\n            }\r\n\r\n        ]\r\n        return (\r\n        <div className=\"privacy-app-main\" ref={ref}>\r\n            \r\n            <div className=\"left-privacy-app\">\r\n                <ul className=\"links-content\">\r\n                    {\r\n                        listsContent.map((list) => {\r\n                            return <li key={list.id}>\r\n                                <a onClick={() => this.setState({linkActive: list.id})} \r\n                                    href={list.link}  className={className('scroll-link', {'activelink-content' : _.get(list, 'id') === this.state.linkActive})}>\r\n                                        {list.name}\r\n                                </a>\r\n                            </li>\r\n                        })\r\n                    }\r\n                </ul>\r\n            </div>\r\n            <div className=\"right-privacy-app\">\r\n            {this.state.showBtnBackToTop && (\r\n            <div className=\"btn-back-to-top\">\r\n                <div className=\"btn-inside\" onClick={() => this.scrollToTop()}>\r\n                   <span></span>\r\n                </div>\r\n            </div>)}\r\n            <section id='list1' className=\"section-content\">\r\n                <Container>\r\n                    <header>\r\n                        <Typography variant=\"h4\" gutterBottom={true}>\r\n                        Privacy Statement Highlights{\" \"}\r\n                        </Typography>\r\n                    </header>\r\n                    <div className=\"deliver\"></div>\r\n                    <br />\r\n                    <section>\r\n                        <Typography gutterBottom={true} variant=\"subtitel1\" style={{color: 'rgb(218, 226, 236)', marginLeft: '1rem'}}>\r\n                        When you use and interact with our websites or services,\r\n                        communicate with or otherwise contact us, we may collect, use, share and process information relating to you (\"Personal Data\"). \r\n                        These Privacy Statement Highlights summarize our Personal Data processing practices and your related rights.\r\n                        <br />\r\n                        In this Privacy Policy, \"personal information\" includes references to \"personal data\" as defined under applicable laws. \r\n                        Your use of our Sites and Services, and any dispute over privacy, is subject to this Policy and the relevant Terms, \r\n                        including the applicable limitations on damages and the resolution of disputes. The Terms are incorporated by reference into this Policy.\r\n                        </Typography>\r\n                    </section>\r\n                </Container>\r\n            </section>\r\n            <section id='list2' className=\"section-content\">\r\n                <Container>\r\n                    <header>\r\n                        <Typography variant=\"h4\" gutterBottom={true}>\r\n                        Personal Information That nDsApp Collects{\" \"}\r\n                        </Typography>\r\n                    </header>\r\n                    <div className=\"deliver\"></div>\r\n                    <br />\r\n                    <section>\r\n                        <Typography gutterBottom={true} variant=\"subtitel1\" style={{color: 'rgb(218, 226, 236)', marginLeft: '1rem'}}>\r\n                        We collect personal information when visit to App or you register for an account.\r\n                        <br />\r\n                        Personal information collected on the Sites includes community forum content, profiles, photographs, names, unique identifiers \r\n                        (e.g., social media handles or usernames), contact and billing information (e.g., email address, postal address, telephone, fax), \r\n                        and transaction information. Also, in order to tailor subsequent communications to users and continuously improve the Sites operations and services, \r\n                        nDsApp also ask users to provide additional optional information regarding their interests, demographics, experience and detailed contact preferences.\r\n                        <br />\r\n                        Communications. When you communicate with us (via email, phone, through the Sites or otherwise), we may maintain a record of your communication.\r\n                        <br />\r\n                        Automatically Collected Information. In addition, nDsApp may automatically collect the following information about users use of the Sites or Services \r\n                        through cookies, web beacons, and other technologies: your domain name; your browser type and operating system; web pages you view; links you click; your IP address; \r\n                        the length of time you visit our Sites and or use our Services; and the referring URL, or the webpage that led you to our Sites. We may combine this information with \r\n                        other information that we have collected about you, including, where applicable, your user name, name, and other personal information. Please see our Cookie Policy for more information about our use of cookies.\r\n                        <br />\r\n                        De-identified Information. We may de-identify and aggregate certain personal information we collect such that the information no longer identifies or can be linked \r\n                        to a particular user or an individual data subject (De-identified Information), subject to the terms of any applicable user agreements. We may use this information \r\n                        to improve our Services, analyze trends, publish market research, and for other marketing, research or statistical purposes, and may disclose such information to third parties for these specific purposes.\r\n                        </Typography>\r\n                    </section>\r\n                </Container>\r\n            </section>\r\n            <section id='list3' className=\"section-content\">\r\n                <Container>\r\n                    <header>\r\n                        <Typography variant=\"h4\" gutterBottom={true}>\r\n                        Purposes and Legal Bases for Our Using of Your Personal Information{\" \"}\r\n                        </Typography>\r\n                    </header>\r\n                    <div className=\"deliver\"></div>\r\n                    <br />\r\n                    <section>\r\n                        <Typography gutterBottom={true} variant=\"subtitel1\" style={{color: 'rgb(218, 226, 236)', marginLeft: '1rem'}}>\r\n                        Purposes and Legitimate Interests nDsApp use the personal information we collect for our legitimate operate interests, which include the following purposes:\r\n                        <br />\r\n                        Providing our Sites and Services. To provide the Services and our Sites (including Project Sites), to communicate with you about your use of our Sites and Services, \r\n                        to respond to your inquiries, provide troubleshooting of the Sites and for other purposes to support users and the community.\r\n                        <br />\r\n                        In addition, to ensure the safety of the system, the way it works properly, ensure the security of resources and information \r\n                        that we collect from people, and ensure the stability you interact with. application. We don't know for sure who you are so \r\n                        we need to collect every possible information from users accessing and authorized users, making sure they are all confidential only \r\n                        you and we know, and a The amount of information is encoded according to the pattern that we generate, we may not even be able to know without deep intervention, \r\n                        except in special cases where it is necessary to decode that information.\r\n                        <br />\r\n                        Prevent Misuse. Where we believe necessary to investigate, prevent or take action regarding illegal activities, suspected fraud, situations \r\n                        involving potential threats to the safety of any person or violations of the relevant Terms or this Privacy Policy.\r\n                        </Typography>\r\n                    </section>\r\n                </Container>\r\n            </section>\r\n            <section id='list4' className=\"section-content\">\r\n                <Container>\r\n                    <header>\r\n                        <Typography variant=\"h4\" gutterBottom={true}>\r\n                        Sharing of Personal Information{\" \"}\r\n                        </Typography>\r\n                    </header>\r\n                    <div className=\"deliver\"></div>\r\n                    <br />\r\n                    <section>\r\n                        <Typography gutterBottom={true} variant=\"subtitel1\" style={{color: 'rgb(218, 226, 236)', marginLeft: '1rem'}}>\r\n                        We may share personal information with third parties who provide services to nDsApp, such as payment processors, \r\n                        email delivery services, software providers and when we enter into product integrations with Software providers. \r\n                        Additionally, to improve user experience, we offer single sign-on solutions for account login and these third parties (including Facebook and Google) may \r\n                        receive information from these services when you elect to use them. When nDsApp shares your personal information and other collected information with third party service providers, \r\n                        we require that they use your information only for the purpose of providing services to us and consistent with this privacy policy.\r\n                        <br />\r\n                        Legally Required. We may disclose your information if we are required to do so by law (including to law enforcement in the U.S. and other jurisdictions).\r\n                        Protection of Rights. We may disclose information where we believe it necessary to respond to claims asserted against us or, comply with legal process (e.g., subpoenas or warrants), \r\n                        enforce or administer our agreements and terms, for fraud prevention, risk assessment, investigation, and protect the rights, property or \r\n                        safety of nDsApp, its Users, participants in its events or Projects, or others.\r\n                        Anonymized and Aggregated Information. We may share aggregate or De-identified information with third parties for research, marketing, analytics and \r\n                        other purposes, provided such information does not identify a particular individual.\r\n                        <br />\r\n                        We absolutely do not use your information for commercial purposes or have any related problems for the unauthorized use of your personal information without the consent of the user. \r\n                        However, with some core activities such as brand development, traffic usage evaluation of information storage system we may use a few small points in your information that we store \r\n                        (About They are basically all public when operating on the app) and make sure that the information is used with strict, closed communication between us and \r\n                        third parties, ensuring user privacy and placing give them the legal status if they use the information.\r\n                        </Typography>\r\n                    </section>\r\n                </Container>\r\n            </section>\r\n            <section id='list5' className=\"section-content\">\r\n                <Container>\r\n                    <header>\r\n                        <Typography variant=\"h4\" gutterBottom={true}>\r\n                        Cookie Policy{\" \"}\r\n                        </Typography>\r\n                    </header>\r\n                    <div className=\"deliver\"></div>\r\n                    <br />\r\n                    <section>\r\n                        <Typography gutterBottom={true} variant=\"subtitel1\" style={{color: 'rgb(218, 226, 236)', marginLeft: '1rem'}}>\r\n                        A cookie is a small piece of text that allows a website to recognize your device and maintain a consistent, cohesive experience throughout multiple sessions. \r\n                        If you use the nDsApp Network, both nDsApp and third parties will use cookies to track and monitor some of your activities on and off the nDsApp Network, \r\n                        and store and access some data about you, your browsing history, and your using.\r\n                        <br />\r\n                        This policy describes how both nDsApp and other third parties use cookies both within and without the nDsApp network and how you can \r\n                        exercise a greater degree of control over cookies. Please keep in mind that this may alter your experience with our platform, and may limit certain features (including being logged in as a user).\r\n                        <br />\r\n                        General Browsing: We use cookies that are important for certain technical features of our website, like logging into user accounts and implementing fixes and improvements to our platform.\r\n                        <br />\r\n                        These cookies:<br />\r\n                            <li>Enable behavior in our Products and/or Services that is tailored to the activity or preferences of a person visiting our properties</li>\r\n                            <li>Allow users to opt out of certain types of modeling, tailoring, or personalization in our products</li>\r\n                            <li>Collect information on our users preferences in order to create more useful products</li>\r\n                            <li>Maintain the regular business operations of our Advertising and Marketing departments \r\n                            (such as one-time pop-ups or hero displays when first visiting a site and to collect impressions and click data)</li>\r\n                            <li>Help to diagnose and correct downtime, bugs, and errors in our code to ensure that our products are operating efficiently</li>\r\n                        </Typography>\r\n                    </section>\r\n                </Container>\r\n            </section>\r\n            <section id='list6' className=\"section-content\">\r\n                <Container>\r\n                    <header>\r\n                        <Typography variant=\"h4\" gutterBottom={true}>\r\n                        Data Security{\" \"}\r\n                        </Typography>\r\n                    </header>\r\n                    <div className=\"deliver\"></div>\r\n                    <br />\r\n                    <section>\r\n                        <Typography gutterBottom={true} variant=\"subtitel1\" style={{color: 'rgb(218, 226, 236)', marginLeft: '1rem'}}>\r\n                        We have implemented commercially reasonable precautions designed to protect the information we collect from loss, misuse, \r\n                        and unauthorized access, disclosure, alteration, and destruction. Please be aware that despite our best efforts, no data security measures can guarantee 100% security.\r\n                        <br />\r\n                        You should take steps to protect against unauthorized access to your passwords, phone, and computer by, among other things, signing off after using a shared computer, \r\n                        choosing robust passwords that nobody else knows or can easily guess, not using a password for more than one site or service, and keeping your log-ins and passwords private. \r\n                        We are not responsible for any lost, stolen, or compromised passwords or for any activity on your account via unauthorized password activity. We ask you to promptly notify us \r\n                        if you become aware that any information provided by or submitted to our Sites or through our S is lost, stolen, or used without permission at <a style={{color: \"hsl(185, 57%, 50%)\"}} href=\"/about/feedback\">Feedback-Support</a>.\r\n                        </Typography>\r\n                    </section>\r\n                </Container>\r\n            </section>\r\n            <section id='list7' className=\"section-content\">\r\n                <Container>\r\n                    <header>\r\n                        <Typography variant=\"h4\" gutterBottom={true}>\r\n                        Retention of Your Personal Information{\" \"}\r\n                        </Typography>\r\n                    </header>\r\n                    <div className=\"deliver\"></div>\r\n                    <br />\r\n                    <section>\r\n                        <Typography gutterBottom={true} variant=\"subtitel1\" style={{color: 'rgb(218, 226, 236)', marginLeft: '1rem'}}>\r\n                        We generally keep personal information only for as long as required to fulfill the purposes for which it was collected. \r\n                        However, in some circumstances, we may retain personal information for other periods of time, for instance where we are required to do so in accordance with legal, tax and accounting requirements, \r\n                        or if required to do so by a legal process, legal authority, or other governmental entity having authority to make the request, for so long as required. In specific circumstances, \r\n                        we may also retain your personal information for longer periods of time corresponding to a statute of limitation, so that we have an accurate record of your dealings with us in the event of any complaints or challenges.\r\n                        </Typography>\r\n                    </section>\r\n                </Container>\r\n            </section>\r\n            <section id='list8' className=\"section-content\">\r\n                <Container>\r\n                    <header>\r\n                        <Typography variant=\"h4\" gutterBottom={true}>\r\n                        Childrens Privacy{\" \"}\r\n                        </Typography>\r\n                    </header>\r\n                    <div className=\"deliver\"></div>\r\n                    <br />\r\n                    <section>\r\n                        <Typography gutterBottom={true} variant=\"subtitel1\" style={{color: 'rgb(218, 226, 236)', marginLeft: '1rem'}}>\r\n                        Except as specifically indicated within a Site, we do not knowingly collect or solicit personal information from anyone under the age of sixteen (16), or knowingly allow such persons to register. \r\n                        If we become aware that we have collected personal information from a child under the relevant age without parental consent, we take steps to delete that information. Where we specifically indicate that we collect personal information from children under 16, \r\n                        we will obtain the parent or guardians consent and provide adequate notice.\r\n                        </Typography>\r\n                    </section>\r\n                </Container>\r\n            </section>\r\n            <section id='list9' className=\"section-content\">\r\n                <Container>\r\n                    <header>\r\n                        <Typography variant=\"h4\" gutterBottom={true}>\r\n                        Links to Third Party Sites and Services{\" \"}\r\n                        </Typography>\r\n                    </header>\r\n                    <div className=\"deliver\"></div>\r\n                    <br />\r\n                    <section>\r\n                        <Typography gutterBottom={true} variant=\"subtitel1\" style={{color: 'rgb(218, 226, 236)', marginLeft: '1rem'}}>\r\n                        The Sites may contain links to third party sites or online services. Please refer to the privacy policies of the relevant third party websites or services to find out more about how they process and handle personal information.\r\n                        </Typography>\r\n                    </section>\r\n                </Container>\r\n            </section>\r\n            <section id='list10' className=\"section-content\">\r\n                <Container>\r\n                    <header>\r\n                        <Typography variant=\"h4\" gutterBottom={true}>\r\n                        You Rights{\" \"}\r\n                        </Typography>\r\n                    </header>\r\n                    <div className=\"deliver\"></div>\r\n                    <br />\r\n                    <section>\r\n                        <Typography gutterBottom={true} variant=\"subtitel1\" style={{color: 'rgb(218, 226, 236)', marginLeft: '1rem'}}>\r\n                        Access and Amendment. You may contact our privacy coordinator, as set forth below, to access or amend your personal information.\r\n                        <br />\r\n                        Submitting a Request. To exercise the above rights or contact us with questions or complaints regarding \r\n                        our treatment of your personal information, contact us at <a style={{color: \"hsl(185, 57%, 50%)\"}} href=\"/about/feedback\">Feedback-Support</a>. Please note that we may request proof of identity, \r\n                        and we reserve the right to charge a fee where permitted by law, especially if your request is manifestly unfounded or excessive. \r\n                        We will respond to your request within the applicable timeframes set out by law.\r\n                        <br />\r\n                        Only applies to basic information that you provide publicly when registering with us. For the information in the account verification request, \r\n                        after we have authenticated to exchange them, you need to have other documents with equal value to the information you previously submitted to be able to request changes.\r\n                        </Typography>\r\n                    </section>\r\n                </Container>\r\n            </section>\r\n            <section id='list11' className=\"section-content\">\r\n                <Container>\r\n                    <header>\r\n                        <Typography variant=\"h4\" gutterBottom={true}>\r\n                        California Privacy{\" \"}\r\n                        </Typography>\r\n                    </header>\r\n                    <div className=\"deliver\"></div>\r\n                    <br />\r\n                    <section>\r\n                        <Typography gutterBottom={true} variant=\"subtitel1\" style={{color: 'rgb(218, 226, 236)', marginLeft: '1rem'}}>\r\n                        Under the CCPA, you have the right to access the Personal Information weve collected about you during the past 12 months and information about our data practices. \r\n                        You also have the right to request that we delete the Personal Information that we have collected from you.\r\n                        To request manual access or deletion of your Personal Information, please contact us here.\r\n                        <br />\r\n                        Under the CCPA, you have the right to access the Personal Information weve collected about you during the past 12 months and information about our data practices. You also have the right to request that we delete the Personal Information that we have collected from you.\r\n                        To request manual access or deletion of your Personal Information, please contact us <a style={{color: \"hsl(185, 57%, 50%)\"}} href=\"/about/feedback\">Feedback-Support</a>.\r\n                        Please note, for all manual requests, you will need to verify your identity by providing us with the following information:\r\n                        <br />\r\n                        <li>Your full name</li>\r\n                        <li>Your email address</li>\r\n                        <li>Your nDsApp phone number</li>\r\n                        <li>Whether you are a California consumer pursuant to Cal. Civ. Code Sec. 1798.140(g)</li>\r\n                        <br />\r\n                        nDsApp will not be able to respond to your request unless you provide us with all of the above information. You can also designate an authorized agent to make a manual request on your behalf. If you decide to use an authorized agent, \r\n                        please also include written permission that you have designated that agent to make this request, or proof of the agents power of attorney. We may also follow-up with you to verify your identity before processing your authorized agents request.\r\n                        <br />\r\n                        Lastly, you have the right to be free from any discrimination for exercising your rights to access or delete your Personal Information. We will not discriminate against you for exercising any of these rights.\r\n                        <br />\r\n                        If you have additional questions about this Notice or how to exercise your rights under the CCPA, please contact us.\r\n                        </Typography>\r\n                    </section>\r\n                </Container>\r\n            </section>\r\n            <section id='list12' className=\"section-content\">\r\n                <Container>\r\n                    <header>\r\n                        <Typography variant=\"h4\" gutterBottom={true}>\r\n                        This Brazil Privacy Notice{\" \"}\r\n                        </Typography>\r\n                    </header>\r\n                    <div className=\"deliver\"></div>\r\n                    <br />\r\n                    <section>\r\n                        <Typography gutterBottom={true} variant=\"subtitel1\" style={{color: 'rgb(218, 226, 236)', marginLeft: '1rem'}}>\r\n                        This Brazil Privacy Notice (Notice) applies to \r\n                        personal data processing activities under Brazilian law and supplements our Privacy Policy.\r\n                        <br />\r\n                        Under the Brazilian General Data Protection Law (the LGPD), you have the right to access, rectify, port, erase, and confirm that we process your data. \r\n                        Learn more about your rights and find out how you can exercise your rights by visiting our iPhone, Android and KaiOS articles in our Help Center. \r\n                        In certain circumstances, you also have the right to object to and to restrict the processing of your personal data. Our Privacy Policy provides information about how we share data with third parties.\r\n                        <br />\r\n                        The data controller responsible for your information is nDsApp. To contact the Data Protection Officer for nDsApp.\r\n                        You also have the right to petition the Brazilian Data Protection Authority (DPA) by contacting the DPA directly.\r\n                        <br />\r\n                        If you have additional questions about this Notice or how to exercise your rights under the CCPA, please contact us.\r\n                        </Typography>\r\n                    </section>\r\n                </Container>\r\n            </section>\r\n            <section id='list12b' className=\"section-content\">\r\n                <Container>\r\n                    <header>\r\n                        <Typography variant=\"h4\" gutterBottom={true}>\r\n                        Updates Privacy & Policy{\" \"}\r\n                        </Typography>\r\n                    </header>\r\n                    <div className=\"deliver\"></div>\r\n                    <br />\r\n                    <section>\r\n                        <Typography gutterBottom={true} variant=\"subtitel1\" style={{color: 'rgb(218, 226, 236)', marginLeft: '1rem'}}>\r\n                        We may amend or update our Privacy Policy. We will provide you notice of amendments to this Privacy Policy, as appropriate, and update the Last Modified date at the top of this Privacy Policy. \r\n                        Your continued use of our Services confirms your acceptance of our Privacy Policy, as amended. If you do not agree to our Privacy Policy, as amended, you must stop using our Services. Please review our Privacy Policy from time to time.\r\n                        </Typography>\r\n                    </section>\r\n                </Container>\r\n            </section>\r\n            <section id='list14' className=\"section-content\">\r\n            <Container>\r\n                    <header>\r\n                        <Typography variant=\"h4\" gutterBottom={true}>\r\n                        Contact with us{\" \"}\r\n                        </Typography>\r\n                    </header>\r\n                    <div className=\"deliver\"></div>\r\n                    <br />\r\n                    <section>\r\n                        <Typography gutterBottom={true} variant=\"subtitel1\" style={{color: 'rgb(218, 226, 236)', marginLeft: '1rem'}}>\r\n                        If you have questions about our Privacy Policy, please contact us via <a href=\"/about/feedback\">Feedback-Support</a>.\r\n                        <br />\r\n\r\n                            nDsApp DSG<br />\r\n                            Privacy Policy<br />\r\n                            XaLoHaNoi Road<br />\r\n                            Linh Trung, Thu Duc<br />\r\n                            Ho Chi Minh City, Viet Nam<br />\r\n\r\n                        </Typography>\r\n                    </section>\r\n                </Container>\r\n            </section>\r\n                \r\n            </div>\r\n           \r\n          </div>\r\n        );\r\n      }\r\n   \r\n}\r\n","export default  [\r\n    {\r\n        title: \"What is ReTrille\",\r\n        resolve: \"_#ReTrille is a web-app that group nDs research and development\",\r\n        resolve1: \"_#You can TALK with ReTriable through microphones that are SUPPORTED by ReTrille languages\",\r\n        resolve2: \"_#Writing Voice can CONVERT the language you speak into TEXT\",\r\n        resolve3: \"_#You can TEACH ReTrille, It will answer when the question is CLOSE TO you teach, there are many answers from MANY others, it LIKES which answer will answer you that question\"\r\n    },\r\n    {\r\n        title: \"How to talk to ReTrille\",\r\n        resolve: `_#An account is required to Register atCHAP APP`,\r\n        resolve1: \"_#At ReTrille interface CLICK the microphone in the bottom corner to SPEAK\",\r\n        resolve2: \"_#Other supporting tools are in the RIGHT toolbar\",\r\n    },\r\n    {\r\n        title: \"How to use Writting Voice\",\r\n        resolve: \"_#At the Writting Voice interface CLICK the microphone and SAY\",\r\n        resolve1: \"_#Remember to configure the microphone language at ReTrille\",\r\n        resolve2: \"_#Other supporting tools are in the RIGHT toolbar\",\r\n    },\r\n    {\r\n        title: \"How to teach ReTrille to answer new questions\",\r\n        resolve: `_#An account is required to Register at CHAP APP`,\r\n        resolve1: \"_#At the Add Message interface, SELECT the available Topic or ENTER a new Topic (minimum 2 characters). Default language is English, can be changed to resemble your language\",\r\n        resolve2: \"_#Next enter the KEY word, which is the phrase to COMPARE with the question you or anyone talking to ReTrille, so that ReTrille can choose an answer it likes to answer the questioner\",\r\n        resolve3: \"_#Finally, Enter the answer you WANT ReTrille to reply everyone when asking about the topic you taught. Click Add Message and wait a few seconds\",\r\n        resolve4: \"_#Make sure TOPIC, KEY word are appeared in question with the same topic and you taught CORRECT spelling, ReTrille doesn't learn misspelled words, It's smart\"\r\n    },\r\n    {\r\n        title: \"This is title of the question\",\r\n        resolve: \"This is body of question we will add some info replay here to users can see it and doing follow\"\r\n    },\r\n    {\r\n        title: \"This is title of the question\",\r\n        resolve: \"This is body of question we will add some info replay here to users can see it and doing follow\"\r\n    },\r\n\r\n]\r\n","export default  [\r\n    {\r\n        title: \"What is ReTrille\",\r\n        resolve: \"_#ReTrille is a web-app that group nDs research and development\",\r\n        resolve1: \"_#You can TALK with ReTriable through microphones that are SUPPORTED by ReTrille languages\",\r\n        resolve2: \"_#Writing Voice can CONVERT the language you speak into TEXT\",\r\n        resolve3: \"_#You can TEACH ReTrille, It will answer when the question is CLOSE TO you teach, there are many answers from MANY others, it LIKES which answer will answer you that question\"\r\n    },\r\n    {\r\n        title: \"How to talk to ReTrille\",\r\n        resolve: `_#An account is required to Register atCHAP APP`,\r\n        resolve1: \"_#At ReTrille interface CLICK the microphone in the bottom corner to SPEAK\",\r\n        resolve2: \"_#Other supporting tools are in the RIGHT toolbar\",\r\n    },\r\n    {\r\n        title: \"How to use Writting Voice\",\r\n        resolve: \"_#At the Writting Voice interface CLICK the microphone and SAY\",\r\n        resolve1: \"_#Remember to configure the microphone language at ReTrille\",\r\n        resolve2: \"_#Other supporting tools are in the RIGHT toolbar\",\r\n    },\r\n    {\r\n        title: \"How to teach ReTrille to answer new questions\",\r\n        resolve: `_#An account is required to Register at CHAP APP`,\r\n        resolve1: \"_#At the Add Message interface, SELECT the available Topic or ENTER a new Topic (minimum 2 characters). Default language is English, can be changed to resemble your language\",\r\n        resolve2: \"_#Next enter the KEY word, which is the phrase to COMPARE with the question you or anyone talking to ReTrille, so that ReTrille can choose an answer it likes to answer the questioner\",\r\n        resolve3: \"_#Finally, Enter the answer you WANT ReTrille to reply everyone when asking about the topic you taught. Click Add Message and wait a few seconds\",\r\n        resolve4: \"_#Make sure TOPIC, KEY word are appeared in question with the same topic and you taught CORRECT spelling, ReTrille doesn't learn misspelled words, It's smart\"\r\n    },\r\n    {\r\n        title: \"This is title of the question\",\r\n        resolve: \"This is body of question we will add some info replay here to users can see it and doing follow\"\r\n    },\r\n    {\r\n        title: \"This is title of the question\",\r\n        resolve: \"This is body of question we will add some info replay here to users can see it and doing follow\"\r\n    },\r\n\r\n]\r\n","export default  [\r\n    {\r\n        title: \"What is ReTrille\",\r\n        resolve: \"_#ReTrille is a web-app that group nDs research and development\",\r\n        resolve1: \"_#You can TALK with ReTriable through microphones that are SUPPORTED by ReTrille languages\",\r\n        resolve2: \"_#Writing Voice can CONVERT the language you speak into TEXT\",\r\n        resolve3: \"_#You can TEACH ReTrille, It will answer when the question is CLOSE TO you teach, there are many answers from MANY others, it LIKES which answer will answer you that question\"\r\n    },\r\n    {\r\n        title: \"How to talk to ReTrille\",\r\n        resolve: `_#An account is required to Register atCHAP APP`,\r\n        resolve1: \"_#At ReTrille interface CLICK the microphone in the bottom corner to SPEAK\",\r\n        resolve2: \"_#Other supporting tools are in the RIGHT toolbar\",\r\n    },\r\n    {\r\n        title: \"How to use Writting Voice\",\r\n        resolve: \"_#At the Writting Voice interface CLICK the microphone and SAY\",\r\n        resolve1: \"_#Remember to configure the microphone language at ReTrille\",\r\n        resolve2: \"_#Other supporting tools are in the RIGHT toolbar\",\r\n    },\r\n    {\r\n        title: \"How to teach ReTrille to answer new questions\",\r\n        resolve: `_#An account is required to Register at CHAP APP`,\r\n        resolve1: \"_#At the Add Message interface, SELECT the available Topic or ENTER a new Topic (minimum 2 characters). Default language is English, can be changed to resemble your language\",\r\n        resolve2: \"_#Next enter the KEY word, which is the phrase to COMPARE with the question you or anyone talking to ReTrille, so that ReTrille can choose an answer it likes to answer the questioner\",\r\n        resolve3: \"_#Finally, Enter the answer you WANT ReTrille to reply everyone when asking about the topic you taught. Click Add Message and wait a few seconds\",\r\n        resolve4: \"_#Make sure TOPIC, KEY word are appeared in question with the same topic and you taught CORRECT spelling, ReTrille doesn't learn misspelled words, It's smart\"\r\n    },\r\n    {\r\n        title: \"This is title of the question\",\r\n        resolve: \"This is body of question we will add some info replay here to users can see it and doing follow\"\r\n    },\r\n    {\r\n        title: \"This is title of the question\",\r\n        resolve: \"This is body of question we will add some info replay here to users can see it and doing follow\"\r\n    },\r\n\r\n]\r\n","export default  [\r\n    {\r\n        title: \"What is ReTrille\",\r\n        resolve: \"_#ReTrille is a web-app that group nDs research and development\",\r\n        resolve1: \"_#You can TALK with ReTriable through microphones that are SUPPORTED by ReTrille languages\",\r\n        resolve2: \"_#Writing Voice can CONVERT the language you speak into TEXT\",\r\n        resolve3: \"_#You can TEACH ReTrille, It will answer when the question is CLOSE TO you teach, there are many answers from MANY others, it LIKES which answer will answer you that question\"\r\n    },\r\n    {\r\n        title: \"How to talk to ReTrille\",\r\n        resolve: `_#An account is required to Register atCHAP APP`,\r\n        resolve1: \"_#At ReTrille interface CLICK the microphone in the bottom corner to SPEAK\",\r\n        resolve2: \"_#Other supporting tools are in the RIGHT toolbar\",\r\n    },\r\n    {\r\n        title: \"How to use Writting Voice\",\r\n        resolve: \"_#At the Writting Voice interface CLICK the microphone and SAY\",\r\n        resolve1: \"_#Remember to configure the microphone language at ReTrille\",\r\n        resolve2: \"_#Other supporting tools are in the RIGHT toolbar\",\r\n    },\r\n    {\r\n        title: \"How to teach ReTrille to answer new questions\",\r\n        resolve: `_#An account is required to Register at CHAP APP`,\r\n        resolve1: \"_#At the Add Message interface, SELECT the available Topic or ENTER a new Topic (minimum 2 characters). Default language is English, can be changed to resemble your language\",\r\n        resolve2: \"_#Next enter the KEY word, which is the phrase to COMPARE with the question you or anyone talking to ReTrille, so that ReTrille can choose an answer it likes to answer the questioner\",\r\n        resolve3: \"_#Finally, Enter the answer you WANT ReTrille to reply everyone when asking about the topic you taught. Click Add Message and wait a few seconds\",\r\n        resolve4: \"_#Make sure TOPIC, KEY word are appeared in question with the same topic and you taught CORRECT spelling, ReTrille doesn't learn misspelled words, It's smart\"\r\n    },\r\n    {\r\n        title: \"This is title of the question\",\r\n        resolve: \"This is body of question we will add some info replay here to users can see it and doing follow\"\r\n    },\r\n    {\r\n        title: \"This is title of the question\",\r\n        resolve: \"This is body of question we will add some info replay here to users can see it and doing follow\"\r\n    },\r\n\r\n]\r\n","export default  [\r\n    {\r\n        title: \"What is ReTrille\",\r\n        resolve: \"_#ReTrille is a web-app that group nDs research and development\",\r\n        resolve1: \"_#You can TALK with ReTriable through microphones that are SUPPORTED by ReTrille languages\",\r\n        resolve2: \"_#Writing Voice can CONVERT the language you speak into TEXT\",\r\n        resolve3: \"_#You can TEACH ReTrille, It will answer when the question is CLOSE TO you teach, there are many answers from MANY others, it LIKES which answer will answer you that question\"\r\n    },\r\n    {\r\n        title: \"How to talk to ReTrille\",\r\n        resolve: `_#An account is required to Register atCHAP APP`,\r\n        resolve1: \"_#At ReTrille interface CLICK the microphone in the bottom corner to SPEAK\",\r\n        resolve2: \"_#Other supporting tools are in the RIGHT toolbar\",\r\n    },\r\n    {\r\n        title: \"How to use Writting Voice\",\r\n        resolve: \"_#At the Writting Voice interface CLICK the microphone and SAY\",\r\n        resolve1: \"_#Remember to configure the microphone language at ReTrille\",\r\n        resolve2: \"_#Other supporting tools are in the RIGHT toolbar\",\r\n    },\r\n    {\r\n        title: \"How to teach ReTrille to answer new questions\",\r\n        resolve: `_#An account is required to Register at CHAP APP`,\r\n        resolve1: \"_#At the Add Message interface, SELECT the available Topic or ENTER a new Topic (minimum 2 characters). Default language is English, can be changed to resemble your language\",\r\n        resolve2: \"_#Next enter the KEY word, which is the phrase to COMPARE with the question you or anyone talking to ReTrille, so that ReTrille can choose an answer it likes to answer the questioner\",\r\n        resolve3: \"_#Finally, Enter the answer you WANT ReTrille to reply everyone when asking about the topic you taught. Click Add Message and wait a few seconds\",\r\n        resolve4: \"_#Make sure TOPIC, KEY word are appeared in question with the same topic and you taught CORRECT spelling, ReTrille doesn't learn misspelled words, It's smart\"\r\n    },\r\n    {\r\n        title: \"This is title of the question\",\r\n        resolve: \"This is body of question we will add some info replay here to users can see it and doing follow\"\r\n    },\r\n    {\r\n        title: \"This is title of the question\",\r\n        resolve: \"This is body of question we will add some info replay here to users can see it and doing follow\"\r\n    },\r\n\r\n]\r\n","import React, { Component } from \"react\";\r\nimport { Typography, Container, IconButton } from \"@material-ui/core\";\r\n// import img from \"../../images/svgnds.png\";\r\nimport _ from 'lodash'\r\n\r\nimport home from '../data.js/dataListQuestionsHome'\r\nimport music from '../data.js/dataListQuestionsMusic'\r\nimport weather from '../data.js/dataListQuestionsWeather'\r\nimport chat from '../data.js/dataListQuestionsChat'\r\nimport retrille from '../data.js/dataListQuestionsReTrille'\r\n\r\nimport { RiSubtractLine } from \"react-icons/ri\";\r\nimport { BsPlus } from \"react-icons/bs\";\r\n\r\n\r\nconst ref = React.createRef();\r\nexport default class ContributorsApp extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            questKey: [],\r\n            showBtnBackToTop: false,\r\n            linkActive: null\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        window.addEventListener('scroll', this.toggleVisibility);\r\n        \r\n    }\r\n    componentDidUpdate(){\r\n        console.log(\"link active: \", this.state.linkActive)\r\n    }\r\n\r\n  \r\n    toggleVisibility = () => {\r\n       if(window.pageYOffset > 440){\r\n           this.setState({\r\n               showBtnBackToTop: true\r\n           })\r\n       }else{\r\n        this.setState({\r\n            showBtnBackToTop: false\r\n        })\r\n       }\r\n    }\r\n  \r\n    scrollToTop() {\r\n        console.log(this.state.showBtnBackToTop, window.pageYOffset, typeof(window.pageYOffset))\r\n        ref.current.scrollIntoView({\r\n            behavior: 'smooth',\r\n            block: 'start',\r\n        })\r\n        \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    toggleActiveQuestion = (key) => {\r\n        // console.log(key)\r\n\r\n        const {questKey} = this.state;\r\n        if(questKey.includes(key.toString())){\r\n\r\n            let temps = _.difference(questKey, [key.toString()])\r\n            // console.log(temps)\r\n            this.setState({\r\n                questKey: temps\r\n            }) \r\n\r\n        }else{\r\n\r\n            let temps = _.uniq([...questKey, key.toString()]);\r\n            // console.log(temps)\r\n            this.setState({\r\n                questKey: temps\r\n            })  \r\n\r\n        }\r\n        \r\n    }\r\n    render(){\r\n        let listQuestionsHome = [];\r\n        let listQuestionsMusic = [];\r\n        let listQuestionsWeather = [];\r\n        let listQuestionsChat = [];\r\n        let listQuestionsReTrille = [];\r\n        Object.keys(home).forEach(function(key) {\r\n            listQuestionsHome.push(home[key])\r\n        });\r\n        Object.keys(music).forEach(function(key) {\r\n            listQuestionsMusic.push(music[key])\r\n        });\r\n        Object.keys(weather).forEach(function(key) {\r\n            listQuestionsWeather.push(weather[key])\r\n        });\r\n        Object.keys(chat).forEach(function(key) {\r\n            listQuestionsChat.push(chat[key])\r\n        });\r\n        Object.keys(retrille).forEach(function(key) {\r\n            listQuestionsReTrille.push(retrille[key])\r\n        });\r\n      \r\n        return (\r\n\r\n            <div className=\"privacy-app\" >\r\n                  <Container>\r\n              <header>\r\n                <Typography variant=\"h4\" gutterBottom={true}>\r\n                    Help-Instruction{\" \"}\r\n                </Typography>\r\n              </header>\r\n              <div className=\"deliver\"></div>\r\n              <br />\r\n\r\n              <section>\r\n              {this.state.showBtnBackToTop && (\r\n            <div className=\"btn-back-to-top\">\r\n                <div className=\"btn-inside\" onClick={() => this.scrollToTop()}>\r\n                   <span></span>\r\n                </div>\r\n            </div>)}\r\n                <Typography gutterBottom={true} variant=\"subtitle1\">\r\n                You have questions or don't know how to use this app! Please look for a solution in the list below.\r\n                In case there isn't any solution, please contact us <a href='http://localhost:3000/about/feedback' ><b>here</b></a> for support.\r\n                (Bn c thc mc hoc khng bit cch s dng ng dng ny! hy tm kim mt gii php trong danh sch di y.\r\n                Trng hp khng c bt k gii php no, lm n lin h vi chng ti <a href='http://localhost:3000/about/feedback' ><b>ti y</b></a>  c h tr)\r\n                  <br />\r\n                </Typography>\r\n                <div className=\"list-instruction\">\r\n                <Typography variant=\"h6\" gutterBottom={true}>\r\n                    General{\" \"}\r\n                </Typography>\r\n                <div className=\"instruction-App\" ref={ref}>\r\n                    {listQuestionsHome.map((quest, key) =>{\r\n                        \r\n                        return <div key={key} className={`instruction ${(this.state.questKey.includes(key.toString()) ? 'active' : null)}`}>\r\n                            <div onClick={() => this.toggleActiveQuestion(key)} className=\"header-quest\">\r\n                                <span>{quest.title}</span>\r\n                                <span>\r\n                                    <IconButton>\r\n                                        { (this.state.questKey.includes(key.toString())) ? <RiSubtractLine /> : <BsPlus /> }\r\n                                    </IconButton>\r\n                                </span>\r\n                            </div>\r\n                            {/* <div className={`body-quest ${this.state.activeQuestTxt ? \"active\" : \"\"}`}> */}\r\n                            <div className={`body-quest ${(this.state.questKey.includes(key.toString()) ? 'active' : null)}`}>\r\n                                {quest.resolve}<br />{quest.resolve1}<br />{quest.resolve2}<br />{quest.resolve3}<br />{quest.resolve4}\r\n                            </div>\r\n                        </div>\r\n\r\n                    })}\r\n                </div>\r\n                <Typography variant=\"h6\" gutterBottom={true}>\r\n                    Topic ReTrille{\" \"}\r\n                </Typography>\r\n                <div className=\"instruction-App\">\r\n                    {listQuestionsReTrille.map((quest, key) =>{\r\n                        \r\n                        return <div key={key} className={`instruction ${(this.state.questKey.includes(key.toString()) ? 'active' : null)}`}>\r\n                            <div onClick={() => this.toggleActiveQuestion(key)} className=\"header-quest\">\r\n                                <span>{quest.title}</span>\r\n                                <span>\r\n                                    <IconButton>\r\n                                        { (this.state.questKey.includes(key.toString())) ? <RiSubtractLine /> : <BsPlus /> }\r\n                                    </IconButton>\r\n                                </span>\r\n                            </div>\r\n                            {/* <div className={`body-quest ${this.state.activeQuestTxt ? \"active\" : \"\"}`}> */}\r\n                            <div className={`body-quest ${(this.state.questKey.includes(key.toString()) ? 'active' : null)}`}>\r\n                                {quest.resolve}<br />{quest.resolve1}<br />{quest.resolve2}<br />{quest.resolve3}<br />{quest.resolve4}\r\n                            </div>\r\n                        </div>\r\n\r\n                    })}\r\n                </div>\r\n                <Typography variant=\"h6\" gutterBottom={true}>\r\n                    Topic Chat{\" \"}\r\n                </Typography>\r\n                <div className=\"instruction-App\">\r\n                    {listQuestionsChat.map((quest, key) =>{\r\n                        \r\n                        return <div key={key} className={`instruction ${(this.state.questKey.includes(key.toString()) ? 'active' : null)}`}>\r\n                            <div onClick={() => this.toggleActiveQuestion(key)} className=\"header-quest\">\r\n                                <span>{quest.title}</span>\r\n                                <span>\r\n                                    <IconButton>\r\n                                        { (this.state.questKey.includes(key.toString())) ? <RiSubtractLine /> : <BsPlus /> }\r\n                                    </IconButton>\r\n                                </span>\r\n                            </div>\r\n                            {/* <div className={`body-quest ${this.state.activeQuestTxt ? \"active\" : \"\"}`}> */}\r\n                            <div className={`body-quest ${(this.state.questKey.includes(key.toString()) ? 'active' : null)}`}>\r\n                                {quest.resolve}<br />{quest.resolve1}<br />{quest.resolve2}<br />{quest.resolve3}<br />{quest.resolve4}\r\n                            </div>\r\n                        </div>\r\n\r\n                    })}\r\n                </div>\r\n                <Typography variant=\"h6\" gutterBottom={true}>\r\n                    Topic Music{\" \"}\r\n                </Typography>\r\n                <div className=\"instruction-App\">\r\n                    {listQuestionsMusic.map((quest, key) =>{\r\n                        \r\n                        return <div key={key} className={`instruction ${(this.state.questKey.includes(key.toString()) ? 'active' : null)}`}>\r\n                            <div onClick={() => this.toggleActiveQuestion(key)} className=\"header-quest\">\r\n                                <span>{quest.title}</span>\r\n                                <span>\r\n                                    <IconButton>\r\n                                        { (this.state.questKey.includes(key.toString())) ? <RiSubtractLine /> : <BsPlus /> }\r\n                                    </IconButton>\r\n                                </span>\r\n                            </div>\r\n                            {/* <div className={`body-quest ${this.state.activeQuestTxt ? \"active\" : \"\"}`}> */}\r\n                            <div className={`body-quest ${(this.state.questKey.includes(key.toString()) ? 'active' : null)}`}>\r\n                                {quest.resolve}<br />{quest.resolve1}<br />{quest.resolve2}<br />{quest.resolve3}<br />{quest.resolve4}\r\n                            </div>\r\n                        </div>\r\n\r\n                    })}\r\n                </div>\r\n                <Typography variant=\"h6\" gutterBottom={true}>\r\n                    Topic Weather{\" \"}\r\n                </Typography>\r\n                <div className=\"instruction-App\">\r\n                    {listQuestionsWeather.map((quest, key) =>{\r\n                        \r\n                        return <div key={key} className={`instruction ${(this.state.questKey.includes(key.toString()) ? 'active' : null)}`}>\r\n                            <div onClick={() => this.toggleActiveQuestion(key)} className=\"header-quest\">\r\n                                <span>{quest.title}</span>\r\n                                <span>\r\n                                    <IconButton>\r\n                                        { (this.state.questKey.includes(key.toString())) ? <RiSubtractLine /> : <BsPlus /> }\r\n                                    </IconButton>\r\n                                </span>\r\n                            </div>\r\n                            {/* <div className={`body-quest ${this.state.activeQuestTxt ? \"active\" : \"\"}`}> */}\r\n                            <div className={`body-quest ${(this.state.questKey.includes(key.toString()) ? 'active' : null)}`}>\r\n                                {quest.resolve}<br />{quest.resolve1}<br />{quest.resolve2}<br />{quest.resolve3}<br />{quest.resolve4}\r\n                            </div>\r\n                        </div>\r\n\r\n                    })}\r\n                </div>\r\n                  \r\n                </div>\r\n              </section>\r\n            </Container>\r\n            </div>\r\n          );\r\n        }\r\n   \r\n}\r\n","import React, { Component } from 'react';\r\nimport {Link, Route, Switch } from 'react-router-dom'\r\nimport {Helmet} from \"react-helmet\";\r\nimport DescriApp from \"../../src/components/aboutApp/DescriApp\" ;\r\nimport FeedbackApp from \"../../src/components/aboutApp/FeedbackApp\" ;\r\nimport ContributorsApp from \"../../src/components/aboutApp/ContributorsApp\" ;\r\nimport PrivateApp from \"../../src/components/aboutApp/PrivateApp\" ;\r\nimport HelpApp from \"../../src/components/aboutApp/HelpApp\" ;\r\nimport img from \"../images/svgnds.png\";\r\nimport { Grid } from '@material-ui/core';\r\nimport { IoLogoFacebook, IoLogoTwitter, IoLogoLinkedin, IoLogoGithub } from 'react-icons/io';\r\nimport { FaAlignLeft } from 'react-icons/fa';\r\nexport default class About extends Component {\r\n\tstate={\r\n\t\tisOpen:false\r\n\t}\r\n\thandleToggle = () =>{\r\n\tthis.setState({isOpen:!this.state.isOpen})\r\n\t\r\n};\r\n\t render() {\r\n\t\t\r\n\t \treturn(\r\n\r\n\t\t\t<div className=\"about-app\">\r\n\t\t\t\t<Helmet>\r\n\t\t\t\t\t<title>About | nDsBuilding</title>\r\n\t\t\t\t</Helmet>\r\n\t\t\t\t<div className=\"video-hero jquery-background-video-wrapper demo-video-wrapper\">\r\n\t\t\t\t\t<video className=\"jquery-background-video\" muted autoPlay loop poster=\"https://images.pexels.com/photos/316093/pexels-photo-316093.jpeg?auto=compress&cs=tinysrgb&h=750&w=1260\">\r\n\t\t\t\t\t\t<source src=\"https://static.videezy.com/system/resources/previews/000/038/963/original/190816-samutprakarn.mp4\"/>\r\n\t\t\t\t\t\t<source src=\"https://static.videezy.com/system/resources/previews/000/022/198/original/underwater-effect-background.mp4\" />\r\n\t\t\t\t\t</video>\r\n\t\t\t\r\n\t\t\t\t<div className=\"page-width\">\r\n\t\t\t\t\t<div className=\"video-hero--content\">\r\n\t\t\t\t\t<h2>nDs-App</h2>\r\n\t\t\t\t\t<p>operate according to the universe</p>\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\r\n\t\t\r\n\t\t\t<div className=\"content\">\r\n\r\n\t\t\t\t<div className=\"about-navbar\">\r\n\t\t\t\t\t<div className=\"nav-header\">\r\n\r\n\t\t\t\t\t\t<button type=\"button\" \r\n\t \t\t\t\t\t\tclassName=\"nav-btn\"\r\n\t\t\t\t\t\t\tonClick={this.handleToggle}\r\n\t\t\t\t\t\t>\r\n\t \t\t\t\t\t\t<FaAlignLeft className=\"nav-icon\" />\r\n\t \t\t\t\t\t</button>\r\n\t\t\t\t\t\t<div className=\"toggle-lang\">\r\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" width=\"25\" height=\"25\" aria-hidden=\"true\" focusable=\"false\" fill=\"currentColor\">\r\n\t\t\t\t\t\t\t<path d=\"M217.982 201.586h-64.499c-5.537 0-10.026 4.489-10.026 10.026s4.489 10.026 10.026 10.026h53.547c-4.72 25.263-26.935 44.446-53.547 44.446-30.037 0-54.473-24.436-54.473-54.473s24.436-54.473 54.473-54.473c14.55 0 28.229 5.667 38.518 15.955 3.916 3.916 10.264 3.916 14.178 0 3.916-3.916 3.916-10.264 0-14.178-14.077-14.077-32.791-21.829-52.697-21.829-41.094 0-74.525 33.431-74.525 74.525 0 41.094 33.431 74.525 74.525 74.525s74.525-33.431 74.525-74.525c.001-5.536-4.488-10.025-10.025-10.025z\"></path>\r\n\t\t\t\t\t\t\t<path d=\"M470.331 92.24H269.728l-26.935-81.355a10.025 10.025 0 00-9.518-6.875H41.669C18.693 4.01 0 22.703 0 45.679v332.412c0 22.976 18.693 41.669 41.669 41.669h203.145l27.073 81.369a10.026 10.026 0 009.513 6.861h188.932c22.976 0 41.669-18.693 41.669-41.669V133.909c-.001-22.976-18.694-41.669-41.67-41.669zM41.669 399.708c-11.919 0-21.616-9.697-21.616-21.616V45.679c0-11.919 9.697-21.616 21.616-21.616h184.364l70.691 213.516a.366.366 0 00.015.043l53.664 162.086H41.669zm295.78-116.433c.805 1.11 10.824 14.877 26.355 34.066-4.377 5.756-9.015 11.474-13.91 17.036l-29.712-89.74h87.441c-6.196 13.031-16.938 33.813-31.692 55.736-13.553-16.921-22.069-28.622-22.249-28.87-3.251-4.482-9.519-5.481-14.002-2.23-4.482 3.25-5.48 9.518-2.231 14.002zM265.946 419.76h75.162l-55.503 59.084-19.659-59.084zm226.002 46.561c0 11.919-9.697 21.616-21.616 21.616H304.575l67.015-71.339-.004-.003c.293-.312.571-.64.823-.991a10.025 10.025 0 001.39-9.022l-16.688-50.402c7.073-7.406 13.68-15.143 19.805-22.965 13.299 15.772 29.037 33.446 45.778 50.187 1.957 1.957 4.524 2.937 7.089 2.937s5.132-.979 7.089-2.937c3.916-3.916 3.916-10.264 0-14.178-17.461-17.461-34.013-36.244-47.687-52.632 21.251-30.503 35.033-59.504 40.535-71.954h21.454c5.537 0 10.026-4.489 10.026-10.026s-4.489-10.026-10.026-10.026h-66.173v-18.047c0-5.537-4.489-10.026-10.026-10.026s-10.026 4.489-10.026 10.026v18.046h-51.406l-37.178-112.292H470.33c11.919 0 21.616 9.697 21.616 21.616v332.412z\"></path>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className={this.state.isOpen ? \"nav-items show-nav-items\" : \"nav-items\"} >\r\n\t\t\t\t\t\t<Link to=\"/ndsappbeta/about\">\r\n\t\t\t\t\t\t\t<div className=\"nav-item\">\r\n\t\t\t\t\t\t\t\tDescription\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link to=\"/ndsappbeta/about/contributors\">\r\n\t\t\t\t\t\t\t<div className=\"nav-item\">\r\n\t\t\t\t\t\t\t\tContributors\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link to=\"/ndsappbeta/about/feedback\">\r\n\t\t\t\t\t\t\t<div className=\"nav-item\">\r\n\t\t\t\t\t\t\t\tFeedbackApp\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link to=\"/ndsappbeta/about/privacy\">\r\n\t\t\t\t\t\t\t<div className=\"nav-item\">\r\n\t\t\t\t\t\t\t\tPrivacy & Policy\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link to=\"/ndsappbeta/about/help\">\r\n\t\t\t\t\t\t\t<div className=\"nav-item\">\r\n\t\t\t\t\t\t\t\tInstruction-Help\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"about-main\">\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route exact path=\"/ndsappbeta/about\">\r\n\t\t\t\t\t\t\t<DescriApp />\r\n\t\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t\t<Route exact path=\"/ndsappbeta/about/privacy\">\r\n\t\t\t\t\t\t\t<PrivateApp />\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Route exact path=\"/ndsappbeta/about/feedback\">\r\n\t\t\t\t\t\t\t<FeedbackApp />\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t{/*<Route path=\"/about/Otherlink\" component={DonatePage} /> */}\r\n\t\t\t\t\t\t<Route exact path=\"/ndsappbeta/about/contributors\">\r\n\t\t\t\t\t\t\t<ContributorsApp />\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route exact path=\"/ndsappbeta/about/help\">\r\n\t\t\t\t\t\t\t<HelpApp />\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"footer-app\">\r\n\t\t\t\t<div className=\"footer-app-left\">\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t// className={\"playlistHeader\"}\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\tdirection=\"column\"\r\n\t\t\t\t\t\talignItems=\"center\"\r\n\t\t\t\t\t\tjustify=\"space-between\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"logo-left\">\r\n\t\t\t\t\t\t\t<img src={img} alt=\"logo Footer\" />\r\n\t\t\t\t\t\t\t<span>nDs-App</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Link to={\"\"}>\r\n\t\t\t\t\t\t\t<IoLogoTwitter className=\"cssIcons\" />\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link to={\"\"}>\r\n\t\t\t\t\t\t\t<IoLogoFacebook className=\"cssIcons\" />\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link to={\"\"}>\r\n\t\t\t\t\t\t\t<IoLogoLinkedin className=\"cssIcons\" />\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link to={\"\"}>\r\n\t\t\t\t\t\t\t<IoLogoGithub className=\"cssIcons\" />\r\n\t\t\t\t\t\t</Link>\r\n\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"footer-app-mid\">\r\n\t\t\t\t\t<div className=\"list-footer\">\r\n\t\t\t\t\t\t<div className=\"title-list-footer\">nDsApp</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/ndsappbeta/\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\tHomeApp\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/ndsappbeta/music\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\tMusicApp\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/ndsappbeta/chat\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\tChatApp\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/ndsappbeta/weather\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\tWeatherApp\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/ndsappbeta/retrille\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\tRetrille\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"list-footer\">\r\n\t\t\t\t\t\t<div className=\"title-list-footer\">External</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"https://github.com/\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\tGitHub\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"https://www.mongodb.com/\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\tMongoDB\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"https://reactjs.org/\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\tReactJs\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"https://nodejs.org/\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\tNodeJs\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"https://id.heroku.com/\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\tHeroku\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"list-footer\">\r\n\t\t\t\t\t\t<div className=\"title-list-footer\">About</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/ndsappbeta/about\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\tDescription\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/ndsappbeta/about/feedback\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\tFeedback\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/ndsappbeta/about/contributors\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\tContributors\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/ndsappbeta/about/privacy\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\tPrivacy & Policy\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/ndsappbeta/about/help\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\tHelp-Instruction\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"footer-app-light\">\r\n\t\t\t\t<div className=\"footer-app-left-light\">\r\n\t\t\t\t\t<p>Allowed to build and develop under the management of nDs</p>\r\n\t\t\t\t\t<p>XaLoHaNoi, LinhTrung, ThuDuc, HCMC</p>\r\n\t\t\t\t\t<p>Publicly Released: ThuDuc,Day Month Year</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"footer-app-right-light\">\r\n\t\t\t\t\tnDsApp  2020 nDs.,SDG. All rights reserved\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"mess-nds\">\r\n\t\t\t\t<p>THANK YOU FOR COMING TO US</p>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t</div>\r\n\t \t);\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\n// import Hero from \"../components/Hero\";\r\n// import {Link} from 'react-router-dom';\r\n// import Banner from '../components/Banner';\r\nimport {Helmet} from \"react-helmet\";\r\n// import Loading from '../components/Loading';\r\nimport LoadingMini from '../components/Loading-mini';\r\n\r\n//import {Grid, Cell, ProgressBar} from 'react-mdl';\r\nclass Maintenance extends Component {\r\n\t render() {\r\n\t \treturn(\r\n\t\t\t<>\r\n            <Helmet>\r\n\t\t\t\t<title>Maintenance | nDsBuilding</title>\r\n\t\t\t</Helmet>\r\n            <div className=\"main-maintenance\">\r\n                <div className=\"header-maintenance\">\r\n                <LoadingMini />\r\n               \r\n                <div className=\"container-maintenance\">\r\n                    <div className=\"yellow-maintenance\"></div>\r\n                    <div className=\"red-maintenance\"></div>\r\n                    <div className=\"blue-maintenance\"></div>\r\n                    <div className=\"violet-maintenance\"></div>\r\n                </div>\r\n                \r\n                <span>\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"70\" viewBox=\"0 0 100 68\">\r\n                    <g id=\"large\">\r\n                    <path fill=\"none\" stroke=\"#F44\" d=\"M55.8 38.5l6.2-1.2c0-1.8-.1-3.5-.4-5.3l-6.3-.2c-.5-2-1.2-4-2.1-6l4.8-4c-.9-1.6-1.9-3-3-4.4l-5.6 3c-1.3-1.6-3-3-4.7-4.1l2-6A30 30 0 0 0 42 8l-3.3 5.4c-2-.7-4.2-1-6.2-1.2L31.3 6c-1.8 0-3.5.1-5.3.4l-.2 6.3c-2 .5-4 1.2-6 2.1l-4-4.8c-1.6.9-3 1.9-4.4 3l3 5.6c-1.6 1.3-3 3-4.1 4.7l-6-2A32.5 32.5 0 0 0 2 26l5.4 3.3c-.7 2-1 4.2-1.2 6.2L0 36.7c0 1.8.1 3.5.4 5.3l6.3.2c.5 2 1.2 4 2.1 6l-4.8 4c.9 1.6 1.9 3 3 4.4l5.6-3c1.4 1.6 3 3 4.7 4.1l-2 6A30.5 30.5 0 0 0 20 66l3.4-5.4c2 .7 4 1 6.1 1.2l1.2 6.2c1.8 0 3.5-.1 5.3-.4l.2-6.3c2-.5 4-1.2 6-2.1l4 4.8c1.6-.9 3-1.9 4.4-3l-3-5.6c1.6-1.3 3-3 4.1-4.7l6 2A32 32 0 0 0 60 48l-5.4-3.3c.7-2 1-4.2 1.2-6.2zm-13.5 4a12.5 12.5 0 1 1-22.6-11 12.5 12.5 0 0 1 22.6 11z\"/>\r\n                    <animateTransform attributeName=\"transform\" begin=\"0s\" dur=\"3s\" from=\"0 31 37\" repeatCount=\"indefinite\" to=\"360 31 37\" type=\"rotate\"/>\r\n                    </g>\r\n                    <g id=\"small\">\r\n                    <path fill=\"none\" stroke=\"#F44\" d=\"M93 19.3l6-3c-.4-1.6-1-3.2-1.7-4.8L90.8 13c-.9-1.4-2-2.7-3.4-3.8l2.1-6.3A21.8 21.8 0 0 0 85 .7l-3.6 5.5c-1.7-.4-3.4-.5-5.1-.3l-3-5.9c-1.6.4-3.2 1-4.7 1.7L70 8c-1.5 1-2.8 2-3.9 3.5L60 9.4a20.6 20.6 0 0 0-2.2 4.6l5.5 3.6a15 15 0 0 0-.3 5.1l-5.9 3c.4 1.6 1 3.2 1.7 4.7L65 29c1 1.5 2.1 2.8 3.5 3.9l-2.1 6.3a21 21 0 0 0 4.5 2.2l3.6-5.6c1.7.4 3.5.5 5.2.3l2.9 5.9c1.6-.4 3.2-1 4.8-1.7L86 34c1.4-1 2.7-2.1 3.8-3.5l6.3 2.1a21.5 21.5 0 0 0 2.2-4.5l-5.6-3.6c.4-1.7.5-3.5.3-5.1zM84.5 24a7 7 0 1 1-12.8-6.2 7 7 0 0 1 12.8 6.2z\"/>\r\n                    <animateTransform attributeName=\"transform\" begin=\"0s\" dur=\"2s\" from=\"0 78 21\" repeatCount=\"indefinite\" to=\"-360 78 21\" type=\"rotate\"/>\r\n                    </g>\r\n                </svg>\r\n                </span>\r\n                </div>\r\n                <div className=\"body-maintanance\">\r\n                \r\n                <div className=\"desc-maintenance\">\r\n                    <h2>Opps! We are under maintenance</h2>\r\n                    <h5>Our Group are currently performing scheduled maintenance on this App. Sorry for any inconvenience.</h5>\r\n                    <p>And we can't wait for you to see it</p> \r\n                    <p>Feel tree to get in touch and visit again soon</p>\r\n                </div>\r\n                </div>\r\n                <div className=\"footer-maintenance\">\r\n                    Production & Operation by nDs.,SDG\r\n                </div>\r\n            </div>\r\n \t\t\t\t\r\n\t\t\t</>\r\n\t \t\t);\r\n\t }\r\n}\r\nexport default Maintenance;","export default  [\r\n\r\n    {\r\n        title: \"Mt nm mi y ha hn, hin lnh mt cch khn ngoan v nh rng lng ngi lun kh on..\",\r\n        promise: \"Thu phi ngh bn thn tr ct l nim khiu hnh l cm gic an ton cho gia nh\",\r\n        src: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQg0xQBIbI2Z_SF2M_b8_Tr1UJPAmlp5DyKuw&usqp=CAU\"\r\n    },\r\n    {\r\n        title: \"Thng minh l nm c cm xc ca bn thn, quyn r l thu hiu c ngi khc, chm cht cho bn thn, ai cng khc nhau nn khng cn so snh..\",\r\n        promise: \"Khng c li ha cho phn qu ny\",\r\n        src: \"https://img.huffingtonpost.com/asset/5f0b698d2500005108c299c5.png?cache=1ryhwgnSca&ops=1778_1000\"\r\n    },\r\n    {\r\n        title: \"T to ra nim tin, t nim tin mt cch khn ngoan, nim tin l sc mnh c th thay i nhiu th..\",\r\n        promise: \"Na ha lun bnh tm kh ho, chuyn g cng phi t t ngh ra ct li m gii quyt, nng tnh ch lm mi th ri b\",\r\n        src: \"https://digitalcampaignsstorage.blob.core.windows.net/change4life/production/recipe/image/94/64b11a513160acf282c14c86c0abd8bd.jpg\"\r\n    },\r\n    {\r\n        title: \"Thu khng c tranh n vi b con, n ht phn con mi th sao m n  ln c..\",\r\n        promise: \"Na ha s lun nhng nhn C46, khng dnh bt c g ca C46\",\r\n        src: \"https://lh3.googleusercontent.com/zCaM3FsOMuXlSUHNFGYdsBJilnJbLYNs3GicvjwzHrMhEDP_uNHIB-bRGC07rUX2sM97hVWUS56OP2u9tW_7lXzSPPI2=w1000\"\r\n    },\r\n    {\r\n        title: \"Thu phi i ng ng gi, khng c ng mun, Ku ng l phi off game  ng..\",\r\n        promise: \"Na ha s lun nghe li C46, khng ci li cu no nu ng\",\r\n        src: \"https://upload.wikimedia.org/wikipedia/commons/a/a3/Eq_it-na_pizza-margherita_sep2005_sml.jpg\"\r\n    },\r\n    {\r\n        title: \"Nu c thc gic phi nhm mt v ng li ngay khng c thc, i lm li ng gc..\",\r\n        promise: \"Na ha s lun ng tht ngon khng thc na m, 5h sng c dy cng ng li cho  gic\",\r\n        src: \"https://wi.wallpapertip.com/wsimgs/27-276821_happy-birthday-cake-wallpaper-beautiful-birthday-real-cakes.jpg\"\r\n       \r\n    },\r\n    {\r\n        title: \"Ti v chm con hi m th no, bt m in thoi, ru cho con b ng sm..\",\r\n        promise: \"Na ha s lun vui v, thng yu gia nh nh, d c chuyn g i na.\",\r\n        src: \"https://ca-times.brightspotcdn.com/dims4/default/a0cc65a/2147483647/strip/true/crop/500x333+0+0/resize/840x559!/quality/90/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F33%2F65%2F2ddba8bc05df61989244d43f24df%2Fla-fo-review07-ldnuz6nc.jpg\"\r\n    },\r\n    {\r\n        title: \"Thu tp nu n gii ging m, tp chy xe cho rnh, Nu n d thm khng chy xe c l  di di..\",\r\n        promise: \"Na ha lc rnh ti no cng ln thm C46 Hn ci ri mi i ng\",\r\n        src: \"https://paperstreetparlour.com/wp-content/uploads/2019/12/Valentines-Chocolate-Explosion-Cake-Decorating-Class.jpg\"\r\n    },\r\n    {\r\n        title: \"Chuyn Cty th vo Cty gii quyt, mi ngi trong nh ch mun thy Thu vui v, khng quo..\",\r\n        promise: \"Na ha khng tru nhy vi C46, khng chc C46\",\r\n        src: \"https://i.pinimg.com/originals/f6/93/67/f69367284cc5998d5f897c2cbab50a06.jpg\"\r\n    },\r\n    {\r\n        title: \"C chuyn bun phi ni ra cho bn thn bit, khng c t gi mang ut, con n hc theo th khng tt..\",\r\n        promise: \"Na gin g phi ni cho C46, khng gin c chm C46\",\r\n        src: \"https://i.pinimg.com/736x/1d/66/56/1d6656f913029bf69603427b946f20d3.jpg\"\r\n    },\r\n    {\r\n        title: \"Tt Thu khng c nh   ln vip, khng c la ht tin my a nh.. l x cho nDs(Hng) na\",\r\n        promise: \"Na ha ht cho C46 nghe nhiu hn, lm cho C46 gin t nht 1 ln, bt nhy vi C46..\",\r\n        src: \"https://toppng.com/uploads/preview/chocolate-drip-cake-chocolate-explosion-cake-white-chocolate-drip-cake-11563417048uz4veyawn3.png\"\r\n    },\r\n    {\r\n        title: \"Khng c g khng lm c, mi vic u c cch gii quyt, ngh chm v lm phi nhanh v chc chn(phn ny b li nh nDs cha kp sa)..\",\r\n        promise: \"Na ha vi C46 khng c v ngi khc m tht vng, mi th do chnh mnh quyt nh, khng  ai chi phi\",\r\n        src: \"https://tarot.vn/wp-content/uploads/2016/07/123-5960-BLK-L01-300x300.png\"\r\n    },\r\n    {\r\n        title: \"Thu khng c hnh ch account C46 ti na m, sng khng dy ni, ti 23h th cho hn i ng c ri..\",\r\n        promise: \"Na ha C46 ku nhanh l phi nhanh khng c vng vo, pht hn 20 ci nu l khng nghe li C46 ..\",\r\n        src: \"https://i.pinimg.com/736x/dd/2b/11/dd2b11d2245d89968d58251cafe17e19.jpg\"\r\n    },\r\n\r\n]\r\n","import React, { useState } from \"react\";\r\n\r\nimport Banner from \"./Banner\";\r\nimport _ from 'lodash';\r\n\r\nimport birth1 from '../images/birth1.jpg';\r\nimport birth2 from '../images/birth2.jpg';\r\nimport birth3 from '../images/birth3.jpg';\r\nimport birth4 from '../images/birth4.jpg';\r\nimport birth5 from '../images/birth5.jpg';\r\nimport birth6 from '../images/birth6.jpg';\r\nimport birth7 from '../images/birth7.jpg';\r\nimport birth8 from '../images/birth8.jpg';\r\n\r\nimport { FiToggleRight } from 'react-icons/fi';\r\n// import fetchJsonp from \"fetch-jsonp\";\r\nimport Hero from \"./Hero\";\r\n\r\nimport dataWishes from './data.js/dataListWishes'\r\nimport { IconButton, LinearProgress } from \"@material-ui/core\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"../apis/axios\";\r\n\r\n\r\nexport const Wheel = (props) => {\r\n\r\n    const [number, setNumber] = useState(null);\r\n    const [user, setIDUser] = useState(null);\r\n    const [ipClient, setIpClient] = useState(null);\r\n\r\n    const [message, setMessage] = useState(null);\r\n\r\n    // const GeoAPI = \"https://ipapi.co/jsonp\";1ee4f3b489024e8d826db9a66af54bcb\r\n    const GeoAPI = \"https://ipgeolocation.abstractapi.com/v1/?api_key=1ee4f3b489024e8d826db9a66af54bcb\"\r\n\r\n\r\n    const [verify, setVerify] = useState(false)\r\n\r\n    const [error, setError] = useState(null)\r\n    const [msgSym, setmsgSym] = useState(null)\r\n\r\n    const [open, setOpen] = useState([])\r\n    const [isSending, setIsSending] = useState(false)\r\n\r\n\r\n    const [urlAvt, setUrlAvt] = useState(birth2)\r\n\tconst births = [birth1, birth2, birth3, birth4, birth5, birth6, birth7, birth8]\r\n\r\n\r\n    const Wishes = []\r\n    Object.keys(dataWishes).forEach(function(key) {\r\n        Wishes.push(dataWishes[key])\r\n    });\r\n\r\n\r\n    const readOutLoud = (message) => {\r\n        \r\n        const speech = new SpeechSynthesisUtterance();\r\n        let voices = window.speechSynthesis.getVoices();\r\n        speech.text = message;\r\n        speech.volume = 1;\r\n        speech.rate = 0.8;\r\n        speech.pitch = 1;\r\n        speech.lang = \"en-GB\";\r\n        speech.voice = voices[4];\r\n        speech.voiceURI = voices[4];\r\n        window.speechSynthesis.speak(speech);\r\n}\r\n\r\n    const handleChangeAvt = () => {\r\n        // e.preventDefault()\r\n        let temp = Math.floor(Math.random()*births.length)\r\n        setUrlAvt(births[temp])\r\n        readOutLoud(\"Happy Birthday\")\r\n\t\t// console.log(\"chose video url in\", temp)\r\n\r\n    }\r\n\r\n\r\n    const fetchIPclient = async () => {\r\n        \r\n            await fetch(`${GeoAPI}`)\r\n            .then(function(response) {\r\n                return response.json();\r\n              })\r\n              .then(json => {\r\n                    setIpClient(json)\r\n                    // console.log(\"fetch sucessfull is \", json)\r\n              })\r\n              .catch(function(ex) {\r\n                console.log(\"parsing failed\", ex);\r\n              });\r\n\r\n\r\n            const getVerifyFromSessionStore = window.sessionStorage.getItem(\"verify-birthday\");\r\n            console.log(getVerifyFromSessionStore)\r\n            setVerify(getVerifyFromSessionStore || false)\r\n\r\n    };\r\n\r\n    const handleSendMess = async () => {\r\n        setIsSending(true)\r\n        console.log(message)\r\n        \r\n        const post = {\r\n            message: message,\r\n            timestamp: new Date(),\r\n            }\r\n\r\n        if(message && message.length > 3){\r\n            await axios\r\n            .post('/message', post)\r\n            .then(function(response) {\r\n                console.log(response.data.status);\r\n                console.log(response.data.message);\r\n                // also clear the form\r\n                setMessage(null)\r\n                setmsgSym(\"Your Message was Sent to nDs\")\r\n                // setSnackbarMsg(response.data.status);\r\n                setIsSending(false);\r\n                \r\n            })\r\n            .catch(function(error) {\r\n                // console.log(error.response.status);\r\n                if (error.response) {\r\n                if (error.response.status === 429) {\r\n                    alert(\"Message failed to send please try again\")\r\n                    // setSnackbarMsg(\"We accept limited feedback!\");\r\n                }\r\n                }\r\n                setIsSending(false);\r\n            })\r\n            } else {\r\n                setmsgSym(\"Your Message must fill out\")\r\n                setIsSending(false);\r\n            }\r\n        \r\n      \r\n        \r\n    }\r\n\r\n    const sendPromise =  async (promise) => {\r\n\r\n     \r\n        const post = {\r\n            promise: promise,\r\n            timestamp: new Date() + \" by \" + `${ipClient.ip_address +  \" at \" + ipClient.region + \" of \" + ipClient.connection.autonomous_system_organization}`,\r\n            }\r\n      \r\n        await axios\r\n            .post('/promise', post)\r\n            .then(function(response) {\r\n                console.log(response.data.status);\r\n                console.log(response.data.message);\r\n                // setSnackbarMsg(response.data.status);\r\n            \r\n            })\r\n            .catch(function(error) {\r\n                // console.log(error.response.status);\r\n                if (error.response) {\r\n                if (error.response.status === 429) {\r\n                    // setSnackbarMsg(\"We accept limited feedback!\");\r\n                }\r\n                }\r\n            });\r\n    }\r\n\r\n\r\n    const handleSubmit = () => {\r\n\r\n\r\n        if(user === '5A290000-000006A2' && number === 'nalilom'){\r\n            setVerify(true)\r\n            window.sessionStorage.setItem(\"verify-birthday\", true)        \r\n        }\r\n        else {\r\n            setError('Not Valid with THANH THUY')\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    const openGift = (key, promise) => {\r\n        console.log(key, promise)\r\n\r\n       \r\n        if(open.includes(key.toString())){\r\n\r\n            let temps = _.difference(open, [key.toString()])\r\n            // console.log(temps)\r\n           setOpen(temps)\r\n\r\n        }else{\r\n            sendPromise(promise)\r\n\r\n            let temps = _.uniq([...open, key.toString()]);\r\n            // console.log(temps)\r\n            setOpen(temps)\r\n\r\n        }\r\n        \r\n    }\r\n\r\n\r\n    React.useEffect(() => {\r\n        \r\n        fetchIPclient();\r\n        window.speechSynthesis.getVoices();\r\n\r\n    }, [])\r\n\r\n\r\n    \r\n    return <>\r\n\r\n    {\r\n        !verify ? <Hero>\r\n        <Banner title=\"Wheel\" subtitle=\"Funny Birthday for THANH THUY\">\r\n            \r\n         \r\n\r\n        {\r\n            error ? <p className='err-greeting' style={{color: 'rgb(202, 60, 17)'}}>{error}</p> : null\r\n        }\r\n\r\n\r\n\r\n        <form>\r\n            \r\n            <span>\r\n                <h4>Verification for Wheel</h4>\r\n            </span>\r\n                                \r\n            <span>\r\n                <label htmlFor=\"password\">Your ID in Game</label>\r\n                <input \r\n                placeholder=\"ex: 5A290000-00000000\" \r\n                required type=\"text\" name=\"text\"\r\n                value = {user} \r\n                onChange = {({target})=>{\r\n                    setIDUser(target.value)\r\n                }} \r\n                id=\"password\" ></input>\r\n            </span>\r\n                <h4></h4>\r\n            <span>\r\n                \r\n                <label htmlFor=\"repassword\">Your NickName</label>\r\n                <input\r\n                placeholder=\"ex: nickname\"\r\n                required type=\"text\" name=\"text\"\r\n                value = {number}\r\n                onChange = {({target})=> {\r\n                        setNumber(target.value) \r\n                }} \r\n                id=\"repassword\" ></input>\r\n            </span>\r\n            <br/><br />\r\n            <span>\r\n                <button style={{marginTop: '1rem'}} type=\"button\" onClick={() => handleSubmit()} className=\"login-btn\">Submit</button>\r\n            </span>\r\n        \r\n    \r\n        </form>\r\n\r\n        \r\n        </Banner>\r\n    </Hero>\r\n    \r\n    :\r\n\r\n    <div className=\"main-birth\">\r\n      <div className=\"switch-FW-BD\">\r\n            <Link to=\"/ndsappbeta/wheel/firework\">\r\n                <IconButton>\r\n                    <FiToggleRight style={{color: 'rgb(36, 139, 10)'}} />\r\n                </IconButton>\r\n            </Link>\r\n        </div>\r\n      \r\n        <div className=\"header-birth\">\r\n            <h2>THANH THUY</h2>\r\n            <div className=\"avt-birth\" onClick = {() => handleChangeAvt()}>\r\n                <img src={urlAvt} alt=\"avt-birth\" />\r\n            </div>\r\n\r\n            <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/d/dd/Birthday_candles.jpg/1200px-Birthday_candles.jpg\" alt=\"img-header\" />\r\n\r\n\r\n        </div>\r\n  \r\n                \r\n        <div className=\"body-birth\">\r\n            <p>5 Feb ... - 5 Feb 2021..</p>\r\n            <h3>List Gifts form nDs</h3>\r\n\r\n            <div className=\"card-gifts\">\r\n\r\n                {Wishes.map((wish, key) => {\r\n\r\n                    return <div key={key} className=\"card-gift\">\r\n                    <div className=\"header-gift\" onClick= {() => {openGift(key, wish.promise)}}>\r\n                        <img src={wish.src} alt=\"img-gift\" />\r\n                    </div>\r\n                    { (open.includes(key.toString())) ? <div className=\"body-gift\">\r\n                        <p>{wish.title}</p>\r\n                    </div> : null }\r\n                    \r\n                </div>\r\n                })}\r\n               \r\n            </div>\r\n\r\n            <h4>Send Message to nDs</h4>\r\n\r\n            <div className=\"form-sendMessBD\">\r\n\r\n                {msgSym ? <h4 style={{textTransform: 'uppercase', color: 'rgba(28, 158, 10, 0.9)'}}>{msgSym}</h4> : null}\r\n                \r\n                <span>\r\n                    \r\n                    <textarea\r\n                    placeholder=\"Type Your Message\" \r\n                    required type=\"text\" name=\"text\"\r\n                    multiline=\"true\"\r\n                    value = {message}\r\n                    onChange = {({target})=> {\r\n                            setMessage(target.value) \r\n                    }} \r\n                    id=\"repassword\" ></textarea>\r\n\r\n                </span>\r\n                {isSending ? (\r\n                <LinearProgress\r\n                style={{\r\n                    width: \"70%\",\r\n                    transform: \"translateY(-12px)\",\r\n                    borderRadius: \"1px\",\r\n                    display: \"flex\",\r\n                    margin: \"0 auto\",\r\n                }}\r\n            />\r\n          ) : null}\r\n                <br/><br />\r\n                <span>\r\n                    <button type=\"button\" onClick={() => handleSendMess()} className=\"login-btn\">Send Message</button>\r\n                </span>\r\n            </div>\r\n\r\n\r\n        </div>\r\n\r\n\r\n\r\n        <div className=\"footer-birth\">\r\n\r\n            <h4>This is a birthday letter dedicated to Thanh Thuy</h4>\r\n            \r\n            <p>Production & Operation by nDs</p> \r\n\r\n            <p>Network safety and security</p>\r\n\r\n        \r\n        </div>\r\n\r\n    </div>\r\n    }\r\n\r\n\r\n    </>\r\n        \r\n}\r\n \r\n\r\n","import React, { Component } from 'react';\r\nimport { IconButton } from '@material-ui/core';\r\nimport { FiToggleLeft } from 'react-icons/fi';\r\nimport {FaRegStopCircle, FaRegPlayCircle} from 'react-icons/fa';\r\nimport { Link } from 'react-router-dom';\r\nimport song from '../../images/happyny.mp3';\r\n\r\nclass Firework extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.canvas = React.createRef();\r\n    this.state = {\r\n        isPlaySong : true,\r\n        audio : new Audio(song),\r\n    }\r\n    \r\n  }\r\n  componentDidUpdate() {\r\n    this.fancy();\r\n   \r\n  }\r\n\r\n  componentDidMount(){\r\n    this.fancy();\r\n    this.handlePlayMusic()\r\n  }\r\n\r\n\r\n  \r\n  handlePlayMusic = (music) => {\r\n    const {isPlaySong, audio} = this.state\r\n    try {\r\n        audio.pause();\r\n        audio.currentTime = 0;\r\n        this.setState({isPlaySong: true})\r\n    \r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n    audio.play()\r\n    audio.loop = true\r\n    \r\n   \r\n}\r\n\r\nhandleStopMusic = () => {\r\n    const {isPlaySong, audio} = this.state\r\n    audio.pause();\r\n    audio.currentTime = 0;\r\n    this.setState({isPlaySong: false})\r\n}\r\n\r\n\r\nfancy(){\r\n    const PI2 = Math.PI * 2\r\n    const random = (min, max) => Math.random() * (max - min + 1) + min | 0\r\n    const timestamp = _ => new Date().getTime()\r\n\r\n    // container\r\n    class Birthday {\r\n    constructor() {\r\n        this.resize()\r\n\r\n        // create a lovely place to store the firework\r\n        this.fireworks = []\r\n        this.counter = 0\r\n\r\n    }\r\n    \r\n    resize() {\r\n        this.width = canvas.width = window.innerWidth\r\n        let center = this.width / 2 | 0\r\n        this.spawnA = center - center / 4 | 0\r\n        this.spawnB = center + center / 4 | 0\r\n        \r\n        this.height = canvas.height = window.innerHeight\r\n        this.spawnC = this.height * .1\r\n        this.spawnD = this.height * .5\r\n        \r\n    }\r\n    \r\n    onClick(evt) {\r\n        let x = evt.clientX || evt.touches && evt.touches[0].pageX\r\n        let y = evt.clientY || evt.touches && evt.touches[0].pageY\r\n        \r\n        let count = random(3,5)\r\n        for(let i = 0; i < count; i++) this.fireworks.push(new Firework(\r\n            random(this.spawnA, this.spawnB),\r\n            this.height,\r\n            x,\r\n            y,\r\n            random(0, 260),\r\n            random(30, 110)))\r\n            \r\n        this.counter = -1\r\n        \r\n    }\r\n    \r\n    update(delta) {\r\n        ctx.globalCompositeOperation = 'hard-light'\r\n        ctx.fillStyle = `rgba(20,20,20,${ 7 * delta })`\r\n        ctx.fillRect(0, 0, this.width, this.height)\r\n\r\n        ctx.globalCompositeOperation = 'lighter'\r\n        for (let firework of this.fireworks) firework.update(delta)\r\n\r\n        // if enough time passed... create new new firework\r\n        this.counter += delta * 3 // each second\r\n        if (this.counter >= 1) {\r\n        this.fireworks.push(new Firework(\r\n            random(this.spawnA, this.spawnB),\r\n            this.height,\r\n            random(0, this.width),\r\n            random(this.spawnC, this.spawnD),\r\n            random(0, 360),\r\n            random(30, 110)))\r\n        this.counter = 0\r\n        }\r\n\r\n        // remove the dead fireworks\r\n        if (this.fireworks.length > 1000) this.fireworks = this.fireworks.filter(firework => !firework.dead)\r\n\r\n    }\r\n    }\r\n\r\n    class Firework {\r\n    constructor(x, y, targetX, targetY, shade, offsprings) {\r\n        this.dead = false\r\n        this.offsprings = offsprings\r\n\r\n        this.x = x\r\n        this.y = y\r\n        this.targetX = targetX\r\n        this.targetY = targetY\r\n\r\n        this.shade = shade\r\n        this.history = []\r\n    }\r\n    update(delta) {\r\n        if (this.dead) return\r\n\r\n        let xDiff = this.targetX - this.x\r\n        let yDiff = this.targetY - this.y\r\n        if (Math.abs(xDiff) > 3 || Math.abs(yDiff) > 3) { // is still moving\r\n        this.x += xDiff * 2 * delta\r\n        this.y += yDiff * 2 * delta\r\n\r\n        this.history.push({\r\n            x: this.x,\r\n            y: this.y\r\n        })\r\n\r\n        if (this.history.length > 20) this.history.shift()\r\n\r\n        } else {\r\n        if (this.offsprings && !this.madeChilds) {\r\n            \r\n            let babies = this.offsprings / 2\r\n            for (let i = 0; i < babies; i++) {\r\n            let targetX = this.x + this.offsprings * Math.cos(PI2 * i / babies) | 0\r\n            let targetY = this.y + this.offsprings * Math.sin(PI2 * i / babies) | 0\r\n\r\n            birthday.fireworks.push(new Firework(this.x, this.y, targetX, targetY, this.shade, 0))\r\n\r\n            }\r\n\r\n        }\r\n        this.madeChilds = true\r\n        this.history.shift()\r\n        }\r\n        \r\n        if (this.history.length === 0) this.dead = true\r\n        else if (this.offsprings) { \r\n            for (let i = 0; this.history.length > i; i++) {\r\n            let point = this.history[i]\r\n            ctx.beginPath()\r\n            ctx.fillStyle = 'hsl(' + this.shade + ',100%,' + i + '%)'\r\n            ctx.arc(point.x, point.y, 1, 0, PI2, false)\r\n            ctx.fill()\r\n            } \r\n        } else {\r\n        ctx.beginPath()\r\n        ctx.fillStyle = 'hsl(' + this.shade + ',100%,50%)'\r\n        ctx.arc(this.x, this.y, 1, 0, PI2, false)\r\n        ctx.fill()\r\n        }\r\n\r\n    }\r\n    }\r\n\r\n    let canvas = document.getElementById('birthday')\r\n    let ctx = canvas.getContext('2d')\r\n\r\n    let then = timestamp()\r\n\r\n    let birthday = new Birthday\r\n    window.onresize = () => birthday.resize()\r\n    document.onclick = evt => birthday.onClick(evt)\r\n    document.ontouchstart = evt => birthday.onClick(evt);\r\n    (function loop(){\r\n        requestAnimationFrame(loop)\r\n\r\n        let now = timestamp()\r\n        let delta = now - then\r\n\r\n        then = now\r\n        birthday.update(delta / 1000)\r\n        \r\n\r\n    })()\r\n    }\r\n\r\n  \r\n \r\n  render() {\r\n\r\n    return <>\r\n        <div className=\"switch-FW-BD\">\r\n        <Link onClick={() => this.handleStopMusic() } to=\"/ndsappbeta/wheel\">\r\n            <IconButton>\r\n                <FiToggleLeft style={{color: 'rgb(202, 60, 17)'}} /> \r\n            </IconButton>\r\n        </Link>\r\n           \r\n        </div>\r\n        <div className=\"song-control\">\r\n       \r\n            <IconButton>\r\n                {this.state.isPlaySong ? <FaRegStopCircle onClick={ () => this.handleStopMusic()} style={{color: 'rgb(36, 139, 10)'}} /> : <FaRegPlayCircle onClick={ () => this.handlePlayMusic()} style={{color: 'rgb(202, 60, 17)'}} />}\r\n            </IconButton>\r\n       \r\n        </div>\r\n        <div className=\"Wishes-Firework\">\r\n\r\n            <h2>Happy Lunar New Year Tan Suu</h2>\r\n            <h2>Wishes Affluent Family </h2>\r\n            <h2>Funny Birthday</h2>\r\n            <h2>2021</h2>\r\n\r\n        </div>\r\n        \r\n        <canvas id=\"birthday\"></canvas>\r\n\r\n    </>\r\n    \r\n   \r\n  }\r\n}\r\n\r\nexport default Firework;","import React, {Component} from 'react'\r\nimport {Wheel} from '../components/Wheel';\r\nimport Store from '../store';\r\nimport {Route, Switch} from 'react-router-dom';\r\nimport Errors from \"./Error\";\r\n\r\nimport {Helmet} from \"react-helmet\";\r\nimport Firework from '../components/Animation/Firework';\r\n\r\nexport default class Page4 extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            store: new Store(this),\r\n        }\r\n    }\r\n    render(){\r\n        const { store } = this.state;\r\n        return (\r\n            <Switch>\r\n\r\n                <Route exact path=\"/ndsappbeta/wheel\">\r\n                    <>\r\n                    <Wheel store = { store } />\r\n                    <Helmet>\r\n                        <title>Wheel | nDsBuilding</title>\r\n                    </Helmet>\r\n                    </>\r\n                </Route>\r\n\r\n                <Route exact path=\"/ndsappbeta/wheel/firework\">\r\n                    <>\r\n                    <Firework />\r\n                    <Helmet>\r\n                        <title>Firework | nDsBuilding</title>\r\n                    </Helmet>\r\n                    </>\r\n                </Route>\r\n        \r\n                <Route component={Errors} />\r\n            </Switch>\r\n        )   \r\n        }\r\n   \r\n}\r\n","import React, { Component } from 'react';\nimport './App.css';\n// import './style.css';\n\nimport Home from \"./pages/Home\";\n// import Errors from \"./pages/Error\";\nimport {Route, Switch} from 'react-router-dom';\nimport Navbar from './components/Navbar';\n// import Page1 from './pages/Page1';\nimport Page2 from './pages/Page2';\nimport AuthWrapper from \"./pages/AuthWrapper\";\nimport PrivateRoute from \"./pages/PrivateRoute\";\n// import Login from './pages/Login';\nimport Page3 from './pages/Page3';\n// import Page4 from './pages/Page4';\nimport About  from './pages/About';\nimport Maintenance from './pages/Maintenance';\nimport Landing from './pages/Landing';\n\nclass App extends Component {\n\t render() {\n\t \treturn(\n\t\t\t<AuthWrapper>\n\t\t\t\t<Navbar />\n\t\t\t\t<Switch>\n\t\t\t\t\t <PrivateRoute path=\"/ndsappbeta/\" exact={true}>\n\t\t\t\t\t\t<Home />\n\t\t\t\t\t</PrivateRoute>\n\t\t\t\t\t\n\n\t\t\t\t\t{/* <Route path=\"/weather\">\n\t\t\t\t\t\t<Page1 />\n\t\t\t\t\t</Route>\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t<Route path=\"/retrille\">\n\t\t\t\t\t\t<Page4 />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path=\"/login\">\n\t\t\t\t\t\t<Login/>\n\t\t\t\t\t</Route> \n\t\t\t\t\t*/}\n\t\t\t\t\t<Route path=\"/ndsappbeta/chat\">\n\t\t\t\t\t\t<Page3 />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path=\"/ndsappbeta/music\">\n\t\t\t\t\t\t<Page2 />\n\t\t\t\t\t</Route>\n\n\t\t\t\t\t<Route path=\"/ndsappbeta/wheel\">\n\t\t\t\t\t\t<Landing />\n\t\t\t\t\t</Route> \n\n\t\t\t\t\t<Route path=\"/ndsappbeta/about\">\n\t\t\t\t\t\t<About/>\n\t\t\t\t\t</Route>\n\t\t\n\t\t\t\t\t{/* <Route component={Errors} /> */}\n\t\t\t\t\t<Route component={Maintenance} />\n\t\t\t\t</Switch>\n\t\t\t</AuthWrapper>\t\t\t\n\n  \t\t);\n\t}\n}\n\nexport default App;\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React, { useState } from 'react';\r\n\r\n\r\nconst Notification = (props) => {\r\n    const [exit, setExit] = useState()\r\n    const [width, setWidth] = useState(0)\r\n    const [intervalID, setIntervalID] = useState(null);\r\n\r\n    const handleStartTimer = () => {\r\n        const id = setInterval(() => {\r\n            setWidth((prev) => {\r\n                if (prev < 100){\r\n                    return prev + 0.5\r\n                }\r\n                clearInterval(id)\r\n                return prev\r\n            })\r\n        }, 20)\r\n        setIntervalID(id)\r\n    }\r\n\r\n    const handlePauseTimer = () => {\r\n        clearInterval(intervalID)\r\n    }\r\n\r\n    const handleCloseNotification = () => {\r\n        handlePauseTimer();\r\n        setExit(true);\r\n        setTimeout(() => {\r\n            // props.clearNotification(`${props.id}`)\r\n            // console.log(`${props.id}`)\r\n            console.log(\"remove: \" , props.id)\r\n            props.dispatch({\r\n                type: \"REMOVE_NOTIFICATION\",\r\n                id: props.id\r\n            })\r\n        }, 4000)\r\n\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        if(width === 100) {\r\n            handleCloseNotification();\r\n        }\r\n    }, [width])\r\n    React.useEffect(() => {\r\n        handleStartTimer()\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <div onMouseEnter={handlePauseTimer} onMouseLeave={handleStartTimer}\r\n         className={`notification-item ${props.type} ${exit ? \"exit\" : \"\"}`}>\r\n            <p>{props.message}</p>\r\n            <div className={\"bar\"} style = {{width: `${width}%`}}></div>\r\n        </div>\r\n    )\r\n};\r\nexport default Notification;","import React, { useReducer } from 'react'\r\nimport {ObjectID} from '../helpers/objectid';\r\nimport Notification from './Notification';\r\n\r\n\r\n// export const NotificationContext = createContext();\r\n\r\nconst NotificationProvider = (props) => {\r\n    const [state, dispatch] = useReducer((state, action) => {\r\n        switch (action.type) {\r\n            case \"ADD_NOTIFICATION\":\r\n                return [...state,{...action.payload}];\r\n            case \"REMOVE_NOTIFICATION\":\r\n                return state.filter(el => el.id !== action.id);\r\n            default:\r\n                return state;\r\n        }\r\n      \r\n    }, [\r\n        // {\r\n        //     id: new ObjectID().toString(),\r\n        //     type: \"success\",\r\n        //     message: \"Hello nDsapp\"\r\n        // },\r\n        // {\r\n        //     id: new ObjectID().toString(),\r\n        //     type: \"err\",\r\n        //     message: \"Hello nDsapp 1\"\r\n        // },\r\n        // {\r\n        //     id: new ObjectID().toString(),\r\n        //     type: \"warning\",\r\n        //     message: \"Hello nDsapp 2\"\r\n        // },\r\n        // {\r\n        //     id: new ObjectID().toString(),\r\n        //     type: \"none\",\r\n        //     message: \"Hello nDsapp 3\"\r\n        // },\r\n    ]);\r\n\r\n    const handleAddNotification = () => {\r\n            // console.log(props.type , props.message)\r\n            // console.log(props.state)\r\n            if( props.type && props.message) {\r\n                dispatch({\r\n                    type: \"ADD_NOTIFICATION\",\r\n                    payload: {\r\n                        id: new ObjectID().toString(),\r\n                        type: props.type,\r\n                        message: props.message\r\n                    }\r\n                }, [])\r\n            }\r\n            \r\n    }\r\nReact.useEffect(() => {\r\n    // console.log(props.state)\r\n    if(props.state){\r\n        handleAddNotification()\r\n    }\r\n}, [props.state])\r\n\r\n  \r\n   \r\n    return (\r\n        <>\r\n        {/* <NotificationContext.Provider> */}\r\n            <div className={\"notification-wrapper\"}>\r\n                {state.map(note =>{\r\n                    return <Notification dispatch={dispatch} key={note.id} {...note} />\r\n                })}\r\n            </div>\r\n            {props.children}\r\n        {/* </NotificationContext.Provider> */}\r\n        </>\r\n    )\r\n};\r\nexport default NotificationProvider","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Auth0Provider } from '@auth0/auth0-react';\nimport * as serviceWorker from './serviceWorker';\nimport NotificationProvider from './notifications/NotificationProvider'\nimport {\n  BrowserRouter as Router\n} from \"react-router-dom\";\n\n\nReactDOM.render(\n    <Router>\n\n     <Auth0Provider\n      domain=\"ndscoop.us.auth0.com\"\n      clientId=\"VjJpWQ2c7EELPIisJatPwQMM4Mh1DjsR\"\n      redirectUri={window.location.origin}\n    >\n      <NotificationProvider>\n        <App />\n      </NotificationProvider>\n   \n    </Auth0Provider>\n         \n    </Router>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\n\nserviceWorker.unregister();\n","/**\n * Machine id.\n *\n * Create a random 3-byte value (i.e. unique for this\n * process). Other drivers use a md5 of the machine id here, but\n * that would mean an asyc call to gethostname, so we don't bother.\n * @ignore\n */\nvar MACHINE_ID = parseInt(Math.random() * 0xffffff, 10);\n\n// Regular expression that checks for hex value\nvar checkForHexRegExp = new RegExp('^[0-9a-fA-F]{24}$');\n\n// Check if buffer exists\ntry {\n    if (Buffer && Buffer.from) var hasBufferType = true;\n} catch (err) {\n    hasBufferType = false;\n}\n\n/**\n * Create a new ObjectID instance\n *\n * @class\n * @param {(string|number)} id Can be a 24 byte hex string, 12 byte binary string or a Number.\n * @property {number} generationTime The generation time of this ObjectId instance\n * @return {ObjectID} instance of ObjectID.\n */\nvar ObjectID = function ObjectID(id) {\n    // Duck-typing to support ObjectId from different npm packages\n    if (id instanceof ObjectID) return id;\n    if (!(this instanceof ObjectID)) return new ObjectID(id);\n\n    this._bsontype = 'ObjectID';\n\n    // The most common usecase (blank id, new objectId instance)\n    if (id == null || typeof id === 'number') {\n        // Generate a new id\n        this.id = this.generate(id);\n        // If we are caching the hex string\n        if (ObjectID.cacheHexString) this.__id = this.toString('hex');\n        // Return the object\n        return;\n    }\n\n    // Check if the passed in id is valid\n    var valid = ObjectID.isValid(id);\n\n    // Throw an error if it's not a valid setup\n    if (!valid && id != null) {\n        throw new Error(\n            'Argument passed in must be a single String of 12 bytes or a string of 24 hex characters'\n        );\n    } else if (valid && typeof id === 'string' && id.length === 24 && hasBufferType) {\n        return new ObjectID(new Buffer(id, 'hex'));\n    } else if (valid && typeof id === 'string' && id.length === 24) {\n        return ObjectID.createFromHexString(id);\n    } else if (id != null && id.length === 12) {\n        // assume 12 byte string\n        this.id = id;\n    } else if (id != null && id.toHexString) {\n        // Duck-typing to support ObjectId from different npm packages\n        return id;\n    } else {\n        throw new Error(\n            'Argument passed in must be a single String of 12 bytes or a string of 24 hex characters'\n        );\n    }\n\n    if (ObjectID.cacheHexString) this.__id = this.toString('hex');\n};\n\n// Allow usage of ObjectId as well as ObjectID\n// var ObjectId = ObjectID;\n\n// Precomputed hex table enables speedy hex string conversion\nvar hexTable = [];\nfor (var i = 0; i < 256; i++) {\n    hexTable[i] = (i <= 15 ? '0' : '') + i.toString(16);\n}\n\n/**\n * Return the ObjectID id as a 24 byte hex string representation\n *\n * @method\n * @return {string} return the 24 byte hex string representation.\n */\nObjectID.prototype.toHexString = function() {\n    if (ObjectID.cacheHexString && this.__id) return this.__id;\n\n    var hexString = '';\n    if (!this.id || !this.id.length) {\n        throw new Error(\n            'invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is [' +\n            JSON.stringify(this.id) +\n            ']'\n        );\n    }\n\n    if (this.id instanceof _Buffer) {\n        hexString = convertToHex(this.id);\n        if (ObjectID.cacheHexString) this.__id = hexString;\n        return hexString;\n    }\n\n    for (var i = 0; i < this.id.length; i++) {\n        hexString += hexTable[this.id.charCodeAt(i)];\n    }\n\n    if (ObjectID.cacheHexString) this.__id = hexString;\n    return hexString;\n};\n\n/**\n * Update the ObjectID index used in generating new ObjectID's on the driver\n *\n * @method\n * @return {number} returns next index value.\n * @ignore\n */\nObjectID.prototype.get_inc = function() {\n    return (ObjectID.index = (ObjectID.index + 1) % 0xffffff);\n};\n\n/**\n * Update the ObjectID index used in generating new ObjectID's on the driver\n *\n * @method\n * @return {number} returns next index value.\n * @ignore\n */\nObjectID.prototype.getInc = function() {\n    return this.get_inc();\n};\n\n/**\n * Generate a 12 byte id buffer used in ObjectID's\n *\n * @method\n * @param {number} [time] optional parameter allowing to pass in a second based timestamp.\n * @return {Buffer} return the 12 byte id buffer string.\n */\nObjectID.prototype.generate = function(time) {\n    if ('number' !== typeof time) {\n        time = ~~(Date.now() / 1000);\n    }\n\n    // Use pid\n    var pid =\n        (typeof process === 'undefined' || process.pid === 1\n            ? Math.floor(Math.random() * 100000)\n            : process.pid) % 0xffff;\n    var inc = this.get_inc();\n    // Buffer used\n    var buffer = new Buffer(12);\n    // Encode time\n    buffer[3] = time & 0xff;\n    buffer[2] = (time >> 8) & 0xff;\n    buffer[1] = (time >> 16) & 0xff;\n    buffer[0] = (time >> 24) & 0xff;\n    // Encode machine\n    buffer[6] = MACHINE_ID & 0xff;\n    buffer[5] = (MACHINE_ID >> 8) & 0xff;\n    buffer[4] = (MACHINE_ID >> 16) & 0xff;\n    // Encode pid\n    buffer[8] = pid & 0xff;\n    buffer[7] = (pid >> 8) & 0xff;\n    // Encode index\n    buffer[11] = inc & 0xff;\n    buffer[10] = (inc >> 8) & 0xff;\n    buffer[9] = (inc >> 16) & 0xff;\n    // Return the buffer\n    return buffer;\n};\n\n/**\n * Converts the id into a 24 byte hex string for printing\n *\n * @param {String} format The Buffer toString format parameter.\n * @return {String} return the 24 byte hex string representation.\n * @ignore\n */\nObjectID.prototype.toString = function(format) {\n    // Is the id a buffer then use the buffer toString method to return the format\n    if (this.id && this.id.copy) {\n        return this.id.toString(typeof format === 'string' ? format : 'hex');\n    }\n\n    // if(this.buffer )\n    return this.toHexString();\n};\n\n/**\n * Converts to a string representation of this Id.\n *\n * @return {String} return the 24 byte hex string representation.\n * @ignore\n */\nObjectID.prototype.inspect = ObjectID.prototype.toString;\n\n/**\n * Converts to its JSON representation.\n *\n * @return {String} return the 24 byte hex string representation.\n * @ignore\n */\nObjectID.prototype.toJSON = function() {\n    return this.toHexString();\n};\n\n/**\n * Compares the equality of this ObjectID with `otherID`.\n *\n * @method\n * @param {object} otherID ObjectID instance to compare against.\n * @return {boolean} the result of comparing two ObjectID's\n */\nObjectID.prototype.equals = function equals(otherId) {\n    // var id;\n\n    if (otherId instanceof ObjectID) {\n        return this.toString() === otherId.toString();\n    } else if (\n        typeof otherId === 'string' &&\n        ObjectID.isValid(otherId) &&\n        otherId.length === 12 &&\n        this.id instanceof _Buffer\n    ) {\n        return otherId === this.id.toString('binary');\n    } else if (typeof otherId === 'string' && ObjectID.isValid(otherId) && otherId.length === 24) {\n        return otherId.toLowerCase() === this.toHexString();\n    } else if (typeof otherId === 'string' && ObjectID.isValid(otherId) && otherId.length === 12) {\n        return otherId === this.id;\n    } else if (otherId != null && (otherId instanceof ObjectID || otherId.toHexString)) {\n        return otherId.toHexString() === this.toHexString();\n    } else {\n        return false;\n    }\n};\n\n/**\n * Returns the generation date (accurate up to the second) that this ID was generated.\n *\n * @method\n * @return {date} the generation date\n */\nObjectID.prototype.getTimestamp = function() {\n    var timestamp = new Date();\n    var time = this.id[3] | (this.id[2] << 8) | (this.id[1] << 16) | (this.id[0] << 24);\n    timestamp.setTime(Math.floor(time) * 1000);\n    return timestamp;\n};\n\n/**\n * @ignore\n */\nObjectID.index = ~~(Math.random() * 0xffffff);\n\n/**\n * @ignore\n */\nObjectID.createPk = function createPk() {\n    return new ObjectID();\n};\n\n/**\n * Creates an ObjectID from a second based number, with the rest of the ObjectID zeroed out. Used for comparisons or sorting the ObjectID.\n *\n * @method\n * @param {number} time an integer number representing a number of seconds.\n * @return {ObjectID} return the created ObjectID\n */\nObjectID.createFromTime = function createFromTime(time) {\n    var buffer = new Buffer([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);\n    // Encode time into first 4 bytes\n    buffer[3] = time & 0xff;\n    buffer[2] = (time >> 8) & 0xff;\n    buffer[1] = (time >> 16) & 0xff;\n    buffer[0] = (time >> 24) & 0xff;\n    // Return the new objectId\n    return new ObjectID(buffer);\n};\n\n// Lookup tables\n//var encodeLookup = '0123456789abcdef'.split('');\nvar decodeLookup = [];\ni = 0;\nwhile (i < 10) decodeLookup[0x30 + i] = i++;\nwhile (i < 16) decodeLookup[0x41 - 10 + i] = decodeLookup[0x61 - 10 + i] = i++;\n\nvar _Buffer = Buffer;\nvar convertToHex = function(bytes) {\n    return bytes.toString('hex');\n};\n\n/**\n * Creates an ObjectID from a hex string representation of an ObjectID.\n *\n * @method\n * @param {string} hexString create a ObjectID from a passed in 24 byte hexstring.\n * @return {ObjectID} return the created ObjectID\n */\nObjectID.createFromHexString = function createFromHexString(string) {\n    // Throw an error if it's not a valid setup\n    if (typeof string === 'undefined' || (string != null && string.length !== 24)) {\n        throw new Error(\n            'Argument passed in must be a single String of 12 bytes or a string of 24 hex characters'\n        );\n    }\n\n    // Use Buffer.from method if available\n    if (hasBufferType) return new ObjectID(new Buffer(string, 'hex'));\n\n    // Calculate lengths\n    var array = new _Buffer(12);\n    var n = 0;\n    var i = 0;\n\n    while (i < 24) {\n        array[n++] = (decodeLookup[string.charCodeAt(i++)] << 4) | decodeLookup[string.charCodeAt(i++)];\n    }\n\n    return new ObjectID(array);\n};\n\n/**\n * Checks if a value is a valid bson ObjectId\n *\n * @method\n * @return {boolean} return true if the value is a valid bson ObjectId, return false otherwise.\n */\nObjectID.isValid = function isValid(id) {\n    if (id == null) return false;\n\n    if (typeof id === 'number') {\n        return true;\n    }\n\n    if (typeof id === 'string') {\n        return id.length === 12 || (id.length === 24 && checkForHexRegExp.test(id));\n    }\n\n    if (id instanceof ObjectID) {\n        return true;\n    }\n\n    if (id instanceof _Buffer) {\n        return true;\n    }\n\n    // Duck-Typing detection of ObjectId like objects\n    if (id.toHexString) {\n        return id.id.length === 12 || (id.id.length === 24 && checkForHexRegExp.test(id.id));\n    }\n\n    return false;\n};\n\n/**\n * @ignore\n */\nObject.defineProperty(ObjectID.prototype, 'generationTime', {\n    enumerable: true,\n    get: function() {\n        return this.id[3] | (this.id[2] << 8) | (this.id[1] << 16) | (this.id[0] << 24);\n    },\n    set: function(value) {\n        // Encode time into first 4 bytes\n        this.id[3] = value & 0xff;\n        this.id[2] = (value >> 8) & 0xff;\n        this.id[1] = (value >> 16) & 0xff;\n        this.id[0] = (value >> 24) & 0xff;\n    }\n});\n\n/**\n * Expose.\n */\nmodule.exports = ObjectID;\nmodule.exports.ObjectID = ObjectID;\nmodule.exports.ObjectId = ObjectID;","import React, { Component } from 'react'\r\n\r\nexport class Datetime1 extends Component {\r\n    constructor(){\r\n        super()\r\n        this.state = { time: new Date() }\r\n    }\r\n    loopTime()\r\n    {\r\n        this.setState({\r\n            time: new Date()\r\n        })\r\n    }\r\n    componentDidMount()\r\n    {\r\n        setInterval(() =>\r\n            this.loopTime(), 1000\r\n        )\r\n    }\r\n    render() {\r\n        return (\r\n            <>\r\n                VietNam, {this.state.time.toLocaleDateString()}-{this.state.time.toLocaleTimeString()}\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Datetime1\r\n","import React from 'react';\r\nimport Datetime1 from './Datetime1';\r\n\r\n//const RoomContext = React.createCo\r\nconst Banner = ({children, title, subtitle}) => {\r\n\t \treturn(\r\n\t\t\t\r\n\t\t\t\t<div className=\"banner\" style={{overflow: 'auto', maxHeight: '40rem', marginTop: '2rem', zIndex: '103'}}>\r\n\t\t\t\t\t<h1>{title}</h1>\r\n\t\t\t\t\t<div></div>\r\n\t\t\t\t\t<Datetime1 />\r\n\t\t\t\t\t<p>{subtitle}</p>\r\n\t\t\t\t\t{children}\r\n\t \t\t\t</div>\r\n\t\t\t\r\n\t \t\t);\r\n\r\n\t};\r\n\t\r\n\r\nexport default Banner"],"sourceRoot":""}